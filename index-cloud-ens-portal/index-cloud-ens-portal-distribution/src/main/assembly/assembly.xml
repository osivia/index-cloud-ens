<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">

    <id>bin</id>
    <formats>
        <format>zip</format>
    </formats>
    <includeBaseDirectory>false</includeBaseDirectory>


    <dependencySets>
        <dependencySet>
            <outputDirectory>webapps</outputDirectory>
            <unpack>false</unpack>
            <scope>runtime</scope>
            <includes>
                <include>toutatice-portail.cms:toutatice-portail-cms-nuxeo-web</include>
                <!-- directory -->
         		<include>fr.index.cloud.ens.portal.directory:index-cloud-ens-portal-directory-packaging</include>                              
                <!-- index education -->
                <include>${project.groupId}:index-cloud-ens-portal-charte</include> 
                <include>${project.groupId}:index-cloud-ens-portal-customizer</include>                 
                <include>${project.groupId}:index-cloud-ens-portal-test</include>                
            </includes>
            <useProjectArtifact>false</useProjectArtifact>
        </dependencySet>

        <dependencySet>
            <outputDirectory>/lib</outputDirectory>
            <unpack>false</unpack>
            <scope>runtime</scope>
            <includes>
                <include>toutatice-portail.cms:toutatice-portail-cms-nuxeo-api</include>
                <include>toutatice-portail.cms:toutatice-portail-cms-nuxeo-taglib</include>                
                <include>toutatice-portail.cms:toutatice-portail-cms-nuxeo-repository</include>                
                <include>commons-lang:commons-lang</include> 
                <include>commons-io:commons-io</include> 
                <include>toutatice-portail.cms:toutatice-portail-cms-nuxeo-automation-client</include>
                <include>org.codehaus.jackson:jackson-core-asl</include>
                <include>org.codehaus.jackson:jackson-mapper-asl</include>
                <include>net.sf.ezmorph:ezmorph</include>
                <include>net.sf.json-lib:json-lib</include>
                <include>commons-beanutils:commons-beanutils</include>
                <include>org.osivia.services.directory.socle:osivia-services-directory-socle-interfaces</include>
                
 
            </includes> 
        </dependencySet>
                            
    </dependencySets>


    <fileSets>
        <!-- Socle -->
        <fileSet>
            <outputDirectory>/</outputDirectory>
            <directory>target/osivia-portal-distribution</directory>
            <includes>
                <include>/**</include>
            </includes>
         </fileSet>

      </fileSets>

</assembly>
