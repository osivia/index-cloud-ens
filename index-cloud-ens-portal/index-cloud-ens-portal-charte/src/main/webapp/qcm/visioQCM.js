/* eslint-disable */
/*! jQuery v3.1.1 | (c) jQuery Foundation | jquery.org/license */
!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";var c=[],d=a.document,e=Object.getPrototypeOf,f=c.slice,g=c.concat,h=c.push,i=c.indexOf,j={},k=j.toString,l=j.hasOwnProperty,m=l.toString,n=m.call(Object),o={};function p(a,b){b=b||d;var c=b.createElement("script");c.text=a,b.head.appendChild(c).parentNode.removeChild(c)}var q="3.1.1",r=function(a,b){return new r.fn.init(a,b)},s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,t=/^-ms-/,u=/-([a-z])/g,v=function(a,b){return b.toUpperCase()};r.fn=r.prototype={jquery:q,constructor:r,length:0,toArray:function(){return f.call(this)},get:function(a){return null==a?f.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var b=r.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return r.each(this,a)},map:function(a){return this.pushStack(r.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(f.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:c.sort,splice:c.splice},r.extend=r.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||r.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(r.isPlainObject(d)||(e=r.isArray(d)))?(e?(e=!1,f=c&&r.isArray(c)?c:[]):f=c&&r.isPlainObject(c)?c:{},g[b]=r.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},r.extend({expando:"jQuery"+(q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===r.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=r.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var b,c;return!(!a||"[object Object]"!==k.call(a))&&(!(b=e(a))||(c=l.call(b,"constructor")&&b.constructor,"function"==typeof c&&m.call(c)===n))},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?j[k.call(a)]||"object":typeof a},globalEval:function(a){p(a)},camelCase:function(a){return a.replace(t,"ms-").replace(u,v)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(w(a)){for(c=a.length;d<c;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(s,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(w(Object(a))?r.merge(c,"string"==typeof a?[a]:a):h.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:i.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,f=0,h=[];if(w(a))for(d=a.length;f<d;f++)e=b(a[f],f,c),null!=e&&h.push(e);else for(f in a)e=b(a[f],f,c),null!=e&&h.push(e);return g.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),r.isFunction(a))return d=f.call(arguments,2),e=function(){return a.apply(b||this,d.concat(f.call(arguments)))},e.guid=a.guid=a.guid||r.guid++,e},now:Date.now,support:o}),"function"==typeof Symbol&&(r.fn[Symbol.iterator]=c[Symbol.iterator]),r.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){j["[object "+b+"]"]=b.toLowerCase()});function w(a){var b=!!a&&"length"in a&&a.length,c=r.type(a);return"function"!==c&&!r.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}var x=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",M="\\["+K+"*("+L+")(?:"+K+"*([*^$|!~]?=)"+K+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+K+"*\\]",N=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",O=new RegExp(K+"+","g"),P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(N),U=new RegExp("^"+L+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),aa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ba=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ca=function(a,b){return b?"\0"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},da=function(){m()},ea=ta(function(a){return a.disabled===!0&&("form"in a||"label"in a)},{dir:"parentNode",next:"legend"});try{G.apply(D=H.call(v.childNodes),v.childNodes),D[v.childNodes.length].nodeType}catch(fa){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s=b&&b.ownerDocument,w=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==w&&9!==w&&11!==w)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==w&&(l=Z.exec(a)))if(f=l[1]){if(9===w){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(s&&(j=s.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(l[2])return G.apply(d,b.getElementsByTagName(a)),d;if((f=l[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==w)s=b,r=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(ba,ca):b.setAttribute("id",k=u),o=g(a),h=o.length;while(h--)o[h]="#"+k+" "+sa(o[h]);r=o.join(","),s=$.test(a)&&qa(b.parentNode)||b}if(r)try{return G.apply(d,s.querySelectorAll(r)),d}catch(x){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(P,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("fieldset");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return function(b){return"form"in b?b.parentNode&&b.disabled===!1?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&ea(b)===a:b.disabled===a:"label"in b&&b.disabled===a}}function pa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function qa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),v!==n&&(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(n.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){return a.getAttribute("id")===b}},d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}}):(d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}},d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c,d,e,f=b.getElementById(a);if(f){if(c=f.getAttributeNode("id"),c&&c.value===a)return[f];e=b.getElementsByName(a),d=0;while(f=e[d++])if(c=f.getAttributeNode("id"),c&&c.value===a)return[f]}return[]}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){if("undefined"!=typeof b.getElementsByClassName&&p)return b.getElementsByClassName(a)},r=[],q=[],(c.qsa=Y.test(n.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+K+"*[*^$|!~]?="),2!==a.querySelectorAll(":enabled").length&&q.push(":enabled",":disabled"),o.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Y.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"*"),s.call(a,"[s!='']:x"),r.push("!=",N)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Y.test(o.compareDocumentPosition),t=b||Y.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?I(k,a)-I(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?I(k,a)-I(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?la(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(S,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.escape=function(a){return(a+"").replace(ba,ca)},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(_,aa),a[3]=(a[3]||a[4]||a[5]||"").replace(_,aa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return V.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&T.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(_,aa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(O," ")+" ").indexOf(c)>-1:"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=I(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(P,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(_,aa),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return U.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(_,aa).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:oa(!1),disabled:oa(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:pa(function(){return[0]}),last:pa(function(a,b){return[b-1]}),eq:pa(function(a,b,c){return[c<0?c+b:c]}),even:pa(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:pa(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:pa(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:pa(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function ra(){}ra.prototype=d.filters=d.pseudos,d.setFilters=new ra,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=Q.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter)!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function sa(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function ta(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=x++;return b.first?function(b,c,e){while(b=b[d])if(1===b.nodeType||g)return a(b,c,e);return!1}:function(b,c,i){var j,k,l,m=[w,h];if(i){while(b=b[d])if((1===b.nodeType||g)&&a(b,c,i))return!0}else while(b=b[d])if(1===b.nodeType||g)if(l=b[u]||(b[u]={}),k=l[b.uniqueID]||(l[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((j=k[f])&&j[0]===w&&j[1]===h)return m[2]=j[2];if(k[f]=m,m[2]=a(b,c,i))return!0}return!1}}function ua(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function va(a,b,c){for(var d=0,e=b.length;d<e;d++)ga(a,b[d],c);return c}function wa(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function xa(a,b,c,d,e,f){return d&&!d[u]&&(d=xa(d)),e&&!e[u]&&(e=xa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||va(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:wa(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=wa(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?I(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=wa(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function ya(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ta(function(a){return a===b},h,!0),l=ta(function(a){return I(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];i<f;i++)if(c=d.relative[a[i].type])m=[ta(ua(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;e<f;e++)if(d.relative[a[e].type])break;return xa(i>1&&ua(m),i>1&&sa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(P,"$1"),c,i<e&&ya(a.slice(i,e)),e<f&&ya(a=a.slice(e)),e<f&&sa(a))}m.push(c)}return ua(m)}function za(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=E.call(i));u=wa(u)}G.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&ga.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=ya(b[c]),f[u]?d.push(f):e.push(f);f=A(a,za(e,d)),f.selector=a}return f},i=ga.select=function(a,b,c,e){var f,i,j,k,l,m="function"==typeof a&&a,n=!e&&g(a=m.selector||a);if(c=c||[],1===n.length){if(i=n[0]=n[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&9===b.nodeType&&p&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(_,aa),b)||[])[0],!b)return c;m&&(b=b.parentNode),a=a.slice(i.shift().value.length)}f=V.needsContext.test(a)?0:i.length;while(f--){if(j=i[f],d.relative[k=j.type])break;if((l=d.find[k])&&(e=l(j.matches[0].replace(_,aa),$.test(i[0].type)&&qa(b.parentNode)||b))){if(i.splice(f,1),a=e.length&&sa(i),!a)return G.apply(c,e),c;break}}}return(m||h(a,n))(e,b,!p,c,!b||$.test(a)&&qa(b.parentNode)||b),c},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("fieldset"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(J,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);r.find=x,r.expr=x.selectors,r.expr[":"]=r.expr.pseudos,r.uniqueSort=r.unique=x.uniqueSort,r.text=x.getText,r.isXMLDoc=x.isXML,r.contains=x.contains,r.escapeSelector=x.escape;var y=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&r(a).is(c))break;d.push(a)}return d},z=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},A=r.expr.match.needsContext,B=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,C=/^.[^:#\[\.,]*$/;function D(a,b,c){return r.isFunction(b)?r.grep(a,function(a,d){return!!b.call(a,d,a)!==c}):b.nodeType?r.grep(a,function(a){return a===b!==c}):"string"!=typeof b?r.grep(a,function(a){return i.call(b,a)>-1!==c}):C.test(b)?r.filter(b,a,c):(b=r.filter(b,a),r.grep(a,function(a){return i.call(b,a)>-1!==c&&1===a.nodeType}))}r.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?r.find.matchesSelector(d,a)?[d]:[]:r.find.matches(a,r.grep(b,function(a){return 1===a.nodeType}))},r.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(r(a).filter(function(){for(b=0;b<d;b++)if(r.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;b<d;b++)r.find(a,e[b],c);return d>1?r.uniqueSort(c):c},filter:function(a){return this.pushStack(D(this,a||[],!1))},not:function(a){return this.pushStack(D(this,a||[],!0))},is:function(a){return!!D(this,"string"==typeof a&&A.test(a)?r(a):a||[],!1).length}});var E,F=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,G=r.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||E,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:F.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof r?b[0]:b,r.merge(this,r.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),B.test(e[1])&&r.isPlainObject(b))for(e in b)r.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&(this[0]=f,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):r.isFunction(a)?void 0!==c.ready?c.ready(a):a(r):r.makeArray(a,this)};G.prototype=r.fn,E=r(d);var H=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};r.fn.extend({has:function(a){var b=r(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(r.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&r(a);if(!A.test(a))for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&r.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?r.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?i.call(r(a),this[0]):i.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(r.uniqueSort(r.merge(this.get(),r(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function J(a,b){while((a=a[b])&&1!==a.nodeType);return a}r.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return y(a,"parentNode")},parentsUntil:function(a,b,c){return y(a,"parentNode",c)},next:function(a){return J(a,"nextSibling")},prev:function(a){return J(a,"previousSibling")},nextAll:function(a){return y(a,"nextSibling")},prevAll:function(a){return y(a,"previousSibling")},nextUntil:function(a,b,c){return y(a,"nextSibling",c)},prevUntil:function(a,b,c){return y(a,"previousSibling",c)},siblings:function(a){return z((a.parentNode||{}).firstChild,a)},children:function(a){return z(a.firstChild)},contents:function(a){return a.contentDocument||r.merge([],a.childNodes)}},function(a,b){r.fn[a]=function(c,d){var e=r.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=r.filter(d,e)),this.length>1&&(I[a]||r.uniqueSort(e),H.test(a)&&e.reverse()),this.pushStack(e)}});var K=/[^\x20\t\r\n\f]+/g;function L(a){var b={};return r.each(a.match(K)||[],function(a,c){b[c]=!0}),b}r.Callbacks=function(a){a="string"==typeof a?L(a):r.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){r.each(b,function(b,c){r.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==r.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return r.each(arguments,function(a,b){var c;while((c=r.inArray(b,f,c))>-1)f.splice(c,1),c<=h&&h--}),this},has:function(a){return a?r.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||b||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j};function M(a){return a}function N(a){throw a}function O(a,b,c){var d;try{a&&r.isFunction(d=a.promise)?d.call(a).done(b).fail(c):a&&r.isFunction(d=a.then)?d.call(a,b,c):b.call(void 0,a)}catch(a){c.call(void 0,a)}}r.extend({Deferred:function(b){var c=[["notify","progress",r.Callbacks("memory"),r.Callbacks("memory"),2],["resolve","done",r.Callbacks("once memory"),r.Callbacks("once memory"),0,"resolved"],["reject","fail",r.Callbacks("once memory"),r.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},"catch":function(a){return e.then(null,a)},pipe:function(){var a=arguments;return r.Deferred(function(b){r.each(c,function(c,d){var e=r.isFunction(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);a&&r.isFunction(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(b,d,e){var f=0;function g(b,c,d,e){return function(){var h=this,i=arguments,j=function(){var a,j;if(!(b<f)){if(a=d.apply(h,i),a===c.promise())throw new TypeError("Thenable self-resolution");j=a&&("object"==typeof a||"function"==typeof a)&&a.then,r.isFunction(j)?e?j.call(a,g(f,c,M,e),g(f,c,N,e)):(f++,j.call(a,g(f,c,M,e),g(f,c,N,e),g(f,c,M,c.notifyWith))):(d!==M&&(h=void 0,i=[a]),(e||c.resolveWith)(h,i))}},k=e?j:function(){try{j()}catch(a){r.Deferred.exceptionHook&&r.Deferred.exceptionHook(a,k.stackTrace),b+1>=f&&(d!==N&&(h=void 0,i=[a]),c.rejectWith(h,i))}};b?k():(r.Deferred.getStackHook&&(k.stackTrace=r.Deferred.getStackHook()),a.setTimeout(k))}}return r.Deferred(function(a){c[0][3].add(g(0,a,r.isFunction(e)?e:M,a.notifyWith)),c[1][3].add(g(0,a,r.isFunction(b)?b:M)),c[2][3].add(g(0,a,r.isFunction(d)?d:N))}).promise()},promise:function(a){return null!=a?r.extend(a,e):e}},f={};return r.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add,h&&g.add(function(){d=h},c[3-a][2].disable,c[0][2].lock),g.add(b[3].fire),f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this},f[b[0]+"With"]=g.fireWith}),e.promise(f),b&&b.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=f.call(arguments),g=r.Deferred(),h=function(a){return function(c){d[a]=this,e[a]=arguments.length>1?f.call(arguments):c,--b||g.resolveWith(d,e)}};if(b<=1&&(O(a,g.done(h(c)).resolve,g.reject),"pending"===g.state()||r.isFunction(e[c]&&e[c].then)))return g.then();while(c--)O(e[c],h(c),g.reject);return g.promise()}});var P=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;r.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&P.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)},r.readyException=function(b){a.setTimeout(function(){throw b})};var Q=r.Deferred();r.fn.ready=function(a){return Q.then(a)["catch"](function(a){r.readyException(a)}),this},r.extend({isReady:!1,readyWait:1,holdReady:function(a){a?r.readyWait++:r.ready(!0)},ready:function(a){(a===!0?--r.readyWait:r.isReady)||(r.isReady=!0,a!==!0&&--r.readyWait>0||Q.resolveWith(d,[r]))}}),r.ready.then=Q.then;function R(){d.removeEventListener("DOMContentLoaded",R),
a.removeEventListener("load",R),r.ready()}"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(r.ready):(d.addEventListener("DOMContentLoaded",R),a.addEventListener("load",R));var S=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===r.type(c)){e=!0;for(h in c)S(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,r.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(r(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},T=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function U(){this.expando=r.expando+U.uid++}U.uid=1,U.prototype={cache:function(a){var b=a[this.expando];return b||(b={},T(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[r.camelCase(b)]=c;else for(d in b)e[r.camelCase(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][r.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){r.isArray(b)?b=b.map(r.camelCase):(b=r.camelCase(b),b=b in d?[b]:b.match(K)||[]),c=b.length;while(c--)delete d[b[c]]}(void 0===b||r.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!r.isEmptyObject(b)}};var V=new U,W=new U,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Y=/[A-Z]/g;function Z(a){return"true"===a||"false"!==a&&("null"===a?null:a===+a+""?+a:X.test(a)?JSON.parse(a):a)}function $(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Y,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c=Z(c)}catch(e){}W.set(a,b,c)}else c=void 0;return c}r.extend({hasData:function(a){return W.hasData(a)||V.hasData(a)},data:function(a,b,c){return W.access(a,b,c)},removeData:function(a,b){W.remove(a,b)},_data:function(a,b,c){return V.access(a,b,c)},_removeData:function(a,b){V.remove(a,b)}}),r.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=W.get(f),1===f.nodeType&&!V.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=r.camelCase(d.slice(5)),$(f,d,e[d])));V.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){W.set(this,a)}):S(this,function(b){var c;if(f&&void 0===b){if(c=W.get(f,a),void 0!==c)return c;if(c=$(f,a),void 0!==c)return c}else this.each(function(){W.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){W.remove(this,a)})}}),r.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=V.get(a,b),c&&(!d||r.isArray(c)?d=V.access(a,b,r.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=r.queue(a,b),d=c.length,e=c.shift(),f=r._queueHooks(a,b),g=function(){r.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return V.get(a,c)||V.access(a,c,{empty:r.Callbacks("once memory").add(function(){V.remove(a,[b+"queue",c])})})}}),r.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?r.queue(this[0],a):void 0===b?this:this.each(function(){var c=r.queue(this,a,b);r._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&r.dequeue(this,a)})},dequeue:function(a){return this.each(function(){r.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=r.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=V.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var _=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,aa=new RegExp("^(?:([+-])=|)("+_+")([a-z%]*)$","i"),ba=["Top","Right","Bottom","Left"],ca=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&r.contains(a.ownerDocument,a)&&"none"===r.css(a,"display")},da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};function ea(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return r.css(a,b,"")},i=h(),j=c&&c[3]||(r.cssNumber[b]?"":"px"),k=(r.cssNumber[b]||"px"!==j&&+i)&&aa.exec(r.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,r.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var fa={};function ga(a){var b,c=a.ownerDocument,d=a.nodeName,e=fa[d];return e?e:(b=c.body.appendChild(c.createElement(d)),e=r.css(b,"display"),b.parentNode.removeChild(b),"none"===e&&(e="block"),fa[d]=e,e)}function ha(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++)d=a[f],d.style&&(c=d.style.display,b?("none"===c&&(e[f]=V.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&ca(d)&&(e[f]=ga(d))):"none"!==c&&(e[f]="none",V.set(d,"display",c)));for(f=0;f<g;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}r.fn.extend({show:function(){return ha(this,!0)},hide:function(){return ha(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){ca(this)?r(this).show():r(this).hide()})}});var ia=/^(?:checkbox|radio)$/i,ja=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ka=/^$|\/(?:java|ecma)script/i,la={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};la.optgroup=la.option,la.tbody=la.tfoot=la.colgroup=la.caption=la.thead,la.th=la.td;function ma(a,b){var c;return c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&r.nodeName(a,b)?r.merge([a],c):c}function na(a,b){for(var c=0,d=a.length;c<d;c++)V.set(a[c],"globalEval",!b||V.get(b[c],"globalEval"))}var oa=/<|&#?\w+;/;function pa(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],n=0,o=a.length;n<o;n++)if(f=a[n],f||0===f)if("object"===r.type(f))r.merge(m,f.nodeType?[f]:f);else if(oa.test(f)){g=g||l.appendChild(b.createElement("div")),h=(ja.exec(f)||["",""])[1].toLowerCase(),i=la[h]||la._default,g.innerHTML=i[1]+r.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;r.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",n=0;while(f=m[n++])if(d&&r.inArray(f,d)>-1)e&&e.push(f);else if(j=r.contains(f.ownerDocument,f),g=ma(l.appendChild(f),"script"),j&&na(g),c){k=0;while(f=g[k++])ka.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),o.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",o.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var qa=d.documentElement,ra=/^key/,sa=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ta=/^([^.]*)(?:\.(.+)|)/;function ua(){return!0}function va(){return!1}function wa(){try{return d.activeElement}catch(a){}}function xa(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)xa(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=va;else if(!e)return a;return 1===f&&(g=e,e=function(a){return r().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=r.guid++)),a.each(function(){r.event.add(this,b,e,d,c)})}r.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=V.get(a);if(q){c.handler&&(f=c,c=f.handler,e=f.selector),e&&r.find.matchesSelector(qa,e),c.guid||(c.guid=r.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof r&&r.event.triggered!==b.type?r.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(K)||[""],j=b.length;while(j--)h=ta.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=r.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=r.event.special[n]||{},k=r.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&r.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),r.event.global[n]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=V.hasData(a)&&V.get(a);if(q&&(i=q.events)){b=(b||"").match(K)||[""],j=b.length;while(j--)if(h=ta.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){l=r.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||r.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)r.event.remove(a,n+b[j],c,d,!0);r.isEmptyObject(i)&&V.remove(a,"handle events")}},dispatch:function(a){var b=r.event.fix(a),c,d,e,f,g,h,i=new Array(arguments.length),j=(V.get(this,"events")||{})[b.type]||[],k=r.event.special[b.type]||{};for(i[0]=b,c=1;c<arguments.length;c++)i[c]=arguments[c];if(b.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,b)!==!1){h=r.event.handlers.call(this,b,j),c=0;while((f=h[c++])&&!b.isPropagationStopped()){b.currentTarget=f.elem,d=0;while((g=f.handlers[d++])&&!b.isImmediatePropagationStopped())b.rnamespace&&!b.rnamespace.test(g.namespace)||(b.handleObj=g,b.data=g.data,e=((r.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(b.result=e)===!1&&(b.preventDefault(),b.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,b),b.result}},handlers:function(a,b){var c,d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&!("click"===a.type&&a.button>=1))for(;j!==this;j=j.parentNode||this)if(1===j.nodeType&&("click"!==a.type||j.disabled!==!0)){for(f=[],g={},c=0;c<i;c++)d=b[c],e=d.selector+" ",void 0===g[e]&&(g[e]=d.needsContext?r(e,this).index(j)>-1:r.find(e,this,null,[j]).length),g[e]&&f.push(d);f.length&&h.push({elem:j,handlers:f})}return j=this,i<b.length&&h.push({elem:j,handlers:b.slice(i)}),h},addProp:function(a,b){Object.defineProperty(r.Event.prototype,a,{enumerable:!0,configurable:!0,get:r.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[r.expando]?a:new r.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==wa()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===wa()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&r.nodeName(this,"input"))return this.click(),!1},_default:function(a){return r.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},r.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},r.Event=function(a,b){return this instanceof r.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ua:va,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&r.extend(this,b),this.timeStamp=a&&a.timeStamp||r.now(),void(this[r.expando]=!0)):new r.Event(a,b)},r.Event.prototype={constructor:r.Event,isDefaultPrevented:va,isPropagationStopped:va,isImmediatePropagationStopped:va,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ua,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ua,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ua,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},r.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&ra.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&sa.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},r.event.addProp),r.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){r.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||r.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),r.fn.extend({on:function(a,b,c,d){return xa(this,a,b,c,d)},one:function(a,b,c,d){return xa(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,r(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=va),this.each(function(){r.event.remove(this,a,c,b)})}});var ya=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,za=/<script|<style|<link/i,Aa=/checked\s*(?:[^=]|=\s*.checked.)/i,Ba=/^true\/(.*)/,Ca=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Da(a,b){return r.nodeName(a,"table")&&r.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a:a}function Ea(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function Fa(a){var b=Ba.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Ga(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(V.hasData(a)&&(f=V.access(a),g=V.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)r.event.add(b,e,j[e][c])}W.hasData(a)&&(h=W.access(a),i=r.extend({},h),W.set(b,i))}}function Ha(a,b){var c=b.nodeName.toLowerCase();"input"===c&&ia.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function Ia(a,b,c,d){b=g.apply([],b);var e,f,h,i,j,k,l=0,m=a.length,n=m-1,q=b[0],s=r.isFunction(q);if(s||m>1&&"string"==typeof q&&!o.checkClone&&Aa.test(q))return a.each(function(e){var f=a.eq(e);s&&(b[0]=q.call(this,e,f.html())),Ia(f,b,c,d)});if(m&&(e=pa(b,a[0].ownerDocument,!1,a,d),f=e.firstChild,1===e.childNodes.length&&(e=f),f||d)){for(h=r.map(ma(e,"script"),Ea),i=h.length;l<m;l++)j=e,l!==n&&(j=r.clone(j,!0,!0),i&&r.merge(h,ma(j,"script"))),c.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,r.map(h,Fa),l=0;l<i;l++)j=h[l],ka.test(j.type||"")&&!V.access(j,"globalEval")&&r.contains(k,j)&&(j.src?r._evalUrl&&r._evalUrl(j.src):p(j.textContent.replace(Ca,""),k))}return a}function Ja(a,b,c){for(var d,e=b?r.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||r.cleanData(ma(d)),d.parentNode&&(c&&r.contains(d.ownerDocument,d)&&na(ma(d,"script")),d.parentNode.removeChild(d));return a}r.extend({htmlPrefilter:function(a){return a.replace(ya,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=r.contains(a.ownerDocument,a);if(!(o.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||r.isXMLDoc(a)))for(g=ma(h),f=ma(a),d=0,e=f.length;d<e;d++)Ha(f[d],g[d]);if(b)if(c)for(f=f||ma(a),g=g||ma(h),d=0,e=f.length;d<e;d++)Ga(f[d],g[d]);else Ga(a,h);return g=ma(h,"script"),g.length>0&&na(g,!i&&ma(a,"script")),h},cleanData:function(a){for(var b,c,d,e=r.event.special,f=0;void 0!==(c=a[f]);f++)if(T(c)){if(b=c[V.expando]){if(b.events)for(d in b.events)e[d]?r.event.remove(c,d):r.removeEvent(c,d,b.handle);c[V.expando]=void 0}c[W.expando]&&(c[W.expando]=void 0)}}}),r.fn.extend({detach:function(a){return Ja(this,a,!0)},remove:function(a){return Ja(this,a)},text:function(a){return S(this,function(a){return void 0===a?r.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return Ia(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Da(this,a);b.appendChild(a)}})},prepend:function(){return Ia(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Da(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return Ia(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Ia(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(r.cleanData(ma(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return r.clone(this,a,b)})},html:function(a){return S(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!za.test(a)&&!la[(ja.exec(a)||["",""])[1].toLowerCase()]){a=r.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(r.cleanData(ma(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ia(this,arguments,function(b){var c=this.parentNode;r.inArray(this,a)<0&&(r.cleanData(ma(this)),c&&c.replaceChild(b,this))},a)}}),r.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){r.fn[a]=function(a){for(var c,d=[],e=r(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),r(e[g])[b](c),h.apply(d,c.get());return this.pushStack(d)}});var Ka=/^margin/,La=new RegExp("^("+_+")(?!px)[a-z%]+$","i"),Ma=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)};!function(){function b(){if(i){i.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i.innerHTML="",qa.appendChild(h);var b=a.getComputedStyle(i);c="1%"!==b.top,g="2px"===b.marginLeft,e="4px"===b.width,i.style.marginRight="50%",f="4px"===b.marginRight,qa.removeChild(h),i=null}}var c,e,f,g,h=d.createElement("div"),i=d.createElement("div");i.style&&(i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",o.clearCloneStyle="content-box"===i.style.backgroundClip,h.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.appendChild(i),r.extend(o,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return b(),e},pixelMarginRight:function(){return b(),f},reliableMarginLeft:function(){return b(),g}}))}();function Na(a,b,c){var d,e,f,g,h=a.style;return c=c||Ma(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||r.contains(a.ownerDocument,a)||(g=r.style(a,b)),!o.pixelMarginRight()&&La.test(g)&&Ka.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function Oa(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Pa=/^(none|table(?!-c[ea]).+)/,Qa={position:"absolute",visibility:"hidden",display:"block"},Ra={letterSpacing:"0",fontWeight:"400"},Sa=["Webkit","Moz","ms"],Ta=d.createElement("div").style;function Ua(a){if(a in Ta)return a;var b=a[0].toUpperCase()+a.slice(1),c=Sa.length;while(c--)if(a=Sa[c]+b,a in Ta)return a}function Va(a,b,c){var d=aa.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Wa(a,b,c,d,e){var f,g=0;for(f=c===(d?"border":"content")?4:"width"===b?1:0;f<4;f+=2)"margin"===c&&(g+=r.css(a,c+ba[f],!0,e)),d?("content"===c&&(g-=r.css(a,"padding"+ba[f],!0,e)),"margin"!==c&&(g-=r.css(a,"border"+ba[f]+"Width",!0,e))):(g+=r.css(a,"padding"+ba[f],!0,e),"padding"!==c&&(g+=r.css(a,"border"+ba[f]+"Width",!0,e)));return g}function Xa(a,b,c){var d,e=!0,f=Ma(a),g="border-box"===r.css(a,"boxSizing",!1,f);if(a.getClientRects().length&&(d=a.getBoundingClientRect()[b]),d<=0||null==d){if(d=Na(a,b,f),(d<0||null==d)&&(d=a.style[b]),La.test(d))return d;e=g&&(o.boxSizingReliable()||d===a.style[b]),d=parseFloat(d)||0}return d+Wa(a,b,c||(g?"border":"content"),e,f)+"px"}r.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Na(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=r.camelCase(b),i=a.style;return b=r.cssProps[h]||(r.cssProps[h]=Ua(h)||h),g=r.cssHooks[b]||r.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=aa.exec(c))&&e[1]&&(c=ea(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(r.cssNumber[h]?"":"px")),o.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=r.camelCase(b);return b=r.cssProps[h]||(r.cssProps[h]=Ua(h)||h),g=r.cssHooks[b]||r.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Na(a,b,d)),"normal"===e&&b in Ra&&(e=Ra[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),r.each(["height","width"],function(a,b){r.cssHooks[b]={get:function(a,c,d){if(c)return!Pa.test(r.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?Xa(a,b,d):da(a,Qa,function(){return Xa(a,b,d)})},set:function(a,c,d){var e,f=d&&Ma(a),g=d&&Wa(a,b,d,"border-box"===r.css(a,"boxSizing",!1,f),f);return g&&(e=aa.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=r.css(a,b)),Va(a,c,g)}}}),r.cssHooks.marginLeft=Oa(o.reliableMarginLeft,function(a,b){if(b)return(parseFloat(Na(a,"marginLeft"))||a.getBoundingClientRect().left-da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),r.each({margin:"",padding:"",border:"Width"},function(a,b){r.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+ba[d]+b]=f[d]||f[d-2]||f[0];return e}},Ka.test(a)||(r.cssHooks[a+b].set=Va)}),r.fn.extend({css:function(a,b){return S(this,function(a,b,c){var d,e,f={},g=0;if(r.isArray(b)){for(d=Ma(a),e=b.length;g<e;g++)f[b[g]]=r.css(a,b[g],!1,d);return f}return void 0!==c?r.style(a,b,c):r.css(a,b)},a,b,arguments.length>1)}});function Ya(a,b,c,d,e){return new Ya.prototype.init(a,b,c,d,e)}r.Tween=Ya,Ya.prototype={constructor:Ya,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||r.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(r.cssNumber[c]?"":"px")},cur:function(){var a=Ya.propHooks[this.prop];return a&&a.get?a.get(this):Ya.propHooks._default.get(this)},run:function(a){var b,c=Ya.propHooks[this.prop];return this.options.duration?this.pos=b=r.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ya.propHooks._default.set(this),this}},Ya.prototype.init.prototype=Ya.prototype,Ya.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=r.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){r.fx.step[a.prop]?r.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[r.cssProps[a.prop]]&&!r.cssHooks[a.prop]?a.elem[a.prop]=a.now:r.style(a.elem,a.prop,a.now+a.unit)}}},Ya.propHooks.scrollTop=Ya.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},r.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},r.fx=Ya.prototype.init,r.fx.step={};var Za,$a,_a=/^(?:toggle|show|hide)$/,ab=/queueHooks$/;function bb(){$a&&(a.requestAnimationFrame(bb),r.fx.tick())}function cb(){return a.setTimeout(function(){Za=void 0}),Za=r.now()}function db(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=ba[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function eb(a,b,c){for(var d,e=(hb.tweeners[b]||[]).concat(hb.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function fb(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&ca(a),q=V.get(a,"fxshow");c.queue||(g=r._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,r.queue(a,"fx").length||g.empty.fire()})}));for(d in b)if(e=b[d],_a.test(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}n[d]=q&&q[d]||r.style(a,d)}if(i=!r.isEmptyObject(b),i||!r.isEmptyObject(n)){l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=q&&q.display,null==j&&(j=V.get(a,"display")),k=r.css(a,"display"),"none"===k&&(j?k=j:(ha([a],!0),j=a.style.display||j,k=r.css(a,"display"),ha([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===r.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1;for(d in n)i||(q?"hidden"in q&&(p=q.hidden):q=V.access(a,"fxshow",{display:j}),f&&(q.hidden=!p),p&&ha([a],!0),m.done(function(){p||ha([a]),V.remove(a,"fxshow");for(d in n)r.style(a,d,n[d])})),i=eb(p?q[d]:0,d,m),d in q||(q[d]=i.start,p&&(i.end=i.start,i.start=0))}}function gb(a,b){var c,d,e,f,g;for(c in a)if(d=r.camelCase(c),e=b[d],f=a[c],r.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=r.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function hb(a,b,c){var d,e,f=0,g=hb.prefilters.length,h=r.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Za||cb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:r.extend({},b),opts:r.extend(!0,{specialEasing:{},easing:r.easing._default},c),originalProperties:b,originalOptions:c,startTime:Za||cb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=r.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(gb(k,j.opts.specialEasing);f<g;f++)if(d=hb.prefilters[f].call(j,a,k,j.opts))return r.isFunction(d.stop)&&(r._queueHooks(j.elem,j.opts.queue).stop=r.proxy(d.stop,d)),d;return r.map(k,eb,j),r.isFunction(j.opts.start)&&j.opts.start.call(a,j),r.fx.timer(r.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}r.Animation=r.extend(hb,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return ea(c.elem,a,aa.exec(b),c),c}]},tweener:function(a,b){r.isFunction(a)?(b=a,a=["*"]):a=a.match(K);for(var c,d=0,e=a.length;d<e;d++)c=a[d],hb.tweeners[c]=hb.tweeners[c]||[],hb.tweeners[c].unshift(b)},prefilters:[fb],prefilter:function(a,b){b?hb.prefilters.unshift(a):hb.prefilters.push(a)}}),r.speed=function(a,b,c){var e=a&&"object"==typeof a?r.extend({},a):{complete:c||!c&&b||r.isFunction(a)&&a,duration:a,easing:c&&b||b&&!r.isFunction(b)&&b};return r.fx.off||d.hidden?e.duration=0:"number"!=typeof e.duration&&(e.duration in r.fx.speeds?e.duration=r.fx.speeds[e.duration]:e.duration=r.fx.speeds._default),null!=e.queue&&e.queue!==!0||(e.queue="fx"),e.old=e.complete,e.complete=function(){r.isFunction(e.old)&&e.old.call(this),e.queue&&r.dequeue(this,e.queue)},e},r.fn.extend({fadeTo:function(a,b,c,d){return this.filter(ca).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=r.isEmptyObject(a),f=r.speed(b,c,d),g=function(){var b=hb(this,r.extend({},a),f);(e||V.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=r.timers,g=V.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&ab.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||r.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=V.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=r.timers,g=d?d.length:0;for(c.finish=!0,r.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),r.each(["toggle","show","hide"],function(a,b){var c=r.fn[b];r.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(db(b,!0),a,d,e)}}),r.each({slideDown:db("show"),slideUp:db("hide"),slideToggle:db("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){r.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),r.timers=[],r.fx.tick=function(){var a,b=0,c=r.timers;for(Za=r.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||r.fx.stop(),Za=void 0},r.fx.timer=function(a){r.timers.push(a),a()?r.fx.start():r.timers.pop()},r.fx.interval=13,r.fx.start=function(){$a||($a=a.requestAnimationFrame?a.requestAnimationFrame(bb):a.setInterval(r.fx.tick,r.fx.interval))},r.fx.stop=function(){a.cancelAnimationFrame?a.cancelAnimationFrame($a):a.clearInterval($a),$a=null},r.fx.speeds={slow:600,fast:200,_default:400},r.fn.delay=function(b,c){return b=r.fx?r.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",o.checkOn=""!==a.value,o.optSelected=c.selected,a=d.createElement("input"),a.value="t",a.type="radio",o.radioValue="t"===a.value}();var ib,jb=r.expr.attrHandle;r.fn.extend({attr:function(a,b){return S(this,r.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){r.removeAttr(this,a)})}}),r.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?r.prop(a,b,c):(1===f&&r.isXMLDoc(a)||(e=r.attrHooks[b.toLowerCase()]||(r.expr.match.bool.test(b)?ib:void 0)),
void 0!==c?null===c?void r.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=r.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!o.radioValue&&"radio"===b&&r.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(K);if(e&&1===a.nodeType)while(c=e[d++])a.removeAttribute(c)}}),ib={set:function(a,b,c){return b===!1?r.removeAttr(a,c):a.setAttribute(c,c),c}},r.each(r.expr.match.bool.source.match(/\w+/g),function(a,b){var c=jb[b]||r.find.attr;jb[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=jb[g],jb[g]=e,e=null!=c(a,b,d)?g:null,jb[g]=f),e}});var kb=/^(?:input|select|textarea|button)$/i,lb=/^(?:a|area)$/i;r.fn.extend({prop:function(a,b){return S(this,r.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[r.propFix[a]||a]})}}),r.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&r.isXMLDoc(a)||(b=r.propFix[b]||b,e=r.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=r.find.attr(a,"tabindex");return b?parseInt(b,10):kb.test(a.nodeName)||lb.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),o.optSelected||(r.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),r.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){r.propFix[this.toLowerCase()]=this});function mb(a){var b=a.match(K)||[];return b.join(" ")}function nb(a){return a.getAttribute&&a.getAttribute("class")||""}r.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).addClass(a.call(this,b,nb(this)))});if("string"==typeof a&&a){b=a.match(K)||[];while(c=this[i++])if(e=nb(c),d=1===c.nodeType&&" "+mb(e)+" "){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=mb(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).removeClass(a.call(this,b,nb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(K)||[];while(c=this[i++])if(e=nb(c),d=1===c.nodeType&&" "+mb(e)+" "){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=mb(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):r.isFunction(a)?this.each(function(c){r(this).toggleClass(a.call(this,c,nb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=r(this),f=a.match(K)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=nb(this),b&&V.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":V.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+mb(nb(c))+" ").indexOf(b)>-1)return!0;return!1}});var ob=/\r/g;r.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=r.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,r(this).val()):a,null==e?e="":"number"==typeof e?e+="":r.isArray(e)&&(e=r.map(e,function(a){return null==a?"":a+""})),b=r.valHooks[this.type]||r.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=r.valHooks[e.type]||r.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(ob,""):null==c?"":c)}}}),r.extend({valHooks:{option:{get:function(a){var b=r.find.attr(a,"value");return null!=b?b:mb(r.text(a))}},select:{get:function(a){var b,c,d,e=a.options,f=a.selectedIndex,g="select-one"===a.type,h=g?null:[],i=g?f+1:e.length;for(d=f<0?i:g?f:0;d<i;d++)if(c=e[d],(c.selected||d===f)&&!c.disabled&&(!c.parentNode.disabled||!r.nodeName(c.parentNode,"optgroup"))){if(b=r(c).val(),g)return b;h.push(b)}return h},set:function(a,b){var c,d,e=a.options,f=r.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=r.inArray(r.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),r.each(["radio","checkbox"],function(){r.valHooks[this]={set:function(a,b){if(r.isArray(b))return a.checked=r.inArray(r(a).val(),b)>-1}},o.checkOn||(r.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var pb=/^(?:focusinfocus|focusoutblur)$/;r.extend(r.event,{trigger:function(b,c,e,f){var g,h,i,j,k,m,n,o=[e||d],p=l.call(b,"type")?b.type:b,q=l.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!pb.test(p+r.event.triggered)&&(p.indexOf(".")>-1&&(q=p.split("."),p=q.shift(),q.sort()),k=p.indexOf(":")<0&&"on"+p,b=b[r.expando]?b:new r.Event(p,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=q.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:r.makeArray(c,[b]),n=r.event.special[p]||{},f||!n.trigger||n.trigger.apply(e,c)!==!1)){if(!f&&!n.noBubble&&!r.isWindow(e)){for(j=n.delegateType||p,pb.test(j+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),i=h;i===(e.ownerDocument||d)&&o.push(i.defaultView||i.parentWindow||a)}g=0;while((h=o[g++])&&!b.isPropagationStopped())b.type=g>1?j:n.bindType||p,m=(V.get(h,"events")||{})[b.type]&&V.get(h,"handle"),m&&m.apply(h,c),m=k&&h[k],m&&m.apply&&T(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=p,f||b.isDefaultPrevented()||n._default&&n._default.apply(o.pop(),c)!==!1||!T(e)||k&&r.isFunction(e[p])&&!r.isWindow(e)&&(i=e[k],i&&(e[k]=null),r.event.triggered=p,e[p](),r.event.triggered=void 0,i&&(e[k]=i)),b.result}},simulate:function(a,b,c){var d=r.extend(new r.Event,c,{type:a,isSimulated:!0});r.event.trigger(d,null,b)}}),r.fn.extend({trigger:function(a,b){return this.each(function(){r.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return r.event.trigger(a,b,c,!0)}}),r.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){r.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),r.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),o.focusin="onfocusin"in a,o.focusin||r.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){r.event.simulate(b,a.target,r.event.fix(a))};r.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=V.access(d,b);e||d.addEventListener(a,c,!0),V.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=V.access(d,b)-1;e?V.access(d,b,e):(d.removeEventListener(a,c,!0),V.remove(d,b))}}});var qb=a.location,rb=r.now(),sb=/\?/;r.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||r.error("Invalid XML: "+b),c};var tb=/\[\]$/,ub=/\r?\n/g,vb=/^(?:submit|button|image|reset|file)$/i,wb=/^(?:input|select|textarea|keygen)/i;function xb(a,b,c,d){var e;if(r.isArray(b))r.each(b,function(b,e){c||tb.test(a)?d(a,e):xb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==r.type(b))d(a,b);else for(e in b)xb(a+"["+e+"]",b[e],c,d)}r.param=function(a,b){var c,d=[],e=function(a,b){var c=r.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(r.isArray(a)||a.jquery&&!r.isPlainObject(a))r.each(a,function(){e(this.name,this.value)});else for(c in a)xb(c,a[c],b,e);return d.join("&")},r.fn.extend({serialize:function(){return r.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=r.prop(this,"elements");return a?r.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!r(this).is(":disabled")&&wb.test(this.nodeName)&&!vb.test(a)&&(this.checked||!ia.test(a))}).map(function(a,b){var c=r(this).val();return null==c?null:r.isArray(c)?r.map(c,function(a){return{name:b.name,value:a.replace(ub,"\r\n")}}):{name:b.name,value:c.replace(ub,"\r\n")}}).get()}});var yb=/%20/g,zb=/#.*$/,Ab=/([?&])_=[^&]*/,Bb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Cb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Db=/^(?:GET|HEAD)$/,Eb=/^\/\//,Fb={},Gb={},Hb="*/".concat("*"),Ib=d.createElement("a");Ib.href=qb.href;function Jb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(K)||[];if(r.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Kb(a,b,c,d){var e={},f=a===Gb;function g(h){var i;return e[h]=!0,r.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Lb(a,b){var c,d,e=r.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&r.extend(!0,a,d),a}function Mb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function Nb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}r.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qb.href,type:"GET",isLocal:Cb.test(qb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Hb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":r.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Lb(Lb(a,r.ajaxSettings),b):Lb(r.ajaxSettings,a)},ajaxPrefilter:Jb(Fb),ajaxTransport:Jb(Gb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m,n,o=r.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?r(p):r.event,s=r.Deferred(),t=r.Callbacks("once memory"),u=o.statusCode||{},v={},w={},x="canceled",y={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h){h={};while(b=Bb.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){return null==k&&(a=w[a.toLowerCase()]=w[a.toLowerCase()]||a,v[a]=b),this},overrideMimeType:function(a){return null==k&&(o.mimeType=a),this},statusCode:function(a){var b;if(a)if(k)y.always(a[y.status]);else for(b in a)u[b]=[u[b],a[b]];return this},abort:function(a){var b=a||x;return e&&e.abort(b),A(0,b),this}};if(s.promise(y),o.url=((b||o.url||qb.href)+"").replace(Eb,qb.protocol+"//"),o.type=c.method||c.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(K)||[""],null==o.crossDomain){j=d.createElement("a");try{j.href=o.url,j.href=j.href,o.crossDomain=Ib.protocol+"//"+Ib.host!=j.protocol+"//"+j.host}catch(z){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=r.param(o.data,o.traditional)),Kb(Fb,o,c,y),k)return y;l=r.event&&o.global,l&&0===r.active++&&r.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Db.test(o.type),f=o.url.replace(zb,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(yb,"+")):(n=o.url.slice(f.length),o.data&&(f+=(sb.test(f)?"&":"?")+o.data,delete o.data),o.cache===!1&&(f=f.replace(Ab,"$1"),n=(sb.test(f)?"&":"?")+"_="+rb++ +n),o.url=f+n),o.ifModified&&(r.lastModified[f]&&y.setRequestHeader("If-Modified-Since",r.lastModified[f]),r.etag[f]&&y.setRequestHeader("If-None-Match",r.etag[f])),(o.data&&o.hasContent&&o.contentType!==!1||c.contentType)&&y.setRequestHeader("Content-Type",o.contentType),y.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+Hb+"; q=0.01":""):o.accepts["*"]);for(m in o.headers)y.setRequestHeader(m,o.headers[m]);if(o.beforeSend&&(o.beforeSend.call(p,y,o)===!1||k))return y.abort();if(x="abort",t.add(o.complete),y.done(o.success),y.fail(o.error),e=Kb(Gb,o,c,y)){if(y.readyState=1,l&&q.trigger("ajaxSend",[y,o]),k)return y;o.async&&o.timeout>0&&(i=a.setTimeout(function(){y.abort("timeout")},o.timeout));try{k=!1,e.send(v,A)}catch(z){if(k)throw z;A(-1,z)}}else A(-1,"No Transport");function A(b,c,d,h){var j,m,n,v,w,x=c;k||(k=!0,i&&a.clearTimeout(i),e=void 0,g=h||"",y.readyState=b>0?4:0,j=b>=200&&b<300||304===b,d&&(v=Mb(o,y,d)),v=Nb(o,v,y,j),j?(o.ifModified&&(w=y.getResponseHeader("Last-Modified"),w&&(r.lastModified[f]=w),w=y.getResponseHeader("etag"),w&&(r.etag[f]=w)),204===b||"HEAD"===o.type?x="nocontent":304===b?x="notmodified":(x=v.state,m=v.data,n=v.error,j=!n)):(n=x,!b&&x||(x="error",b<0&&(b=0))),y.status=b,y.statusText=(c||x)+"",j?s.resolveWith(p,[m,x,y]):s.rejectWith(p,[y,x,n]),y.statusCode(u),u=void 0,l&&q.trigger(j?"ajaxSuccess":"ajaxError",[y,o,j?m:n]),t.fireWith(p,[y,x]),l&&(q.trigger("ajaxComplete",[y,o]),--r.active||r.event.trigger("ajaxStop")))}return y},getJSON:function(a,b,c){return r.get(a,b,c,"json")},getScript:function(a,b){return r.get(a,void 0,b,"script")}}),r.each(["get","post"],function(a,b){r[b]=function(a,c,d,e){return r.isFunction(c)&&(e=e||d,d=c,c=void 0),r.ajax(r.extend({url:a,type:b,dataType:e,data:c,success:d},r.isPlainObject(a)&&a))}}),r._evalUrl=function(a){return r.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},r.fn.extend({wrapAll:function(a){var b;return this[0]&&(r.isFunction(a)&&(a=a.call(this[0])),b=r(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return r.isFunction(a)?this.each(function(b){r(this).wrapInner(a.call(this,b))}):this.each(function(){var b=r(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=r.isFunction(a);return this.each(function(c){r(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){r(this).replaceWith(this.childNodes)}),this}}),r.expr.pseudos.hidden=function(a){return!r.expr.pseudos.visible(a)},r.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},r.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Ob={0:200,1223:204},Pb=r.ajaxSettings.xhr();o.cors=!!Pb&&"withCredentials"in Pb,o.ajax=Pb=!!Pb,r.ajaxTransport(function(b){var c,d;if(o.cors||Pb&&!b.crossDomain)return{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Ob[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}}),r.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return r.globalEval(a),a}}}),r.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),r.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=r("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Qb=[],Rb=/(=)\?(?=&|$)|\?\?/;r.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Qb.pop()||r.expando+"_"+rb++;return this[a]=!0,a}}),r.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Rb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rb.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=r.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Rb,"$1"+e):b.jsonp!==!1&&(b.url+=(sb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||r.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?r(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Qb.push(e)),g&&r.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),o.createHTMLDocument=function(){var a=d.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),r.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var e,f,g;return b||(o.createHTMLDocument?(b=d.implementation.createHTMLDocument(""),e=b.createElement("base"),e.href=d.location.href,b.head.appendChild(e)):b=d),f=B.exec(a),g=!c&&[],f?[b.createElement(f[1])]:(f=pa([a],b,g),g&&g.length&&r(g).remove(),r.merge([],f.childNodes))},r.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=mb(a.slice(h)),a=a.slice(0,h)),r.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&r.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?r("<div>").append(r.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},r.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){r.fn[b]=function(a){return this.on(b,a)}}),r.expr.pseudos.animated=function(a){return r.grep(r.timers,function(b){return a===b.elem}).length};function Sb(a){return r.isWindow(a)?a:9===a.nodeType&&a.defaultView}r.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=r.css(a,"position"),l=r(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=r.css(a,"top"),i=r.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),r.isFunction(b)&&(b=b.call(a,c,r.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},r.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){r.offset.setOffset(this,a,b)});var b,c,d,e,f=this[0];if(f)return f.getClientRects().length?(d=f.getBoundingClientRect(),d.width||d.height?(e=f.ownerDocument,c=Sb(e),b=e.documentElement,{top:d.top+c.pageYOffset-b.clientTop,left:d.left+c.pageXOffset-b.clientLeft}):d):{top:0,left:0}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===r.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),r.nodeName(a[0],"html")||(d=a.offset()),d={top:d.top+r.css(a[0],"borderTopWidth",!0),left:d.left+r.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-r.css(c,"marginTop",!0),left:b.left-d.left-r.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===r.css(a,"position"))a=a.offsetParent;return a||qa})}}),r.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;r.fn[a]=function(d){return S(this,function(a,d,e){var f=Sb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),r.each(["top","left"],function(a,b){r.cssHooks[b]=Oa(o.pixelPosition,function(a,c){if(c)return c=Na(a,b),La.test(c)?r(a).position()[b]+"px":c})}),r.each({Height:"height",Width:"width"},function(a,b){r.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){r.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(e===!0||f===!0?"margin":"border");return S(this,function(b,c,e){var f;return r.isWindow(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?r.css(b,c,h):r.style(b,c,e,h)},b,g?e:void 0,g)}})}),r.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),r.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return r});var Tb=a.jQuery,Ub=a.$;return r.noConflict=function(b){return a.$===r&&(a.$=Ub),b&&a.jQuery===r&&(a.jQuery=Tb),r},b||(a.jQuery=a.$=r),r});
;
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ES6Promise=e()}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function n(t){I=t}function r(t){J=t}function o(){return function(){return process.nextTick(a)}}function i(){return"undefined"!=typeof H?function(){H(a)}:c()}function s(){var t=0,e=new V(a),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=a,function(){return t.port2.postMessage(0)}}function c(){var t=setTimeout;return function(){return t(a,1)}}function a(){for(var t=0;t<G;t+=2){var e=$[t],n=$[t+1];e(n),$[t]=void 0,$[t+1]=void 0}G=0}function f(){try{var t=require,e=t("vertx");return H=e.runOnLoop||e.runOnContext,i()}catch(n){return c()}}function l(t,e){var n=arguments,r=this,o=new this.constructor(p);void 0===o[et]&&k(o);var i=r._state;return i?!function(){var t=n[i-1];J(function(){return x(i,o,t,r._result)})}():E(r,o,t,e),o}function h(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(p);return g(n,t),n}function p(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function _(t){try{return t.then}catch(e){return it.error=e,it}}function y(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function m(t,e,n){J(function(t){var r=!1,o=y(n,e,function(n){r||(r=!0,e!==n?g(t,n):S(t,n))},function(e){r||(r=!0,j(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,j(t,o))},t)}function b(t,e){e._state===rt?S(t,e._result):e._state===ot?j(t,e._result):E(e,void 0,function(e){return g(t,e)},function(e){return j(t,e)})}function w(t,n,r){n.constructor===t.constructor&&r===l&&n.constructor.resolve===h?b(t,n):r===it?j(t,it.error):void 0===r?S(t,n):e(r)?m(t,n,r):S(t,n)}function g(e,n){e===n?j(e,v()):t(n)?w(e,n,_(n)):S(e,n)}function A(t){t._onerror&&t._onerror(t._result),P(t)}function S(t,e){t._state===nt&&(t._result=e,t._state=rt,0!==t._subscribers.length&&J(P,t))}function j(t,e){t._state===nt&&(t._state=ot,t._result=e,J(A,t))}function E(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+rt]=n,o[i+ot]=r,0===i&&t._state&&J(P,t)}function P(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?x(n,r,o,i):o(i);t._subscribers.length=0}}function T(){this.error=null}function M(t,e){try{return t(e)}catch(n){return st.error=n,st}}function x(t,n,r,o){var i=e(r),s=void 0,u=void 0,c=void 0,a=void 0;if(i){if(s=M(r,o),s===st?(a=!0,u=s.error,s=null):c=!0,n===s)return void j(n,d())}else s=o,c=!0;n._state!==nt||(i&&c?g(n,s):a?j(n,u):t===rt?S(n,s):t===ot&&j(n,s))}function C(t,e){try{e(function(e){g(t,e)},function(e){j(t,e)})}catch(n){j(t,n)}}function O(){return ut++}function k(t){t[et]=ut++,t._state=void 0,t._result=void 0,t._subscribers=[]}function Y(t,e){this._instanceConstructor=t,this.promise=new t(p),this.promise[et]||k(this.promise),B(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&S(this.promise,this._result))):j(this.promise,q())}function q(){return new Error("Array Methods must be provided an Array")}function F(t){return new Y(this,t).promise}function D(t){var e=this;return new e(B(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function K(t){var e=this,n=new e(p);return j(n,t),n}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function N(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function U(t){this[et]=O(),this._result=this._state=void 0,this._subscribers=[],p!==t&&("function"!=typeof t&&L(),this instanceof U?C(this,t):N())}function W(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(e){}if("[object Promise]"===r&&!n.cast)return}t.Promise=U}var z=void 0;z=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var B=z,G=0,H=void 0,I=void 0,J=function(t,e){$[G]=t,$[G+1]=e,G+=2,2===G&&(I?I(a):tt())},Q="undefined"!=typeof window?window:void 0,R=Q||{},V=R.MutationObserver||R.WebKitMutationObserver,X="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,$=new Array(1e3),tt=void 0;tt=X?o():V?s():Z?u():void 0===Q&&"function"==typeof require?f():c();var et=Math.random().toString(36).substring(16),nt=void 0,rt=1,ot=2,it=new T,st=new T,ut=0;return Y.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===nt&&n<t;n++)this._eachEntry(e[n],n)},Y.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===h){var o=_(t);if(o===l&&t._state!==nt)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===U){var i=new n(p);w(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},Y.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===nt&&(this._remaining--,t===ot?j(r,n):this._result[e]=n),0===this._remaining&&S(r,this._result)},Y.prototype._willSettleAt=function(t,e){var n=this;E(t,void 0,function(t){return n._settledAt(rt,e,t)},function(t){return n._settledAt(ot,e,t)})},U.all=F,U.race=D,U.resolve=h,U.reject=K,U._setScheduler=n,U._setAsap=r,U._asap=J,U.prototype={constructor:U,then:l,"catch":function(t){return this.then(null,t)}},U.polyfill=W,U.Promise=U,U}),ES6Promise.polyfill();
;


var IE={Identite:{collection:{}}};(function(){IE.outilsUses=function(){};var dictionnaire={require:{},full:{},cache:{}};var lGlobal=window||{};if(!String.prototype.endsWith){String.prototype.endsWith=function(searchString,position){var subjectString=this.toString();if(typeof position!=='number'||!isFinite(position)||Math.floor(position)!==position||position>subjectString.length){position=subjectString.length;}
position-=searchString.length;var lastIndex=subjectString.indexOf(searchString,position);return lastIndex!== -1&&lastIndex===position;};}
function _findPaths(aIdentifiant,aPathDictionary){if(!aIdentifiant||!aIdentifiant){return false;}
var lSplitIdentifiant=aIdentifiant.split('/').reverse();var lSplitPath=aPathDictionary.split('/').reverse();var lMinlength=Math.min(lSplitPath.length,lSplitIdentifiant.length);for(var i=0;i<lMinlength;i++){if(lSplitIdentifiant[i]!==lSplitPath[i]){return false;}}
return true;}
function _getExport(aChemin,aModule,aWithoutLoad){if(!aChemin||!aChemin.endsWith('.js')){return null;}
var lExports=dictionnaire.cache[aChemin];if(lExports!==undefined){return lExports;}
lExports=dictionnaire.full[aChemin];if(lExports!==undefined){return lExports;}
var lCheminLower=aChemin.toLowerCase();var lTrouves=[];var lFullPath,lFullPathLower;for(lFullPath in dictionnaire.full){lFullPathLower=lFullPath.toLowerCase();if(_findPaths(lCheminLower,lFullPathLower)){if(lTrouves.length===0){lExports=dictionnaire.full[lFullPath];}
lTrouves.push(lFullPath);}}
if(lExports!==undefined&&lTrouves.length===1){dictionnaire.cache[aChemin]=lExports;}
if(lTrouves.length>1){alert('plusieurs trouvés');}
if(lExports){return lExports;}
if(aWithoutLoad){return null;}
var lRequire=dictionnaire.require[aChemin];if(!lRequire){lTrouves=[];for(lFullPath in dictionnaire.require){lFullPathLower=lFullPath.toLowerCase();if(_findPaths(lCheminLower,lFullPathLower)){if(lTrouves.length===0){lRequire=dictionnaire.require[lFullPath];}
lTrouves.push(lFullPath);}}
if(lTrouves.length>1){alert('plusieurs trouvés');}}
if(lRequire){lRequire.main.load(aModule);return _getExport(aChemin,aModule,true);}
return null;}
function _fModule(aParams){var lModule={exports:{},filename:aParams.fn,childrens:[],loaded:false,load:function(aParent){this.parent=aParent;if(this.loaded){return;}
this.loaded=true;if(aParent){aParent.childrens.push(this);}
aParams.f.call(this.exports,this.exports,this.require,this,lGlobal);dictionnaire.full[this.filename]=this.exports;if(dictionnaire.require[this.filename]){delete dictionnaire.require[this.filename];}},require:function require(aChemin){var lExports=_getExport(aChemin,lModule);return lExports;}};lModule.require.main=lModule;lModule.require.ressource=function(){};if(aParams.s!==0){lModule.load();} else{dictionnaire.require[lModule.filename]=lModule.require;}}
IE.fModule=_fModule;window.require=function require(aChemin){var lExports=_getExport(aChemin);return lExports;};}());;

/*! jQuery UI - v1.11.4 - 2016-03-22
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, draggable.js, droppable.js, resizable.js, sortable.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(t,s){var n,a,o,r=t.nodeName.toLowerCase();return"area"===r?(n=t.parentNode,a=n.name,t.href&&a&&"map"===n.nodeName.toLowerCase()?(o=e("img[usemap='#"+a+"']")[0],!!o&&i(o)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!t.disabled:"a"===r?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),s="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return s&&"static"===t.css("position")?!1:n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var s=e.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&t(i,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function s(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){e(this).css(a,s(this,t)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(a,s(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,s,n=e(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var n,a=e.ui[t].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(e,t,i,s){var n,a=e.plugins[t];if(a&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}};var s=0,n=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{s=e._data(n,"events"),s&&s.remove&&e(n).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var n,a,o,r,h={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},a=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}(),void 0):(h[t]=s,void 0)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},h,{constructor:o,namespace:l,widgetName:t,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,s,a=n.call(arguments,1),o=0,r=a.length;r>o;o++)for(i in a[o])s=a[o][i],a[o].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(a){var o="string"==typeof a,r=n.call(arguments,1),h=this;return o?this.each(function(){var i,n=e.data(this,s);return"instance"===a?(h=n,!1):n?e.isFunction(n[a])&&"_"!==a.charAt(0)?(i=n[a].apply(n,r),i!==n&&void 0!==i?(h=i&&i.jquery?h.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+a+"'")}):(r.length&&(a=e.widget.extend.apply(null,[a].concat(r))),this.each(function(){var t=e.data(this,s);t?(t.option(a||{}),t._init&&t._init()):e.data(this,s,new i(a,this))})),h}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=s++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},s=t.split("."),t=s.shift(),s.length){for(n=o[t]=e.widget.extend({},this.options[t]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var n,a=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,o){function r(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,o=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}}),e.widget;var a=!1;e(document).mouseup(function(){a=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!a){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1===t.which,n="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),a=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),a=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(s){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",t,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,s=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper),n=s?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options,a=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=e(n.containment),s=i[0],s&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,s,n,a,o=this.options,r=this._isRootNode(this.scrollParent[0]),h=e.pageX,l=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a),"y"===o.axis&&(h=this.originalPageX),"x"===o.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,s){var n=e.extend({},i,{item:s.element});s.sortables=[],e(s.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,n))})},stop:function(t,i,s){var n=e.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,e.each(s.sortables,function(){var e=this;e.isOver?(e.isOver=0,s.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,n))})},drag:function(t,i,s){e.each(s.sortables,function(){var n=!1,a=this;a.positionAbs=s.positionAbs,a.helperProportions=s.helperProportions,a.offset.click=s.offset.click,a._intersectsWith(a.containerCache)&&(n=!0,e.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(n=!1),n})),n?(a.isOver||(a.isOver=1,s._parent=i.helper.parent(),a.currentItem=i.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return i.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=s.offset.click.top,a.offset.click.left=s.offset.click.left,a.offset.parent.left-=s.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=s.offset.parent.top-a.offset.parent.top,s._trigger("toSortable",t),s.dropped=a.element,e.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,a.fromOutside=s),a.currentItem&&(a._mouseDrag(t),i.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",t,a._uiHash(a)),a._mouseStop(t,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(t),i.position=s._generatePosition(t,!0),s._trigger("fromSortable",t),s.dropped=!1,e.each(s.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,s){var n=e("body"),a=s.options;n.css("cursor")&&(a._cursor=n.css("cursor")),n.css("cursor",a.cursor)},stop:function(t,i,s){var n=s.options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("opacity")&&(a._opacity=n.css("opacity")),n.css("opacity",a.opacity)},stop:function(t,i,s){var n=s.options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,s){var n=s.options,a=!1,o=s.scrollParentNotHidden[0],r=s.document[0];o!==r&&"HTML"!==o.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+o.offsetHeight-t.pageY<n.scrollSensitivity?o.scrollTop=a=o.scrollTop+n.scrollSpeed:t.pageY-s.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+o.offsetWidth-t.pageX<n.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+n.scrollSpeed:t.pageX-s.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(r).scrollTop()<n.scrollSensitivity?a=e(r).scrollTop(e(r).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(r).scrollTop())<n.scrollSensitivity&&(a=e(r).scrollTop(e(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(r).scrollLeft()<n.scrollSensitivity?a=e(r).scrollLeft(e(r).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(r).scrollLeft())<n.scrollSensitivity&&(a=e(r).scrollLeft(e(r).scrollLeft()+n.scrollSpeed)))),a!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(s,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,s){var n=s.options;s.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=e(this),i=t.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,s){var n,a,o,r,h,l,u,c,d,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,_=i.offset.top,b=_+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)h=s.snapElements[d].left-s.margins.left,l=h+s.snapElements[d].width,u=s.snapElements[d].top-s.margins.top,c=u+s.snapElements[d].height,h-m>v||g>l+m||u-m>b||_>c+m||!e.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=m>=Math.abs(u-b),a=m>=Math.abs(c-_),o=m>=Math.abs(h-v),r=m>=Math.abs(l-g),n&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||a||o||r,"outer"!==f.snapMode&&(n=m>=Math.abs(u-_),a=m>=Math.abs(c-b),o=m>=Math.abs(h-g),r=m>=Math.abs(l-v),n&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||a||o||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||a||o||r||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,s){var n,a=s.options,o=e.makeArray(e(a.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});o.length&&(n=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",n+t)}),this.css("zIndex",n+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("zIndex")&&(a._zIndex=n.css("zIndex")),n.css("zIndex",a.zIndex)},stop:function(t,i,s){var n=s.options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}}),e.ui.draggable,e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,s=i.accept;
  this.isover=!1,this.isout=!0,this.accept=e.isFunction(s)?s:function(e){return e.is(s)},this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var s=e.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var s=i||e.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(s)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,s,n){if(!i.offset)return!1;var a=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,r=a+t.helperProportions.width,h=o+t.helperProportions.height,l=i.offset.left,u=i.offset.top,c=l+i.proportions().width,d=u+i.proportions().height;switch(s){case"fit":return a>=l&&c>=r&&o>=u&&d>=h;case"intersect":return a+t.helperProportions.width/2>l&&c>r-t.helperProportions.width/2&&o+t.helperProportions.height/2>u&&d>h-t.helperProportions.height/2;case"pointer":return e(n.pageY,u,i.proportions().height)&&e(n.pageX,l,i.proportions().width);case"touch":return(o>=u&&d>=o||h>=u&&d>=h||u>o&&h>d)&&(a>=l&&c>=a||r>=l&&c>=r||l>a&&r>c);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var s,n,a=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,r=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||t&&!a[s].accept.call(a[s].element[0],t.currentItem||t.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue e}a[s].visible="none"!==a[s].element.css("display"),a[s].visible&&("mousedown"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight}))}},drop:function(t,i){var s=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=e.ui.intersect(t,this,this.options.tolerance,i),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===n}),a.length&&(s=e(a[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return t[s]>0?!0:(t[s]=1,n=t[s]>0,t[s]=0,n)},_create:function(){var t,i,s,n,a,o=this,r=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)s=e.trim(t[i]),a="ui-resizable-"+s,n=e("<div class='ui-resizable-handle "+a+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(t){var i,s,n,a;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,s,n=!1;for(i in this.handles)s=e(this.handles[i])[0],(s===t.target||e.contains(s,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,s,n,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),a.containment&&(i+=e(a.containment).scrollLeft()||0,s+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,s,n=this.originalMousePosition,a=this.axis,o=t.pageX-n.left||0,r=t.pageY-n.top||0,h=this._change[a];return this._updatePrevProperties(),h?(i=h.apply(this,[t,o,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,a=s?0:u.sizeDiff.width,o={width:u.helper.width()-a,height:u.helper.height()-n},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(e.extend(o,{top:h,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,s,n,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,n=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),s>a.minHeight&&(a.minHeight=s),a.maxWidth>i&&(a.maxWidth=i),a.maxHeight>n&&(a.maxHeight=n)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,s=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),a&&l&&(e.left=r-t.minWidth),s&&l&&(e.left=r-t.maxWidth),o&&u&&(e.top=h-t.minHeight),n&&u&&(e.top=h-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],s=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)i[t]=parseInt(s[t],10)||0,i[t]+=parseInt(n[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&e(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,s,n,a,o,r,h=e(this).resizable("instance"),l=h.options,u=h.element,c=l.containment,d=c instanceof e?c.get(0):/parent/.test(c)?u.parent().get(0):c;d&&(h.containerElement=e(d),/document/.test(c)||c===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(d),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,s){i[e]=h._num(t.css("padding"+s))}),h.containerOffset=t.offset(),h.containerPosition=t.position(),h.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,a=h.containerSize.width,o=h._hasScroll(d,"left")?d.scrollWidth:a,r=h._hasScroll(d)?d.scrollHeight:n,h.parentData={element:d,left:s.left,top:s.top,width:o,height:r}))},resize:function(t){var i,s,n,a,o=e(this).resizable("instance"),r=o.options,h=o.containerOffset,l=o.position,u=o._aspectRatio||t.shiftKey,c={top:0,left:0},d=o.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(c=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-c.left),u&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?h.top:0),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),n&&a?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-c.left:o.offset.left-h.left)),s=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-c.top:o.offset.top-h.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,u&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,u&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,s=t.containerOffset,n=t.containerPosition,a=t.containerElement,o=e(t.helper),r=o.offset(),h=o.outerWidth()-t.sizeDiff.width,l=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l}),t._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var s=e(this).resizable("instance"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0};e(n.alsoResize).each(function(){var t=e(this),s=e(this).data("ui-resizable-alsoresize"),n={},a=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var i=(s[t]||0)+(r[t]||0);i&&i>=0&&(n[t]=i||null)}),t.css(n)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),s=i.options,n=i.size,a=i.originalSize,o=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,u=h[1]||1,c=Math.round((n.width-a.width)/l)*l,d=Math.round((n.height-a.height)/u)*u,p=a.width+c,f=a.height+d,m=s.maxWidth&&p>s.maxWidth,g=s.maxHeight&&f>s.maxHeight,v=s.minWidth&&s.minWidth>p,_=s.minHeight&&s.minHeight>f;s.grid=h,v&&(p+=l),_&&(f+=u),m&&(p-=l),g&&(f-=u),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=o.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=o.left-c):((0>=f-u||0>=p-l)&&(t=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=o.top-d):(f=u-t.height,i.size.height=f,i.position.top=o.top+a.height-f),p-l>0?(i.size.width=p,i.position.left=o.left-c):(p=l-t.width,i.size.width=p,i.position.left=o.left+a.width-p))}}),e.ui.resizable,e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var s=null,n=!1,a=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,a.widgetName+"-item")===a?(s=e(this),!1):void 0}),e.data(t.target,a.widgetName+"-item")===a&&(s=e(t.target)),s?!this.options.handle||i||(e(this.options.handle,s).find("*").addBack().each(function(){this===t.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,s){var n,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,s,n,a,o=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],a=this._intersectsWithPointer(s),a&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==n&&!e.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],n):!0)){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this,n=this.placeholder.offset(),a=this.options.axis,o={};a&&"x"!==a||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&s.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+"="),s.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||"id")||"")
  }),s},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,a=e.left,o=a+e.width,r=e.top,h=r+e.height,l=this.offset.click.top,u=this.offset.click.left,c="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||t+u>a&&o>t+u,p=c&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>a&&o>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=t&&i,n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return s?this.floating?a&&"right"===a||"down"===n?2:1:n&&("down"===n?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&t||"up"===s&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){r.push(this)}var s,n,a,o,r=[],h=[],l=this._connectWith();if(l&&t)for(s=l.length-1;s>=0;s--)for(a=e(l[s],this.document[0]),n=a.length-1;n>=0;n--)o=e.data(a[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&h.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(h.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,s,n,a,o,r,h,l,u=this.items,c=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=e(d[i],this.document[0]),s=n.length-1;s>=0;s--)a=e.data(n[s],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(c.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(i=c.length-1;i>=0;i--)for(o=c[i][1],r=c[i][0],s=0,l=r.length;l>s;s++)h=e(r[s]),h.data(this.widgetName+"-item",o),u.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,a;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item,t||(s.width=n.outerWidth(),s.height=n.outerHeight()),a=n.offset(),s.left=a.left,s.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,s=t.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=t.currentItem[0].nodeName.toLowerCase(),n=e("<"+s+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===s?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(n)):"tr"===s?t._createTrPlaceholder(t.currentItem,n):"img"===s&&n.attr("src",t.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(e,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(s.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),s.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var s=this;t.children().each(function(){e("<td>&#160;</td>",s.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,s,n,a,o,r,h,l,u,c,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&e.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,a=null,u=d.floating||this._isFloating(this.currentItem),o=u?"left":"top",r=u?"width":"height",c=u?"clientX":"clientY",s=this.items.length-1;s>=0;s--)e.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[o],l=!1,t[c]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(t[c]-h)&&(n=Math.abs(t[c]-h),a=this.items[s],this.direction=l?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=e(n.containment)[0],i=e(n.containment).offset(),s="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var s="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())*s}},_generatePosition:function(t){var i,s,n=this.options,a=t.pageX,o=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0],a=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(e,t){function i(e,t,i){return function(s){i._trigger(e,s,t._uiHash(t))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)t||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(s=0;n.length>s;s++)n[s].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})});;
  IE.fModule({f:function(exports,require,module,global){require('jquery-ui/jquery-ui.min.js');require('jquery-ui/jquery-ui.min.css');require('jquery-ui/jquery-ui.structure.min.css');require('jquery-ui/core.js');require('jquery-ui/widget.js');require('jquery-ui/mouse.js');require('jquery-ui/draggable.js');require('jquery-ui/droppable.js');require('jquery-ui/resizable.js');require('jquery-ui/sortable.js');require('jquery-ui/jquery-ui.css');require('jquery-ui/jquery-ui.structure.css');},fn:"declarationjqueryui.js"});;
  /*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
   * Licensed under the MIT License (LICENSE.txt).
   *
   * Version: 3.1.12
   *
   * Requires: jQuery 1.2.2+
   */
  !function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});;
  IE.fModule({f:function(exports,require,module,global){require('jquery.js');require('jquery.min.js')
  ;(function($){$.event.special.destroyed={remove:function(event){if(event.handler){event.handler.apply(this,arguments);}}};})(jQuery);},fn:"declarationjquery.js"});;
  /*
   jScrollPane - v2.0.22 - 2015-04-25
   http://jscrollpane.kelvinluck.com/

   Copyright (c) 2014 Kelvin Luck
   Dual licensed under the MIT or GPL licenses.
  */
  (function(b){"function"===typeof define&&define.amd?define(["jquery"],b):"object"===typeof exports?module.exports=b(require("jquery")):b(jQuery)})(function(b){b.fn.jScrollPane=function(B){function ha(c,B){function F(a){var d,g=!1,k=!1;e=a;if(void 0===f){var n=c.scrollTop();var pa=c.scrollLeft();c.css({overflow:"hidden",padding:0});r=Math.ceil(c.innerWidth())+N;l=Math.ceil(c.innerHeight());c.width(r);f=b('<div class="jspPane" />').css("padding",ia).append(c.children());m=b('<div class="jspContainer" />').css({width:r+
  "px",height:l+"px"}).append(f).appendTo(c)}else{c.css("width","");g=e.stickToBottom&&wa();k=e.stickToRight&&xa();if(d=Math.ceil(c.innerWidth())+N!=r||Math.ceil(c.outerHeight())!=l)r=Math.ceil(c.innerWidth())+N,l=Math.ceil(c.innerHeight()),m.css({width:r+"px",height:l+"px"});if(!d&&qa==w&&Math.ceil(f.outerHeight())==v){c.width(r);return}qa=w;f.css("width","");c.width(r);m.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}f.css("overflow","auto");w=a.contentWidth?a.contentWidth:f[0].scrollWidth;
  v=f[0].scrollHeight;f.css("overflow","");ja=w/r;Z=v/l;z=1<Z;if((A=1<ja)||z){c.addClass("jspScrollable");if(a=e.maintainPosition&&(t||u)){var h=G();var p=H()}ha();ya();za();a&&(Q(k?w-r:h,!1),I(g?v-l:p,!1));Aa();Ba();Ca();e.enableKeyboardNavigation&&Da();e.clickOnTrack&&Ea();Fa();e.hijackInternalLinks&&Ga()}else c.removeClass("jspScrollable"),f.css({top:0,left:0,width:Math.ceil(m.width())-N}),m.unbind(ka),f.find(":input,a").unbind("focus.jsp"),c.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),
  f.unbind(".jsp"),ra();e.autoReinitialise&&!R?R=setInterval(function(){F(e)},e.autoReinitialiseDelay):!e.autoReinitialise&&R&&clearInterval(R);n&&c.scrollTop(0)&&I(n,!1);pa&&c.scrollLeft(0)&&Q(pa,!1);c.trigger("jsp-initialised",[A||z])}function ha(){z&&(m.append(b('<div class="jspVerticalBar" />').append(b('<div class="jspCap jspCapTop" />'),b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragTop" />'),b('<div class="jspDragBottom" />'))),b('<div class="jspCap jspCapBottom" />'))),
  aa=m.find(">.jspVerticalBar"),C=aa.find(">.jspTrack"),x=C.find(">.jspDrag"),e.showArrows&&(V=b('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",J(0,-1)).bind("click.jsp",S),W=b('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",J(0,1)).bind("click.jsp",S),e.arrowScrollOnHover&&(V.bind("mouseover.jsp",J(0,-1,V)),W.bind("mouseover.jsp",J(0,1,W))),sa(C,e.verticalArrowPositions,V,W)),T=l,m.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){T-=b(this).outerHeight()}),
  x.hover(function(){x.addClass("jspHover")},function(){x.removeClass("jspHover")}).bind("mousedown.jsp",function(a){b("html").bind("dragstart.jsp selectstart.jsp",S);x.addClass("jspActive");var d=a.pageY-x.position().top;b("html").bind("mousemove.jsp",function(a){O(a.pageY-d,!1)}).bind("mouseup.jsp mouseleave.jsp",ta);return!1}),ua())}function ua(){C.height(T+"px");t=0;la=e.verticalGutter+C.outerWidth();f.width(r-la-N);try{0===aa.position().left&&f.css("margin-left",la+"px")}catch(a){}}function ya(){A&&
  (m.append(b('<div class="jspHorizontalBar" />').append(b('<div class="jspCap jspCapLeft" />'),b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragLeft" />'),b('<div class="jspDragRight" />'))),b('<div class="jspCap jspCapRight" />'))),ba=m.find(">.jspHorizontalBar"),D=ba.find(">.jspTrack"),y=D.find(">.jspDrag"),e.showArrows&&(X=b('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",J(-1,0)).bind("click.jsp",S),Y=b('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",
  J(1,0)).bind("click.jsp",S),e.arrowScrollOnHover&&(X.bind("mouseover.jsp",J(-1,0,X)),Y.bind("mouseover.jsp",J(1,0,Y))),sa(D,e.horizontalArrowPositions,X,Y)),y.hover(function(){y.addClass("jspHover")},function(){y.removeClass("jspHover")}).bind("mousedown.jsp",function(a){b("html").bind("dragstart.jsp selectstart.jsp",S);y.addClass("jspActive");var d=a.pageX-y.position().left;b("html").bind("mousemove.jsp",function(a){U(a.pageX-d,!1)}).bind("mouseup.jsp mouseleave.jsp",ta);return!1}),P=m.innerWidth(),
  va())}function va(){m.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){P-=b(this).outerWidth()});D.width(P+"px");u=0}function za(){if(A&&z){var a=D.outerHeight(),d=C.outerWidth();T-=a;b(ba).find(">.jspCap:visible,>.jspArrow").each(function(){P+=b(this).outerWidth()});P-=d;l-=d;r-=a;D.parent().append(b('<div class="jspCorner" />').css("width",a+"px"));ua();va()}A&&f.width(Math.ceil(m.outerWidth())-N+"px");v=Math.ceil(f.outerHeight());Z=v/l;A&&(K=Math.ceil(1/ja*
  P),K>e.horizontalDragMaxWidth?K=e.horizontalDragMaxWidth:K<e.horizontalDragMinWidth&&(K=e.horizontalDragMinWidth),y.width(K+"px"),L=P-K,ma(u));z&&(M=Math.ceil(1/Z*T),M>e.verticalDragMaxHeight?M=e.verticalDragMaxHeight:M<e.verticalDragMinHeight&&(M=e.verticalDragMinHeight),x.height(M+"px"),E=T-M,na(t))}function sa(a,d,b,e){var g="before",k="after";"os"==d&&(d=/Mac/.test(navigator.platform)?"after":"split");d==g?k=d:d==k&&(g=d,d=b,b=e,e=d);a[g](b)[k](e)}function J(a,d,b){return function(){Ha(a,d,this,
  b);this.blur();return!1}}function Ha(a,d,g,k){g=b(g).addClass("jspActive");var n,c=!0,h=function(){0!==a&&q.scrollByX(a*e.arrowButtonSpeed);0!==d&&q.scrollByY(d*e.arrowButtonSpeed);n=setTimeout(h,c?e.initialDelay:e.arrowRepeatFreq);c=!1};h();var p=k?"mouseout.jsp":"mouseup.jsp";k=k||b("html");k.bind(p,function(){g.removeClass("jspActive");n&&clearTimeout(n);n=null;k.unbind(p)})}function Ea(){ra();z&&C.bind("mousedown.jsp",function(a){if(void 0===a.originalTarget||a.originalTarget==a.currentTarget){var d=
  b(this),g=d.offset(),k=a.pageY-g.top-t,n,c=!0,h=function(){var b=d.offset(),b=a.pageY-b.top-M/2,g=l*e.scrollPagePercent,f=E*g/(v-l);if(0>k)t-f>b?q.scrollByY(-g):O(b);else if(0<k)t+f<b?q.scrollByY(g):O(b);else{p();return}n=setTimeout(h,c?e.initialDelay:e.trackClickRepeatFreq);c=!1},p=function(){n&&clearTimeout(n);n=null;b(document).unbind("mouseup.jsp",p)};h();b(document).bind("mouseup.jsp",p);return!1}});A&&D.bind("mousedown.jsp",function(a){if(void 0===a.originalTarget||a.originalTarget==a.currentTarget){var d=
  b(this),g=d.offset(),k=a.pageX-g.left-u,c,f=!0,h=function(){var b=d.offset(),b=a.pageX-b.left-K/2,g=r*e.scrollPagePercent,n=L*g/(w-r);if(0>k)u-n>b?q.scrollByX(-g):U(b);else if(0<k)u+n<b?q.scrollByX(g):U(b);else{p();return}c=setTimeout(h,f?e.initialDelay:e.trackClickRepeatFreq);f=!1},p=function(){c&&clearTimeout(c);c=null;b(document).unbind("mouseup.jsp",p)};h();b(document).bind("mouseup.jsp",p);return!1}})}function ra(){D&&D.unbind("mousedown.jsp");C&&C.unbind("mousedown.jsp")}function ta(){b("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");
  x&&x.removeClass("jspActive");y&&y.removeClass("jspActive")}function O(a,d){z&&(0>a?a=0:a>E&&(a=E),void 0===d&&(d=e.animateScroll),d?q.animate(x,"top",a,na):(x.css("top",a),na(a)))}function na(a){void 0===a&&(a=x.position().top);m.scrollTop(0);t=a||0;var d=0===t,b=t==E;a=-(a/E)*(v-l);if(ca!=d||da!=b)ca=d,da=b,c.trigger("jsp-arrow-change",[ca,da,ea,fa]);e.showArrows&&(V[d?"addClass":"removeClass"]("jspDisabled"),W[b?"addClass":"removeClass"]("jspDisabled"));f.css("top",a);c.trigger("jsp-scroll-y",
  [-a,d,b]).trigger("scroll")}function U(a,d){A&&(0>a?a=0:a>L&&(a=L),void 0===d&&(d=e.animateScroll),d?q.animate(y,"left",a,ma):(y.css("left",a),ma(a)))}function ma(a){void 0===a&&(a=y.position().left);m.scrollTop(0);u=a||0;var d=0===u,b=u==L;a=-(a/L)*(w-r);if(ea!=d||fa!=b)ea=d,fa=b,c.trigger("jsp-arrow-change",[ca,da,ea,fa]);e.showArrows&&(X[d?"addClass":"removeClass"]("jspDisabled"),Y[b?"addClass":"removeClass"]("jspDisabled"));f.css("left",a);c.trigger("jsp-scroll-x",[-a,d,b]).trigger("scroll")}
  function I(a,d){O(a/(v-l)*E,d)}function Q(a,d){U(a/(w-r)*L,d)}function ga(a,d,g){var c=0,n=0,f,h;try{var p=b(a)}catch(Ia){return}var q=Math.ceil(p.outerHeight());a=Math.ceil(p.outerWidth());m.scrollTop(0);for(m.scrollLeft(0);!p.is(".jspPane");)if(c+=p.position().top,n+=p.position().left,p=p.offsetParent(),/^body|html$/i.test(p[0].nodeName))return;p=H();var t=p+l;c<p||d?f=c-e.horizontalGutter:c+q>t&&(f=c-l+q+e.horizontalGutter);isNaN(f)||I(f,g);c=G();f=c+r;n<c||d?h=n-e.horizontalGutter:n+a>f&&(h=n-
  r+a+e.horizontalGutter);isNaN(h)||Q(h,g)}function G(){return-f.position().left}function H(){return-f.position().top}function wa(){var a=v-l;return 20<a&&10>a-H()}function xa(){var a=w-r;return 20<a&&10>a-G()}function Ba(){m.unbind(ka).bind(ka,function(a,d,b,c){u||(u=0);t||(t=0);d=u;var g=t;a=a.deltaFactor||e.mouseWheelSpeed;q.scrollBy(b*a,-c*a,!1);return d==u&&g==t})}function S(){return!1}function Aa(){f.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(a){ga(a.target,!1)})}function Da(){function a(){var a=
  u,b=t;switch(d){case 40:q.scrollByY(e.keyboardSpeed,!1);break;case 38:q.scrollByY(-e.keyboardSpeed,!1);break;case 34:case 32:q.scrollByY(l*e.scrollPagePercent,!1);break;case 33:q.scrollByY(-l*e.scrollPagePercent,!1);break;case 39:q.scrollByX(e.keyboardSpeed,!1);break;case 37:q.scrollByX(-e.keyboardSpeed,!1)}return g=a!=u||b!=t}var d,g,k=[];A&&k.push(ba[0]);z&&k.push(aa[0]);f.bind("focus.jsp",function(){c.focus()});c.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(c){if(c.target===
  this||k.length&&b(c.target).closest(k).length){var e=u,h=t;switch(c.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:d=c.keyCode;a();break;case 35:I(v-l);d=null;break;case 36:I(0),d=null}g=c.keyCode==d&&(e!=u||h!=t);return!g}}).bind("keypress.jsp",function(c){c.keyCode==d&&a();if(c.target===this||k.length&&b(c.target).closest(k).length)return!g});e.hideFocus?(c.css("outline","none"),"hideFocus"in m[0]&&c.attr("hideFocus",!0)):(c.css("outline",""),"hideFocus"in m[0]&&c.attr("hideFocus",
  !1))}function Fa(){if(location.hash&&1<location.hash.length){var a=escape(location.hash.substr(1));try{var d=b("#"+a+', a[name="'+a+'"]')}catch(k){return}if(d.length&&f.find(a))if(0===m.scrollTop())var c=setInterval(function(){0<m.scrollTop()&&(ga(d,!0),b(document).scrollTop(m.position().top),clearInterval(c))},50);else ga(d,!0),b(document).scrollTop(m.position().top)}}function Ga(){b(document.body).data("jspHijack")||(b(document.body).data("jspHijack",!0),b(document.body).delegate("a[href*=#]","click",
  function(a){var d=this.href.substr(0,this.href.indexOf("#")),c=location.href;-1!==location.href.indexOf("#")&&(c=location.href.substr(0,location.href.indexOf("#")));if(d===c){d=escape(this.href.substr(this.href.indexOf("#")+1));try{var e=b("#"+d+', a[name="'+d+'"]')}catch(n){return}e.length&&(d=e.closest(".jspScrollable"),d.data("jsp").scrollToElement(e,!0),d[0].scrollIntoView&&(c=b(window).scrollTop(),e=e.offset().top,(e<c||e>c+Math.ceil(b(window).height()))&&d[0].scrollIntoView()),a.preventDefault())}}))}
  function Ca(){var a,d,c,e,f,l=!1;m.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick MSPointerDown.jsp MSPointerMove.jsp MSPointerUp.jsp pointerdown.jsp pointermove.jsp pointerup.jsp").bind("touchstart.jsp MSPointerDown.jsp pointerdown.jsp",function(h){if(!h.originalEvent.pointerType||!(b.isNumeric(h.originalEvent.pointerType)&&h.originalEvent.pointerType!==h.originalEvent.MSPOINTER_TYPE_TOUCH||!b.isNumeric(h.originalEvent.pointerType)&&"touch"!==h.originalEvent.pointerType)){var g=
  h.originalEvent.touches?h.originalEvent.touches[0]:!1;a=G();d=H();c=g?g.pageX:h.originalEvent.clientX;e=g?g.pageY:h.originalEvent.clientY;f=!1;l=!0}}).bind("touchmove.jsp MSPointerMove.jsp pointermove.jsp",function(g){if((!g.originalEvent.pointerType||!(b.isNumeric(g.originalEvent.pointerType)&&g.originalEvent.pointerType!==g.originalEvent.MSPOINTER_TYPE_TOUCH||!b.isNumeric(g.originalEvent.pointerType)&&"touch"!==g.originalEvent.pointerType))&&l){var h=g.originalEvent.touches?g.originalEvent.touches[0]:
  !1,k=u,n=t;h?(q.scrollTo(a+c-h.pageX,d+e-h.pageY),f=f||5<Math.abs(c-h.pageX)||5<Math.abs(e-h.pageY)):(q.scrollTo(a+c-g.originalEvent.clientX,d+e-g.originalEvent.clientY),f=f||5<Math.abs(c-g.originalEvent.clientX)||5<Math.abs(e-g.originalEvent.clientY));f=f||5<Math.abs(c-h.pageX)||5<Math.abs(e-h.pageY);return k===u&&n===t}}).bind("touchend.jsp MSPointerUp.jsp pointerup.jsp",function(a){a.originalEvent.pointerType&&(b.isNumeric(a.originalEvent.pointerType)&&a.originalEvent.pointerType!==a.originalEvent.MSPOINTER_TYPE_TOUCH||
  !b.isNumeric(a.originalEvent.pointerType)&&"touch"!==a.originalEvent.pointerType)||(l=!1)}).bind("click.jsp-touchclick",function(a){if(f)return f=!1})}var e,q=this,f,r,l,m,w,v,ja,Z,z,A,x,E,t,y,L,u,aa,C,la,T,M,V,W,ba,D,P,K,X,Y,R,ia,qa,ca=!0,ea=!0,da=!1,fa=!1,oa=c.clone(!1,!1).empty(),ka=b.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";if("border-box"===c.css("box-sizing"))var N=ia=0;else ia=c.css("paddingTop")+" "+c.css("paddingRight")+" "+c.css("paddingBottom")+" "+c.css("paddingLeft"),N=(parseInt(c.css("paddingLeft"),
  10)||0)+(parseInt(c.css("paddingRight"),10)||0);b.extend(q,{reinitialise:function(a){a=b.extend({},e,a);F(a)},scrollToElement:function(a,d,b){ga(a,d,b)},scrollTo:function(a,b,c){Q(a,c);I(b,c)},scrollToX:function(a,b){Q(a,b)},scrollToY:function(a,b){I(a,b)},scrollToPercentX:function(a,b){Q(a*(w-r),b)},scrollToPercentY:function(a,b){I(a*(v-l),b)},scrollBy:function(a,b,c){q.scrollByX(a,c);q.scrollByY(b,c)},scrollByX:function(a,b){var c=(G()+Math[0>a?"floor":"ceil"](a))/(w-r);U(c*L,b)},scrollByY:function(a,
  b){var c=(H()+Math[0>a?"floor":"ceil"](a))/(v-l);O(c*E,b)},positionDragX:function(a,b){U(a,b)},positionDragY:function(a,b){O(a,b)},animate:function(a,b,c,f){var d={};d[b]=c;a.animate(d,{duration:e.animateDuration,easing:e.animateEase,queue:!1,step:f})},getContentPositionX:function(){return G()},getContentPositionY:function(){return H()},getContentWidth:function(){return w},getContentHeight:function(){return v},getPercentScrolledX:function(){return G()/(w-r)},getPercentScrolledY:function(){return H()/
  (v-l)},getIsScrollableH:function(){return A},getIsScrollableV:function(){return z},getContentPane:function(){return f},scrollToBottom:function(a){O(E,a)},hijackInternalLinks:b.noop,destroy:function(){var a=H(),b=G();c.removeClass("jspScrollable").unbind(".jsp");f.unbind(".jsp");c.replaceWith(oa.append(f.children()));oa.scrollTop(a);oa.scrollLeft(b);R&&clearInterval(R)}});F(B)}B=b.extend({},b.fn.jScrollPane.defaults,B);b.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){B[this]=
  B[this]||B.speed});return this.each(function(){var c=b(this),F=c.data("jsp");F?F.reinitialise(B):(b("script",c).filter('[type="text/javascript"],:not([type])').remove(),F=new ha(c,B),c.data("jsp",F))})};b.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:void 0,animateScroll:!1,
  animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}});
  ;
  IE.fModule({f:function(exports,require,module,global){(function(n,l){"object"===typeof exports&&"undefined"!==typeof module?module.exports=l():"function"===typeof define&&define.amd?define(l):n.ResizeObserver=l()})(this,function(){function n(b){for(var a=[],c=arguments.length-1;0<c--;)a[c]=arguments[c+1];return a.reduce(function(a,c){return a+(parseFloat(b["border-"+c+"-width"])||0)},0)}var l=function(){function b(b,c){var a=-1;b.some(function(b,e){return b[0]===c?(a=e,!0):!1});return a}return"undefined"!==typeof Map?Map:function(){function a(){this.__entries__=
  []}var c={size:{configurable:!0}};c.size.get=function(){return this.__entries__.length};a.prototype.get=function(a){a=b(this.__entries__,a);return(a=this.__entries__[a])&&a[1]};a.prototype.set=function(a,c){var e=b(this.__entries__,a);~e?this.__entries__[e][1]=c:this.__entries__.push([a,c])};a.prototype["delete"]=function(a){var c=this.__entries__;a=b(c,a);~a&&c.splice(a,1)};a.prototype.has=function(a){return!!~b(this.__entries__,a)};a.prototype.clear=function(){this.__entries__.splice(0)};a.prototype.forEach=function(a,b){void 0===b&&(b=null);for(var c=0,e=this.__entries__;c<e.length;c+=1){var g=e[c];a.call(b,g[1],g[0])}};Object.defineProperties(a.prototype,c);return a}()}(),q="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,p="undefined"!==typeof global&&global.Math===Math?global:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&Math===Math?window:Function("return this")(),x=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(p):function(b){return setTimeout(function(){return b(Date.now())},1E3/60)}}(),y=function(b,a){function c(){f&&(f=!1,b());h&&g()}function e(){x(c)}function g(){var b=Date.now();if(f){if(2>b-d)return;h=!0}else f=!0,h=!1,setTimeout(e,a);d=b}var f=!1,h=!1,d=0;return g},z="top right bottom left width height size weight".split(" "),A="undefined"!==typeof MutationObserver,d=function(){this.mutationEventsAdded_=this.connected_=!1;this.mutationsObserver_=null;this.observers_=[];this.onTransitionEnd_=this.onTransitionEnd_.bind(this);this.refresh=y(this.refresh.bind(this),20)};d.prototype.addObserver=function(b){~this.observers_.indexOf(b)||this.observers_.push(b);this.connected_||this.connect_()};d.prototype.removeObserver=function(b){var a=this.observers_;b=a.indexOf(b);~b&&a.splice(b,1);!a.length&&this.connected_&&this.disconnect_()};d.prototype.refresh=function(){this.updateObservers_()&&this.refresh()};d.prototype.updateObservers_=function(){var b=this.observers_.filter(function(a){return a.gatherActive(),a.hasActive()});b.forEach(function(a){return a.broadcastActive()});return 0<b.length};d.prototype.connect_=function(){q&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),A?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)};d.prototype.disconnect_=function(){q&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.connected_=this.mutationEventsAdded_=!1)};d.prototype.onTransitionEnd_=function(b){var a=b.propertyName;void 0===a&&(a="");z.some(function(b){return!!~a.indexOf(b)})&&
  this.refresh()};d.getInstance=function(){this.instance_||(this.instance_=new d);return this.instance_};d.instance_=null;var u=function(b,a){for(var c=0,e=Object.keys(a);c<e.length;c+=1){var g=e[c];Object.defineProperty(b,g,{value:a[g],enumerable:!1,writable:!1,configurable:!0})}return b},m=function(b){return b&&b.ownerDocument&&b.ownerDocument.defaultView||p},v={x:0,y:0,width:0,height:0},B=function(){return"undefined"!==typeof SVGGraphicsElement?function(b){return b instanceof m(b).SVGGraphicsElement}:function(b){return b instanceof m(b).SVGElement&&"function"===typeof b.getBBox}}(),r=function(b){this.broadcastHeight=this.broadcastWidth=0;this.contentRect_={x:0,y:0,width:0,height:0};this.target=b};r.prototype.isActive=function(){var b=this.target;if(q)if(B(b)){var a=b.getBBox();a={x:0,y:0,width:a.width,height:a.height}}else{var c=b.clientWidth,e=b.clientHeight;if(c||e){var g=m(b).getComputedStyle(b);a={};for(var f=0,h=["top","right","bottom","left"];f<h.length;f+=1){var d=h[f];a[d]=parseFloat(g["padding-"+
  d])||0}var k=a.left+a.right;d=a.top+a.bottom;f=parseFloat(g.width)||0;h=parseFloat(g.height)||0;"border-box"===g.boxSizing&&(Math.round(f+k)!==c&&(f-=n(g,"left","right")+k),Math.round(h+d)!==e&&(h-=n(g,"top","bottom")+d));b!==m(b).document.documentElement&&(b=Math.round(f+k)-c,e=Math.round(h+d)-e,1!==Math.abs(b)&&(f-=b),1!==Math.abs(e)&&(h-=e));a={x:a.left,y:a.top,width:f,height:h}}else a=v}else a=v;this.contentRect_=a;return a.width!==this.broadcastWidth||a.height!==this.broadcastHeight};r.prototype.broadcastRect=function(){var b=this.contentRect_;this.broadcastWidth=b.width;this.broadcastHeight=b.height;return b};var C=function(b,a){var c=a.x,e=a.y,d=a.width,f=a.height,h=Object.create(("undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object).prototype);u(h,{x:c,y:e,width:d,height:f,top:e,right:c+d,bottom:f+e,left:c});u(this,{target:b,contentRect:h})},k=function(b,a,c){this.activeObservations_=[];this.observations_=new l;if("function"!==typeof b)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=b;this.controller_=a;this.callbackCtx_=c};k.prototype.observe=function(b){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(b instanceof m(b).Element))throw new TypeError('parameter 1 is not of type "Element".');var a=this.observations_;a.has(b)||(a.set(b,new r(b)),this.controller_.addObserver(this),this.controller_.refresh())}};k.prototype.unobserve=function(b){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(b instanceof m(b).Element))throw new TypeError('parameter 1 is not of type "Element".');var a=this.observations_;a.has(b)&&(a["delete"](b),a.size||this.controller_.removeObserver(this))}};k.prototype.disconnect=function(){this.clearActive();this.observations_.clear();this.controller_.removeObserver(this)};k.prototype.gatherActive=function(){var b=this;this.clearActive();this.observations_.forEach(function(a){a.isActive()&&b.activeObservations_.push(a)})};k.prototype.broadcastActive=function(){if(this.hasActive()){var b=this.callbackCtx_,a=this.activeObservations_.map(function(a){return new C(a.target,a.broadcastRect())});this.callback_.call(b,a,b);this.clearActive()}};k.prototype.clearActive=function(){this.activeObservations_.splice(0)};k.prototype.hasActive=function(){return 0<this.activeObservations_.length};var w="undefined"!==typeof WeakMap?new WeakMap:new l,t=function(b){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var a=d.getInstance();a=new k(b,a,this);w.set(this,a)};["observe","unobserve","disconnect"].forEach(function(b){t.prototype[b]=function(){var a;return(a=w.get(this))[b].apply(a,arguments)}});var D="undefined"!==typeof p.ResizeObserver?p.ResizeObserver:t;return D});},fn:"resizeobserver.js"});;
  IE.fModule({f:function(exports,require,module,global){require('espace/css/jquery.jscrollpane.css');require('DeclarationJQuery.js');require('jscrollpane/jquery.jscrollpane.js');require('jscrollpane/jquery.jscrollpane.min.js');require('jquery-mousewheel/jquery.mousewheel.js');require('jquery-mousewheel/jquery.mousewheel.min.js')
  ;var ResizeObserver=require('ResizeObserver.js');$.fn.ieScrollPane=function(aOptions){var lOptions=Object.assign({showArrows:true,verticalGutter:2,horizontalGutter:2,mouseWheelSpeed:30,avecResize:true},aOptions);var lResult=this.jScrollPane(lOptions);if(lOptions.avecResize){this.each(function(){var lTimeout;var lJSPapi=$(this).data('jsp');if(lJSPapi){var lJSPane=$(this).find('.jspPane');if(lJSPane.length===1){try{var lElementPane=lJSPane.get(0);var lRect=$.extend({},lElementPane.getBoundingClientRect());lJSPane._surInit=true;new ResizeObserver(function(aObservers){if(lJSPapi._sur_Reinitialise){delete lJSPapi._sur_Reinitialise;clearTimeout(lJSPapi.timeoutReinit);return;}
  if(aObservers[0]&&aObservers[0].contentRect){var lWidthCurrent=aObservers[0].contentRect.width;var lHeightCurrent=aObservers[0].contentRect.height;if(lWidthCurrent>0&&lHeightCurrent>0&&((Math.abs(lWidthCurrent-lRect.width)>1)||(Math.abs(lHeightCurrent-lRect.height)>1))){lRect.width=lWidthCurrent;lRect.height=lHeightCurrent;var lFunc=function(){lJSPapi._sur_Reinitialise=true;lJSPapi.reinitialise();lJSPapi.timeoutReinit=setTimeout(function(){delete lJSPapi._sur_Reinitialise;},10);};if(lJSPane._surInit){if(lTimeout){return;}
  lTimeout=setTimeout(function(){lJSPane._surInit=false;lTimeout=null;lFunc();},100);} else{lFunc();}}}}).observe(lElementPane);} catch(e){}}}
  $(this).on('detroyed',function(){if(lTimeout){clearTimeout(lTimeout);}});});}
  return lResult;};},fn:"declarationjscrollpane.js"});;
  IE.fModule({f:function(exports,require,module,global){if(!Object.keys){Object.keys=(function(){'use strict';var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!({toString:null}).propertyIsEnumerable('toString'),dontEnums=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'
  ],dontEnumsLength=dontEnums.length;return function(obj){if(typeof obj!=='object'&&(typeof obj!=='function'||obj===null)){throw new TypeError('Object.keys called on non-object');}
  var result=[],prop,i;for(prop in obj){if(hasOwnProperty.call(obj,prop)){result.push(prop);}}
  if(hasDontEnumBug){for(i=0;i<dontEnumsLength;i++){if(hasOwnProperty.call(obj,dontEnums[i])){result.push(dontEnums[i]);}}}
  return result;};}());}
  if(typeof Object.create!=='function'){(function(){var F=function(){};Object.create=function(o){if(arguments.length>1){throw Error('Second argument not supported');}
  if(o===null){throw Error('Cannot set a null [[Prototype]]');}
  if(typeof o!=='object'){throw TypeError('Argument must be an object');}
  F.prototype=o;return new F();};})();}
  if(typeof Object.assign!=='function'){(function(){Object.assign=function(target){'use strict';if(target===undefined||target===null){throw new TypeError('Cannot convert undefined or null to object');}
  var output=Object(target);for(var index=1;index<arguments.length;index++){var source=arguments[index];if(source!==undefined&&source!==null){for(var nextKey in source){if(source.hasOwnProperty(nextKey)){output[nextKey]=source[nextKey];}}}}
  return output;};})();}},fn:"object.js"});;
  IE.fModule({f:function(exports,require,module,global){String.prototype.ucfirst=function(){return this.replace(this.charAt(0),this.charAt(0).toUpperCase());};if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,'');};}
  String.prototype.ltrim=function(){return this.replace(/^\s+/,"");};String.prototype.rtrim=function(){return this.replace(/\s+$/,"");};String.prototype.AvecQuotes=function(){return'&quot;'+this+'&quot;';};String.prototype.enleverZero=function(){return parseFloat(this.replace(/,/g,".")).toString();};String.prototype.premierCaractereEnHexa=function(){return this.charCodeAt(0).toString(16);};String.prototype.escapeJQ=function(){return this.replace(/(:|\.|\[|\]|\/)/g,'\\$1');};String.prototype.nl2br=function(){return this.replace(/\n/g,"<br />");};if(!String.prototype.startsWith){String.prototype.startsWith=function(searchString,position){position=position||0;return this.substr(position,searchString.length)===searchString;};}
  if(!String.prototype.endsWith){String.prototype.endsWith=function(searchString,position){var subjectString=this.toString();if(typeof position!=='number'||!isFinite(position)||Math.floor(position)!==position||position>subjectString.length){position=subjectString.length;}
  position-=searchString.length;var lastIndex=subjectString.indexOf(searchString,position);return lastIndex!== -1&&lastIndex===position;};}
  if(!String.prototype.includes){String.prototype.includes=function(search,start){if(typeof start!=='number'){start=0;}
  if(start+search.length>this.length){return false;} else{return this.indexOf(search,start)!== -1;}};}},fn:"string.js"});;
  IE.fModule({f:function(exports,require,module,global){
  if(!Function.prototype.bind){Function.prototype.bind=function(obj){var slice=[].slice,args=slice.call(arguments,1),self=this;var nop=function(){};var bound=function(){return self.apply(this instanceof nop?this:(obj||{}),args.concat(slice.call(arguments)));};nop.prototype=self.prototype;bound.prototype=new nop();return bound;};}},fn:"function.js"});;
  IE.fModule({f:function(exports,require,module,global){
  Math.borner=function(aValeur,aMin,aMax){return Math.max(Math.min(aValeur,aMax),aMin);};Math.log10=Math.log10||function(x){return Math.log(x)*Math.LOG10E;};(function(){function decimalAdjust(type,value,exp){if(typeof exp==='undefined'|| +exp===0){return Math[type](value);}
  value= +value;exp= +exp;if(value===null||isNaN(value)||!(typeof exp==='number'&&exp%1===0)){return NaN;}
  if(value<0){return-decimalAdjust(type,-value,exp);}
  value=value.toString().split('e');value=Math[type](+(value[0]+'e'+(value[1]?(+value[1]-exp):-exp)));value=value.toString().split('e');return+(value[0]+'e'+(value[1]?(+value[1]+exp):exp));}
  if(!Math.round10){Math.round10=function(value,exp){return decimalAdjust('round',value,exp);};}
  if(!Math.floor10){Math.floor10=function(value,exp){return decimalAdjust('floor',value,exp);};}
  if(!Math.ceil10){Math.ceil10=function(value,exp){return decimalAdjust('ceil',value,exp);};}})();},fn:"math.js"});;
  IE.fModule({f:function(exports,require,module,global){if(!Array.isArray){Array.isArray=function(arg){return Object.prototype.toString.call(arg)==='[object Array]';};}
  if(!Array.from){Array.from=(function(){var toStr=Object.prototype.toString;var isCallable=function(fn){return typeof fn==='function'||toStr.call(fn)==='[object Function]';};var toInteger=function(value){var number=Number(value);if(isNaN(number)){return 0;}
  if(number===0||!isFinite(number)){return number;}
  return(number>0?1:-1)*Math.floor(Math.abs(number));};var maxSafeInteger=Math.pow(2,53)-1;var toLength=function(value){var len=toInteger(value);return Math.min(Math.max(len,0),maxSafeInteger);};return function from(arrayLike){var C=this;var items=Object(arrayLike);if(arrayLike==null){throw new TypeError("Array.from doit utiliser un objet semblable à un tableau - null ou undefined ne peuvent pas être utilisés");}
  var mapFn=arguments.length>1?arguments[1]:void undefined;var T;if(typeof mapFn!=='undefined'){if(!isCallable(mapFn)){throw new TypeError('Array.from: lorsqu il est utilisé le deuxième argument doit être une fonction');}
  if(arguments.length>2){T=arguments[2];}}
  var len=toLength(items.length);var A=isCallable(C)?Object(new C(len)):new Array(len);var k=0;var kValue;while(k<len){kValue=items[k];if(mapFn){A[k]=typeof T==='undefined'?mapFn(kValue,k):mapFn.call(T,kValue,k);} else{A[k]=kValue;}
  k+=1;}
  A.length=len;return A;};}());}},fn:"array.js"});;
  IE.fModule({f:function(exports,require,module,global){if(!Date.now){Date.now=function now(){return new Date().getTime();};}
  Date.prototype.estAnneeBissextile=function(){return(new Date(this.getFullYear(),1,29).getDate()===29);};},fn:"date.js"});;
  IE.fModule({f:function(exports,require,module,global){require('Object.js');require('String.js');require('Function.js');require('Math.js');require('Array.js');require('Date.js');require('es6-promise.auto.min.js');require('es6-promise.auto.js');},fn:"declarationextensionsobjetnatif.js"});;
  IE.fModule({f:function(exports,require,module,global){require('namespaceie.js');require('DeclarationExtensionsObjetNatif.js');function MethodesObjet(){}
  MethodesObjet.getObjectClass=function(aObjet){if(aObjet&&aObjet.constructor){return MethodesObjet.getNomClassDeConstructeur(aObjet.constructor);}
  return undefined;};MethodesObjet.getNomClassDeConstructeur=function(aConstructeur){if(aConstructeur&&aConstructeur.name){return aConstructeur.name;}
  if(aConstructeur&&aConstructeur.toString&&MethodesObjet.isFunction(aConstructeur)){var T=aConstructeur.toString().match(/function\s*(\w+)/);if(T&&T.length===2){return T[1];}}
  return undefined;};function _dupliquer(aObjet,_aProfondeur,_aDuplicationParesseuse,aProprietaires,aProprietairesCopie){if((!aObjet)||(!MethodesObjet.isObject(aObjet))){return aObjet;}
  if(aObjet.dupliquer){return aObjet.dupliquer();}
  if(Object.prototype.toString.call(aObjet)==='[object File]'){return aObjet;}
  if(_aProfondeur>1000){
  return aObjet;}
  var lIndice= -1;if(aProprietaires.length>0){lIndice=aProprietaires.indexOf(aObjet);}
  if(lIndice>=0){return aProprietairesCopie[lIndice];}
  var lObjetDuplique,lProp;if(aObjet.join&&MethodesObjet.isArray(aObjet)){lObjetDuplique=new Array(aObjet.length);} else if(aObjet.setTime&&MethodesObjet.isDate(aObjet)){lObjetDuplique=new Date();lObjetDuplique.setTime(aObjet.getTime());} else{lObjetDuplique=Object.create(aObjet.constructor.prototype);}
  var lProfondeur=_aProfondeur+1;aProprietaires.push(aObjet);aProprietairesCopie.push(lObjetDuplique);try{var lKeys=Object.keys(aObjet),i;for(i=0;i<lKeys.length;i++){lProp=lKeys[i];var lValeur=aObjet[lProp];if(MethodesObjet.isObject(lValeur)){if(_aDuplicationParesseuse&&(_aProfondeur===0)){lObjetDuplique[lProp]=lValeur;} else{lObjetDuplique[lProp]=_dupliquer(lValeur,lProfondeur,false,aProprietaires,aProprietairesCopie);}} else{lObjetDuplique[lProp]=lValeur;}}} finally{aProprietaires.pop();aProprietairesCopie.pop();}
  return lObjetDuplique;}
  MethodesObjet.dupliquer=function(aObjet,aDuplicationParesseuse){return _dupliquer(aObjet,0,aDuplicationParesseuse,[],[]);};MethodesObjet.isArray=function(object){return Array.isArray(object);};MethodesObjet.isFunction=function(object){return typeof object==='function';};MethodesObjet.isString=function(object){return Object.prototype.toString.call(object)==='[object String]';};MethodesObjet.isNumber=function(object){return!isNaN(object)&&Object.prototype.toString.call(object)==='[object Number]';};MethodesObjet.isUndefined=function(object){return typeof object==='undefined';};MethodesObjet.isObject=function(object){return!!object&&typeof object==='object';};MethodesObjet.isDate=function(object){return Object.prototype.toString.call(object)==='[object Date]';};MethodesObjet.isNan=function(object){var rdigit=/\d/;return object===null||object===undefined||!rdigit.test(object)||isNaN(object);};MethodesObjet.isWindow=function(object){return!!object&&typeof object==='object'&&'setInterval' in object;};MethodesObjet.isArguments=function(object){return Object.prototype.toString.call(object)==='[object Arguments]';};MethodesObjet.get=function(aObjet,aAccesseur){var lObjet,i,lNomProp,lIndexProp;if(!aObjet||!aAccesseur||!aAccesseur.length){return aObjet;}
  if(aAccesseur.trim&&aAccesseur.split){aAccesseur=aAccesseur.split('.');}
  var lLength=aAccesseur.length;if(lLength===0){return aObjet;}
  lObjet=aObjet;for(i=0;i<lLength;i++){if(!lObjet){return undefined;}
  lNomProp=aAccesseur[i];lIndexProp=false;if(lNomProp.indexOf('[')>0&&lNomProp.indexOf(']')===lNomProp.length-1){lIndexProp=lNomProp.match(/\[['"]?(.*)['"]?\]$/)[1];lNomProp=lNomProp.replace(/\[['"]?(.*)['"]?\]$/,'');}
  lObjet=lObjet[lNomProp];if(lIndexProp){lObjet=lObjet[lIndexProp];}}
  return lObjet;};MethodesObjet.set=function(aObjet,aAccesseur,aValue){if(aAccesseur&&aAccesseur.trim&&aAccesseur.split){aAccesseur=aAccesseur.split('.');}
  var lConteneur,lNomProp;if(!aAccesseur||!aAccesseur.length){
  return false;}
  lNomProp=aAccesseur[aAccesseur.length-1];if(aAccesseur.length===1){lConteneur=aObjet;} else{lConteneur=MethodesObjet.get(aObjet,aAccesseur.slice(0,aAccesseur.length-1));}
  if(lConteneur&&lNomProp){lConteneur[lNomProp]=aValue;return true;}
  return false;};MethodesObjet.nomProprieteDeValeur=function(aObjet,aValeur){var lKeys=Object.keys(aObjet),i;for(i=0;i<lKeys.length;i++){if(aValeur===aObjet[lKeys[i]]){return lKeys[i];}}
  return'';};function _indenterEnumere(aEnumere,aParam){var lProp;if(!aParam){aParam={};}
  aParam.indice=aParam.indice||0;if(!aEnumere){return;}
  for(lProp in aEnumere){if(MethodesObjet.isNumber(aEnumere[lProp])){aEnumere[lProp]=aParam.indice;aParam.indice+=1;} else if(MethodesObjet.isObject(aEnumere[lProp])){_indenterEnumere(aEnumere[lProp],aParam);}}}
  MethodesObjet.indenterEnumere=function(aEnumere,aIndiceInitiale){if(MethodesObjet.isObject(aEnumere)){_indenterEnumere(aEnumere,{indice:aIndiceInitiale});}};function _affecterValeurEnumere(aEnumere){var lProp,i;if(!aEnumere){return;}
  var lKeys=Object.keys(aEnumere);for(i=0;i<lKeys.length;i++){lProp=lKeys[i];if(MethodesObjet.isObject(aEnumere[lProp])){_affecterValeurEnumere(aEnumere[lProp]);} else{aEnumere[lProp]=lProp;}}}
  MethodesObjet.affecterValeurEnumere=function(aEnumere){if(MethodesObjet.isObject(aEnumere)){_affecterValeurEnumere(aEnumere);}};MethodesObjet.objetsIdentiques=function(aObjet1,aObjet2,aComparaisonProfonde){if(!aObjet1&&aObjet2||aObjet1&&!aObjet2){return false;}
  if(!aObjet1&&!aObjet2){return true;}
  if(aObjet1===aObjet2){return true;}
  var i,lKeys=Object.keys(aObjet1),lDejaCompare={};for(i=0;i<lKeys.length;i++){if(aObjet1[lKeys[i]]!==aObjet2[lKeys[i]]){if(aComparaisonProfonde===true&&
  MethodesObjet.isObject(aObjet1[lKeys[i]])&&
  MethodesObjet.isObject(aObjet2[lKeys[i]])){lDejaCompare[lKeys[i]]=true;if(!MethodesObjet.objetsIdentiques(aObjet1[lKeys[i]],aObjet2[lKeys[i]],true)){return false;}} else{return false;}}}
  lKeys=Object.keys(aObjet2);for(i=0;i<lKeys.length;i++){if(aObjet1[lKeys[i]]!==aObjet2[lKeys[i]]){if(aComparaisonProfonde===true){if(!lDejaCompare[lKeys[i]]&&
  MethodesObjet.isObject(aObjet1[lKeys[i]])&&
  MethodesObjet.isObject(aObjet2[lKeys[i]])&&
  !MethodesObjet.objetsIdentiques(aObjet1[lKeys[i]],aObjet2[lKeys[i]],true)){return false;}} else{return false;}}}
  return true;};function _getNomPile(aNom){return'__inherited_'+aNom+'__';}
  function _getProtoPere(aObjet){try{return aObjet.constructor.prototype.__pere__;} catch(e){return null;}}
  function _empilerPrototype(aObjet,aNom,aImplementationMethode){var lProtoPere,lProtoFils;var lNomPile=_getNomPile(aNom);if(aObjet[lNomPile]){lProtoFils=aObjet[lNomPile].proto;lProtoPere=_getProtoPere(aObjet[lNomPile].proto);aObjet[lNomPile].compteur++;aObjet[lNomPile].proto=lProtoPere;} else{lProtoFils=aObjet.constructor?aObjet.constructor.prototype:null;lProtoPere=_getProtoPere(aObjet);aObjet[lNomPile]={proto:lProtoPere,compteur:0};}
  if(aImplementationMethode){while(lProtoFils&&!lProtoFils.hasOwnProperty(aNom)&&_getProtoPere(lProtoPere)){lProtoFils=lProtoPere;aObjet[lNomPile].proto=lProtoPere=_getProtoPere(lProtoPere);}
  while(lProtoPere&&!lProtoPere.hasOwnProperty(aNom)){aObjet[lNomPile].proto=lProtoPere=_getProtoPere(lProtoPere);}}
  return aObjet[lNomPile].proto;}
  function _depilerPrototype(aObjet,aNom){aObjet[_getNomPile(aNom)].compteur--;if(aObjet[_getNomPile(aNom)].compteur<0){delete aObjet[_getNomPile(aNom)];}}
  function inheritedCreate(){var lNomPileConstructeur='_constructeur';var lProtoPere=_empilerPrototype(this,lNomPileConstructeur);try{if(lProtoPere&&lProtoPere.constructor){if(arguments&&
  arguments.length===1&&
  arguments[0]&&
  MethodesObjet.isArguments(arguments[0])){lProtoPere.constructor.apply(this,arguments[0]);} else{lProtoPere.constructor.apply(this,arguments);}}} finally{_depilerPrototype(this,lNomPileConstructeur);}}
  function inherited(aMethode){if(!MethodesObjet.isString(aMethode)){return;}
  var lResult;var lProtoPere=_empilerPrototype(this,aMethode,true);try{if(lProtoPere&&lProtoPere[aMethode]){var lArguments=Array.prototype.slice.call(arguments,1);if(lArguments&&
  lArguments.length===1&&
  lArguments[0]&&
  MethodesObjet.isArguments(lArguments[0])){lResult=lProtoPere[aMethode].apply(this,lArguments[0]);} else{lResult=lProtoPere[aMethode].apply(this,lArguments);}}} finally{_depilerPrototype(this,aMethode);}
  return lResult;}
  MethodesObjet.heritagePrototype=function(aClasseFille,aClasseMere){Object.assign(aClasseMere.prototype,{inheritedCreate:inheritedCreate,inherited:inherited});function Local(){}
  Local.prototype=aClasseMere.prototype;aClasseFille.prototype=new Local();aClasseFille.prototype.constructor=aClasseFille;aClasseMere.prototype.constructor=aClasseMere;aClasseFille.prototype.__pere__=aClasseMere.prototype;};module.exports=MethodesObjet;},fn:"methodesobjet.js"});;
  IE.fModule({f:function(exports,require,module,global){require('NamespaceIE.js');var GUID=(function GUID(){var lGUID_id=1,lGUID_ClassCss=1;return{getId:function(){var lResult='id_'+lGUID_id;lGUID_id+=1;return lResult;},getClassCss:function(){var lResult='c_'+lGUID_ClassCss;lGUID_ClassCss+=1;return lResult;},generateur:function(){var lGUID=1,lCompteur=0;this.get=function(){var lResult='g';if(lCompteur>0){lResult+=lCompteur+'x';}
  lResult+=lGUID;if(lGUID===Number.MAX_VALUE){lGUID=1;lCompteur+=1;} else{lGUID+=1;}
  return lResult;};}};}());module.exports=GUID;},fn:"guid.js"});;
  IE.fModule({f:function(exports,require,module,global){require('NamespaceIE.js');require('DeclarationJQuery.js');require('divers.js');var GUID=require('GUID.js');var MethodesObjet=require('MethodesObjet.js');var lGUID_GlobalNomPile=new GUID.generateur();function ObjetInvocateur(){this.pile={};this.pileEvents={};this.generateurGUID=new GUID.generateur();this.nomPileInstance='__pileInvocateur__'+lGUID_GlobalNomPile.get();}
  function _abonner(aParams){if(!aParams.e||!aParams.e.toString){return null;}
  aParams.e=aParams.e.toString();if(!aParams.callB){return null;}
  if(aParams.unicite){this.desabonner(aParams.e,aParams.callB,aParams.inst);}
  if(!this.pileEvents[aParams.e]){this.pileEvents[aParams.e]={};}
  var lId=this.generateurGUID.get();aParams.id=lId;this.pile[lId]=aParams;this.pileEvents[aParams.e][lId]=true;if(aParams.inst){if(!aParams.inst[this.nomPileInstance]){aParams.inst[this.nomPileInstance]={};}
  aParams.inst[this.nomPileInstance][lId]=true;}
  return lId;}
  function _supprimerIds(aIds){if(!aIds){return;}
  var lId,i,lElement,lInstance,lLength;for(i=0,lLength=aIds.length;i<lLength;i+=1){lId=aIds[i];lElement=this.pile[lId];if(lElement){lInstance=lElement.inst;if(lInstance&&lInstance[this.nomPileInstance]&&lInstance[this.nomPileInstance][lId]){delete lInstance[this.nomPileInstance][lId];if($.isEmptyObject(lInstance[this.nomPileInstance])){delete lInstance[this.nomPileInstance];}}
  if(this.pileEvents[lElement.e]){if(this.pileEvents[lElement.e][lId]){delete this.pileEvents[lElement.e][lId];}}
  lElement=null;if(this.pile[lId]){this.pile[lId].__INACTIF__=true;}
  delete this.pile[lId];}}}
  function _abonnerTous(aParam){var lIds=[],lEvent;if(aParam.e&&aParam.e.split){var lTab=aParam.e.split(' ');for(var i=0,lNb=lTab.length;i<lNb;i++){lEvent=lTab[i].trim();lIds.push(_abonner.call(this,{e:lEvent,callB:aParam.callB,inst:aParam.inst,unicite:aParam.unicite,u:aParam.u}));}}
  if(lIds.length===0){return null;}
  if(lIds.length===1){return lIds[0];}
  return lIds;}
  function _desabonnerParEvent(aEvent,aInstance,aCallback){var lEvents=this.pileEvents[aEvent],lPileInstance,lEventsASupprimer,lId,lElement;if(!lEvents){return;}
  if(aInstance){lPileInstance=aInstance[this.nomPileInstance];if(!lPileInstance){return;}
  lEventsASupprimer=[];for(lId in lPileInstance){if(lPileInstance.hasOwnProperty(lId)){lElement=this.pile[lId];if(lElement&&lElement.e===aEvent){if(!aCallback||aCallback===lElement.callB){lEventsASupprimer.push(lId);}}}}} else if(aCallback){lEventsASupprimer=[];for(lId in lEvents){if(this.pile[lId]&&this.pile[lId].callB===aCallback){lEventsASupprimer.push(lId);}}} else{lEventsASupprimer=lEvents;delete this.pileEvents[aEvent];}
  if(lEventsASupprimer&&lEventsASupprimer.length>0){_supprimerIds.bind(this)(lEventsASupprimer);}}
  ObjetInvocateur.prototype.abonner=function(aEvent,aCallback,aInstance,aAvecAbonnementUnicite){return _abonnerTous.call(this,{e:aEvent,callB:aCallback,inst:aInstance,unicite:aAvecAbonnementUnicite!==false?true:false});};ObjetInvocateur.prototype.abonnerUnique=function(aEvent,aCallback,aInstance,aAvecAbonnementUnicite){return _abonnerTous.call(this,{e:aEvent,callB:aCallback,inst:aInstance,u:true,unicite:aAvecAbonnementUnicite!==false?true:false});};ObjetInvocateur.prototype.desabonner=function(aParam1,aParam2,aParam3){if(!aParam1){return;}
  var lEvent,lInstance,lCallBack,lEventsASupprimer,lPileInstance,lId;if(aParam1.push&&aParam1.pop&&MethodesObjet.isArray(aParam1)){_supprimerIds.bind(this)(aParam1);return;}
  if(MethodesObjet.isObject(aParam1)){lInstance=aParam1;lCallBack=aParam2;} else{lEvent=aParam1.toString();if(MethodesObjet.isObject(aParam2)){lInstance=aParam2;} else{lCallBack=aParam2;if(MethodesObjet.isObject(aParam3)){lInstance=aParam3;}}}
  if(lEvent){var lTab=lEvent.split(' ');for(var i=0;i<lTab.length;i++){_desabonnerParEvent.call(this,lTab[i].trim(),lInstance,lCallBack);}} else if(lInstance){lPileInstance=lInstance[this.nomPileInstance];if(lPileInstance){lEventsASupprimer=[];for(lId in lPileInstance){if(lPileInstance.hasOwnProperty(lId)){if(lCallBack){if(this.pile[lId]&&this.pile[lId].callB===lCallBack){lEventsASupprimer.push(lId);}} else{lEventsASupprimer.push(lId);}}}
  if(!lCallBack){delete lInstance[this.nomPileInstance];}
  _supprimerIds.bind(this)(lEventsASupprimer);}}};ObjetInvocateur.prototype.evenement=function(aEvent){if(!aEvent){return;}
  aEvent=aEvent.toString();var lEvents=this.pileEvents[aEvent],i,lId,lElement,lArguments,lLength,lResult,lEventsATraiter=[],lAvecEvenement=false;if(lEvents){for(lId in lEvents){lAvecEvenement=true;lElement=this.pile[lId];if(lElement&&lElement.callB){lEventsATraiter.push(lElement);}}}
  if(!lAvecEvenement){delete this.pileEvents[aEvent];}
  for(i=0,lLength=lEventsATraiter.length;i<lLength;i+=1){lElement=lEventsATraiter[i];if(lElement&&!lElement.__INACTIF__){if(lElement.u){_supprimerIds.bind(this)([lElement.id]);}
  ;if(lElement.callB){lArguments=Array.prototype.slice.call(arguments,1);lResult=lElement.callB.apply(lElement.inst,lArguments);if(lResult===false){return;}}}}};ObjetInvocateur.events={initChiffrement:'IIE_initChiffrement',modificationModeExclusif:'IIE_modification_ModeExclusif',modeExclusif:'IIE_ModeExclusif',modificationPresenceUtilisateur:'IIE_ModificationPresenceUtilisateur',interruption_Requete:'IIE_Interruption_Requete',modification_RequeteAttente:'IIE_Modification_RequeteAttente',activationImpression:'IIE_Activation_Impression',choixImpression:'IIE_choix_impression',autorisationRechargementPage:'IIE_AutorisationRechargementPage',surRechargementPage:'IIE_SurRechargementPage',etatSaisie:'IIE_SetEtatSaisie',fermerFenetres:'IIE_fermer_fenetres',actualisationAffichage:'IIE_actualisation_affichage',eventReponseUpload:'IIE_eventReponseUpload',eventIOAjax:'IIE_eventIOAjax',modificationThemeCouleur:'IEE_modificationThemeCouleur',refreshIEHtml:'IEE_refreshIEHtml',erreurCommunication:'IEE_erreurCommunication',toucheDEBUG:'IIE_ToucheDEBUG',DEBUG_log:'IIE_ADDLOG',DEBUG_logRequete:'IIE_ADDLOG_REQUETE'};var Invocateur=new ObjetInvocateur();module.exports.ObjetInvocateur=ObjetInvocateur;module.exports.Invocateur=Invocateur;},fn:"invocateur.js"});;
  IE.fModule({f:function(exports,require,module,global){require('NamespaceIE.js');require('DeclarationJQuery.js');var GLog={genre:{Message:0,Avertissement:1,Erreur:2}};var _actif=false,_actifRequete=false,_idLogAutorises=[],_compteurRequete=0,_nbRequetesMax=200,_pileLog=[],_pileRequete=[];_idLogAutorises.ERROR=true;GLog.getActif=function(){return _actif;};GLog.setActif=function(aActif){_actif=aActif;if(aActif){this.addLog('Démarrage Log',null,GLog.genre.Avertissement);}};GLog.getActifRequete=function(){return _actifRequete;};GLog.setActifRequete=function(aActif){_actifRequete=aActif;};GLog.addLog=function(aMessage,aIdFiltrage,aGenreLog){if(!_actif){return;}
  if(aIdFiltrage&&_idLogAutorises&&!_idLogAutorises[aIdFiltrage]){return;}
  var lMessage=aMessage&&aMessage.toString?aMessage.toString():'aMessage NON LOGGABLE !!!';var lLog={message:lMessage,genreLog:aGenreLog,date:new Date()};_pileLog.push(lLog);this.addConsoleLog(aMessage,aGenreLog);require('Invocateur.js').Invocateur.evenement(require('Invocateur.js').ObjetInvocateur.events.DEBUG_log,lLog);};GLog.vider=function(){_pileLog=[];require('Invocateur.js').Invocateur.evenement(require('Invocateur.js').ObjetInvocateur.events.DEBUG_log,null);};GLog.setIDFiltrageLog=function(aID,aAutoriser){if(aAutoriser){_idLogAutorises[aID]=true;} else{delete _idLogAutorises[aID];}};GLog.addRequete=function(aDonnees){if(!this.getActifRequete()){return;}
  var lDonnees={nomRequete:'',numeroRequete:0,numeroOrdre:0,chrono:null,estReponse:false,lgcontenu:null,estSaisie:false};Object.assign(lDonnees,aDonnees);lDonnees.date=new Date();_compteurRequete+=1;_pileRequete.push(lDonnees);if(_pileRequete.length>_nbRequetesMax){_pileRequete.shift();}
  require('Invocateur.js').Invocateur.evenement(require('Invocateur.js').ObjetInvocateur.events.DEBUG_logRequete,lDonnees);};GLog.getCompteurRequete=function(){return _compteurRequete;};GLog.getPile=function(){return _pileLog;};GLog.getRequetes=function(){return _pileRequete;};GLog.addConsoleLog=function(aMessage,aGenreMsg){};GLog.addConsoleLogObjet=function(aObjet,aLibelle){};GLog.addConsolePileAppel=function(aLibelle){};module.exports=GLog;},fn:"ielog.js"});;
  IE.fModule({f:function(exports,require,module,global){require('DeclarationExtensionsObjetNatif.js');global.assert=function(aIgnorer,aMessage){};function breakpoint(){}
  module.exports.breakpoint=breakpoint;},fn:"divers.js"});;
  IE.fModule({f:function(exports,require,module,global){require('DeclarationJQuery.js');$.fn.inputDisabled=function(aValue){var $this=$(this);if(aValue===undefined){return $this.is(':disabled');} else{$this.attr('disabled',!!aValue);$this.trigger('IEDisabled');return $this;}};},fn:"jinputdisabled.js"});;
  IE.fModule({f:function(exports,require,module,global){require('DeclarationJQuery.js');$.fn.inputChecked=function(aValue){var $this=$(this);if(aValue===undefined){return $this.is(':checked');}
  $this.prop('checked',aValue);$this.trigger('IEChecked');return $this;};$.fn.cbIndeterminate=function(aValue){var $this=$(this);if(aValue===undefined){var lValeur=false;try{lValeur=$this.is(':indeterminate');} catch(e){lValeur=!!this.indeterminate;}
  return lValeur;}
  $this.prop('indeterminate',aValue);$this.trigger('IECBIndeterminate');return $this;};},fn:"jinputchecked.js"});;
  IE.fModule({f:function(exports,require,module,global){require('DeclarationExtensionsObjetNatif.js');function MethodesTableau(){}
  MethodesTableau.existe=function(aValeur,aTableau){return aTableau.indexOf(aValeur)!== -1;};function _filterIntersection(aTableauCompare ,aElement){return aTableauCompare.indexOf(aElement)!== -1;}
  MethodesTableau.intersection=function(aTableau1,aTableau2){var lResult,i;if(aTableau1&&aTableau1.filter){return aTableau1.filter(_filterIntersection.bind(this,aTableau2));}
  lResult=[];for(i=0;i<aTableau1.length;i++){if(MethodesTableau.existe(aTableau2,aTableau1[i])){lResult.push(aTableau1[i]);}}
  return lResult;};MethodesTableau.existeIntersection=function(aTableau1,aTableau2){return MethodesTableau.intersection(aTableau1,aTableau2).length>0;};function _everyInclus(aTableauCompare ,aElement){return aTableauCompare.indexOf(aElement)!== -1;}
  MethodesTableau.inclus=function(aTableau1,aTableau2){if(!Array.isArray(aTableau1)||!Array.isArray(aTableau2)){return false;}
  var I;if(aTableau1.every){return!!aTableau1.every(_everyInclus.bind(this,aTableau2));}
  for(I=0;I<aTableau1.length;I++){if(!_everyInclus(aTableau2,aTableau1[I])){return false;}}
  return true;};MethodesTableau.insererElement=function(aValeur,aTableau,aIndex){if(!Array.isArray(aTableau)){return false;}
  if(aIndex>=0){var T=aTableau.slice(aIndex);aTableau.length=aIndex;aTableau.push(aValeur);Array.prototype.push.apply(aTableau,T);} else{aTableau.push(aValeur);}};MethodesTableau.supprimerElement=function(aTableau,aIndex){aTableau.splice(aIndex,1);};MethodesTableau.remove=function(aTableau,aElement){var lIndex=aTableau.indexOf(aElement),lResult=false;while(lIndex>=0){aTableau.splice(lIndex,1);lResult=true;lIndex=aTableau.indexOf(aElement);}
  return lResult;};MethodesTableau.parcourir=function(aTableau,aMethode,thisArg){var i,lLength;if(!Array.isArray(aTableau)){return;}
  for(i=0,lLength=aTableau.length;i<lLength;i++){if(aMethode.call(thisArg,aTableau[i],i)===true){return;}}};MethodesTableau.nombreElements=function(aTableau){var lNombre=0,i,lElement;for(i=0;i<aTableau.length;i++){lElement=aTableau[i];if(lElement!==null||lElement!==undefined){lNombre++;}}
  return lNombre;};MethodesTableau.binaryIndexOf=function(aArray,aElement){if(!Array.isArray(aArray)){return-1;}
  var lMinIndex=0;var lMaxIndex=aArray.length-1;var lIndexCourant;var lElementCourant;while(lMinIndex<=lMaxIndex){lIndexCourant=(lMinIndex+lMaxIndex)/2 | 0;lElementCourant=aArray[lIndexCourant];if(lElementCourant<aElement){lMinIndex=lIndexCourant+1;} else if(lElementCourant>aElement){lMaxIndex=lIndexCourant-1;} else{return lIndexCourant;}}
  return-1;};MethodesTableau.indexOfMask=function(aArray,aMask){var lIndice= -1;if(!Array.isArray(aArray)){return lIndice;}
  if(!aMask||aArray.length===0){return lIndice;}
  try{var lKeys=Object.keys(aMask);if(lKeys.length>0){aArray.every(function(aBouton,aIndice){var lTrouve=true;lKeys.every(function(aKey){if(aMask[aKey]===aBouton[aKey]){return true;}
  lTrouve=false;return false;});if(lTrouve){lIndice=aIndice;}
  return lIndice<0;});}} catch(e){lIndice= -1;}
  return lIndice;};module.exports=MethodesTableau;},fn:"methodestableau.js"});;
  IE.fModule({f:function(exports,require,module,global){var GLog=require('IELog.js');var ObjetInvocateur=require('Invocateur.js').ObjetInvocateur;var Invocateur=require('Invocateur.js').Invocateur;var MethodesObjet=require('MethodesObjet.js');function ControleSaisieEvenement(aCallback,aSansControleNavigation){if(!aCallback||!MethodesObjet.isFunction(aCallback)){
  return;}
  if(aSansControleNavigation!==true&&window.GApplication&&!GApplication.getModeExclusif()){var lCallback=null;if(_avecSaisieEnCoursActive()){lCallback=uSaisieEnCours.saisie.bind(this,aCallback);uSaisieEnCours=null;}
  if(lCallback||(window.GEtatUtilisateur&&window.GEtatUtilisateur.EtatSaisie)){var lPage=window.GEtatUtilisateur&&window.GEtatUtilisateur.GetPageCourante?window.GEtatUtilisateur.GetPageCourante():null;if(!lPage){
  aCallback();return;}
  if(!lCallback){lCallback=lPage.Valider?lPage.Valider.bind(lPage):null;}
  if(!MethodesObjet.isFunction(lCallback)){
  aCallback();return;}
  Invocateur.evenement(ObjetInvocateur.events.etatSaisie,false);delete lPage._callbackNavigation;var lMethodeValider=function(){if(lPage.ActionSurValidation){lPage._callbackNavigation=aCallback;}
  var lResult=lCallback();lPage.focusSurPremierObjet();return lResult;};return lMethodeValider();}}
  return aCallback();}
  var uSaisieEnCours=null,uSaisieEnCoursExecution=false;function _avecSaisieEnCoursActive(){return uSaisieEnCours&&
  MethodesObjet.isFunction(uSaisieEnCours.saisie)&&(!MethodesObjet.isFunction(uSaisieEnCours.actif)||uSaisieEnCours.actif()===true);}
  ControleSaisieEvenement.saisieEnCours=function(){if(window.GApplication&&GApplication.getModeExclusif()){uSaisieEnCours=null;uSaisieEnCoursExecution=false;return false;}
  if(_avecSaisieEnCoursActive()){if(!uSaisieEnCoursExecution){uSaisieEnCoursExecution=true;var lSaisieEnCours=uSaisieEnCours;uSaisieEnCours=null;Promise.resolve().then(function(){return lSaisieEnCours.saisie.apply(this,arguments);}.bind(this)).catch(function(e){GLog.addLog('erreur saisieEnCours '+e);}).then(function(){uSaisieEnCoursExecution=false;}.bind(this));}
  return true;}
  return false;};ControleSaisieEvenement.addSaisieEnCours=function(aCallback){uSaisieEnCoursExecution=false;if(window.GApplication&&GApplication.getModeExclusif()){uSaisieEnCours=null;return;}
  var lSaisie={actif:null,saisie:null};if(MethodesObjet.isFunction(aCallback)){lSaisie.saisie=aCallback;} else if(MethodesObjet.isObject(aCallback)&&MethodesObjet.isFunction(aCallback.saisie)){lSaisie.saisie=aCallback.saisie;lSaisie.actif=aCallback.actif;}
  if(lSaisie.saisie){uSaisieEnCours=lSaisie;} else{uSaisieEnCours=null;}};module.exports=ControleSaisieEvenement;},fn:"controlesaisieevenement.js"});;
  IE.fModule({f:function(exports,require,module,global){var TypeChampsJSON={type:'_T',valeur:'V'};module.exports=TypeChampsJSON;},fn:"enumere_champsjson.js"});;
  IE.fModule({f:function(exports,require,module,global){var EGenreEtat={Aucun:0,Creation:1,Modification:2,Suppression:3,FilsModification:4};module.exports=EGenreEtat;},fn:"enumere_etat.js"});;
  IE.fModule({f:function(exports,require,module,global){var MethodesObjet=require('MethodesObjet.js');var EGenreEtat=require('Enumere_Etat.js');function ObjetElement(ALibelle,ANumero,AGenre,APosition,AActif){this.Libelle=ALibelle;this.Numero=ANumero;this.Genre=AGenre;this.Position=APosition;this.Actif=AActif===null||AActif===undefined?true:AActif;this.Etat=EGenreEtat.Aucun;}
  var _numeroCreation= -1000;ObjetElement.const_JSON={numero:{JSON:'N',champ:'Numero'},libelle:{JSON:'L',champ:'Libelle'},genre:{JSON:'G',champ:'Genre'},position:{JSON:'P',champ:'Position'},etat:{JSON:'E',champ:'Etat'},actif:{JSON:'A',champ:'Actif'},tailleNumero:12};ObjetElement.getNumeroCreation=function(){_numeroCreation+= -1;return _numeroCreation;};function _toJSON(aElement){var lNumero=aElement.GetNumero(),lGenre=aElement.GetGenre(),lLibelle=aElement.GetLibelle();var lJSON={};lJSON[ObjetElement.const_JSON.numero.JSON]=lNumero;if(lGenre!==undefined&&lGenre!==null){lJSON[ObjetElement.const_JSON.genre.JSON]=lGenre;}
  if(lLibelle){lJSON[ObjetElement.const_JSON.libelle.JSON]=lLibelle;}
  if(aElement.Etat){lJSON[ObjetElement.const_JSON.etat.JSON]=aElement.Etat;}
  return lJSON;}
  function _propToJSONHorsFormat(aSource,aCible){var lProp,i,lCible=aCible||{},lKeys=Object.keys(aSource);for(i=0;i<lKeys.length;i++){lProp=lKeys[i];if(aSource[lProp]!==undefined&&!$.isFunction(aSource[lProp])&&lProp!==ObjetElement.const_JSON.libelle.champ&&lProp!==ObjetElement.const_JSON.numero.champ&&lProp!==ObjetElement.const_JSON.genre.champ&&lProp!==ObjetElement.const_JSON.position.champ&&lProp!==ObjetElement.const_JSON.etat.champ){lCible[lProp]=aSource[lProp];}}
  return lCible;}
  ObjetElement.prototype.toJSON=function(){return _toJSON(this);};ObjetElement.prototype.toJSONAll=function(){var lJSON=_toJSON(this);return _propToJSONHorsFormat(this,lJSON);};ObjetElement.prototype.fromJSON=function(aJSON){if(!aJSON){return this;}
  this.Libelle=aJSON[ObjetElement.const_JSON.libelle.JSON]||'';this.Numero=aJSON[ObjetElement.const_JSON.numero.JSON]==='0'?0:aJSON[ObjetElement.const_JSON.numero.JSON];this.Genre=aJSON[ObjetElement.const_JSON.genre.JSON];this.Position=aJSON[ObjetElement.const_JSON.position.JSON];if(aJSON[ObjetElement.const_JSON.actif.JSON]!==undefined){this.Actif=aJSON[ObjetElement.const_JSON.actif.JSON];}
  return this;};ObjetElement.prototype.copieJSON=function(aJSON){var lProp;for(lProp in aJSON){if(lProp!==ObjetElement.const_JSON.libelle.JSON&&lProp!==ObjetElement.const_JSON.numero.JSON&&lProp!==ObjetElement.const_JSON.genre.JSON&&lProp!==ObjetElement.const_JSON.position.JSON){this[lProp]=aJSON[lProp];}}
  return this;};ObjetElement.prototype.copieToJSON=function(aJSON){return _propToJSONHorsFormat(this,aJSON);};ObjetElement.prototype.GetLibelle=function(){return this.Libelle;};ObjetElement.prototype.GetNumero=function(){return this.Numero;};ObjetElement.prototype.GetGenre=function(){return this.Genre;};ObjetElement.prototype.GetActif=function(){return this.Actif;};ObjetElement.prototype.GetPosition=function(){return this.Position;};ObjetElement.prototype.getDonnees=function(){return this.donnees;};ObjetElement.prototype.existeNumero=function(){var lNumero=this.GetNumero();if(lNumero&&lNumero.indexOf&&lNumero.length>ObjetElement.const_JSON.tailleNumero){lNumero=lNumero.substr(lNumero.length-ObjetElement.const_JSON.tailleNumero,lNumero.length);}
  return lNumero&&(lNumero!=='0')?true:false;};ObjetElement.prototype.Existe=function(){return this.Etat!==EGenreEtat.Suppression;};ObjetElement.prototype.PourValidation=function(){return this._validationSaisie||false;};ObjetElement.prototype.SetLibelle=function(aLibelle){this.Libelle=aLibelle;};ObjetElement.prototype.SetNumero=function(aNumero){this.Numero=aNumero;};ObjetElement.prototype.SetActif=function(aActif){this.Actif=aActif;};ObjetElement.prototype.setDonnees=function(aDonnees){this.donnees=aDonnees;};ObjetElement.prototype.getGenreTable=function(){if(this.Numero&&this.Numero.indexOf&&this.Numero.length>ObjetElement.const_JSON.tailleNumero){var lGenreTable=parseInt(this.Numero.substr(0,this.Numero.length-ObjetElement.const_JSON.tailleNumero),10);if(MethodesObjet.isNumber(lGenreTable)){return lGenreTable;}}
  return 0;};ObjetElement.prototype.egalParNumeroEtGenre=function(aNumero,aGenre,aAvecExiste){if((aNumero===null||aNumero===undefined)&&(aGenre===null||aGenre===undefined)){return false;}
  return(!aAvecExiste||this.Existe())&&((aNumero===null||aNumero===undefined)||(this.GetNumero()===aNumero))&&((aGenre===null||aGenre===undefined)||(this.GetGenre()===aGenre));};ObjetElement.prototype.getCle=function(){return'_'+this.Genre+'_'+this.Numero;};ObjetElement.prototype.SetEtat=function(AEtat){if(this.Etat===AEtat){return this;}
  switch(AEtat){case EGenreEtat.Aucun:delete this._validationSaisie;this.Etat=EGenreEtat.Aucun;break;case EGenreEtat.Creation:if(this.Etat===EGenreEtat.Aucun){this._validationSaisie=true;this.Etat=EGenreEtat.Creation;if(this.Numero===null||this.Numero===undefined){this.Numero=ObjetElement.getNumeroCreation();}}
  break;case EGenreEtat.Modification:if((this.Etat===EGenreEtat.Aucun)||(this.Etat===EGenreEtat.FilsModification)){this._validationSaisie=true;this.Etat=(this.Numero!==0)&&((this.Numero!==null&&this.Numero!==undefined))?EGenreEtat.Modification:EGenreEtat.Creation;if(this.Numero===null||this.Numero===undefined){this.Numero=ObjetElement.getNumeroCreation();}}
  break;case EGenreEtat.Suppression:if(this.Etat===EGenreEtat.Creation){delete this._validationSaisie;} else{this._validationSaisie=true;}
  this.Etat=EGenreEtat.Suppression;break;case EGenreEtat.FilsModification:if(this.Etat===EGenreEtat.Aucun){this._validationSaisie=true;this.Etat=EGenreEtat.FilsModification;}
  break;}
  return this;};ObjetElement.prototype.afficher=function(){};module.exports=ObjetElement;},fn:"objetelement.js"});;
  IE.fModule({f:function(exports,require,module,global){var EGenreTriElement={Croissant:1,Decroissant:-1};module.exports=EGenreTriElement;},fn:"enumere_trielement.js"});;
  IE.fModule({f:function(exports,require,module,global){var EGenreDocumentJoint={Url:0,Fichier:1,Cloud:2,LienKiosque:3};module.exports=EGenreDocumentJoint;},fn:"enumere_documentjoint.js"});;
  IE.fModule({f:function(exports,require,module,global){require('DeclarationJQuery.js');var MethodesObjet=require('MethodesObjet.js');var Support={init:false};Support.GenreNavigateur={Standard:1,Webkit:2,Moz:3,Opera:4,IE:5};function _initTableau(){var lTableau=[],lProp;for(lProp in Support.GenreNavigateur){lTableau[Support.GenreNavigateur[lProp]]=false;}
  return lTableau;}
  var uPileInit=[];Support.addInit=function(aCallback){if(this.init){aCallback();} else{uPileInit.push(aCallback);}};function _testerSupports(aDoc){var lProp;var LExtensionsStyle={};LExtensionsStyle[(MethodesObjet.nomProprieteDeValeur(Support.GenreNavigateur,Support.GenreNavigateur.Standard))]='';LExtensionsStyle[(MethodesObjet.nomProprieteDeValeur(Support.GenreNavigateur,Support.GenreNavigateur.Webkit))]='Webkit';LExtensionsStyle[(MethodesObjet.nomProprieteDeValeur(Support.GenreNavigateur,Support.GenreNavigateur.Moz))]='Moz';LExtensionsStyle[(MethodesObjet.nomProprieteDeValeur(Support.GenreNavigateur,Support.GenreNavigateur.Opera))]='O';LExtensionsStyle[(MethodesObjet.nomProprieteDeValeur(Support.GenreNavigateur,Support.GenreNavigateur.IE))]='MS';var lExtensionsCss={};lExtensionsCss[(MethodesObjet.nomProprieteDeValeur(Support.GenreNavigateur,Support.GenreNavigateur.Standard))]='';lExtensionsCss[(MethodesObjet.nomProprieteDeValeur(Support.GenreNavigateur,Support.GenreNavigateur.Webkit))]='-webkit-';lExtensionsCss[(MethodesObjet.nomProprieteDeValeur(Support.GenreNavigateur,Support.GenreNavigateur.Moz))]='-moz-';lExtensionsCss[(MethodesObjet.nomProprieteDeValeur(Support.GenreNavigateur,Support.GenreNavigateur.Opera))]='-o-';lExtensionsCss[(MethodesObjet.nomProprieteDeValeur(Support.GenreNavigateur,Support.GenreNavigateur.IE))]='-ms-';var lElement=aDoc.createElement('div');function _contains(aChaine,aSousChaine){return(''+aChaine).indexOf(aSousChaine)!== -1;}
  function _getNomPropEtendu(aStyle,aExtension){return(aExtension.length>0)?aExtension+aStyle.ucfirst():aStyle;}
  function _existeStyle(aStyle,aExtension){return!MethodesObjet.isUndefined(lElement.style[_getNomPropEtendu(aStyle,aExtension)]);}
  function _leStyleContientLaChaine(aStyle,aExtension,aChaine){var lStyle=lElement.style[_getNomPropEtendu(aStyle,aExtension)];return!MethodesObjet.isUndefined(lStyle)&&_contains(lStyle,aChaine);}
  Support.supportFilterIE=!MethodesObjet.isUndefined(lElement.style.filter);if(!MethodesObjet.isUndefined(lElement.style.filter)){lElement.style.filter="progid:DXImageTransform.Microsoft.Gradient(gradientType=1,startColorStr=yellow,endColorStr=red);";Support.supportFilterIE=(lElement.style.filter.length>0);}
  for(lProp in LExtensionsStyle){Support.supportBorderRadius[Support.GenreNavigateur[lProp]]=_existeStyle('borderRadius',LExtensionsStyle[lProp]);if(Support.supportBorderRadius[Support.GenreNavigateur[lProp]]){Support.avecBorderRadius=true;}}
  lElement.style.cssText='background: linear-gradient(180deg, yellow, blue);';Support.supportGradient[Support.GenreNavigateur.Standard]=_contains(lElement.style.background,'gradient');lElement.style.cssText='background: -ms-linear-gradient(180deg, yellow, blue);';Support.supportGradient[Support.GenreNavigateur.IE]=_contains(lElement.style.background,'gradient');lElement.style.cssText='background: -webkit-gradient(180deg, left top, right top, from(blue), to(yellow));';Support.supportGradient[Support.GenreNavigateur.Webkit]=_contains(lElement.style.background,'gradient');lElement.style.cssText='background: -moz-linear-gradient(180deg, yellow, blue);';Support.supportGradient[Support.GenreNavigateur.Moz]=_contains(lElement.style.background,'gradient');for(lProp in LExtensionsStyle){lElement.style.cssText=lExtensionsCss[lProp]+'opacity:.5;';Support.supportOpacity[Support.GenreNavigateur[lProp]]=_leStyleContientLaChaine('opacity',LExtensionsStyle[lProp],'0.5');if(Support.supportOpacity[Support.GenreNavigateur[lProp]]){Support.avecSupportOpacity=true;}}
  for(lProp in LExtensionsStyle){Support.supportBoxShadow[Support.GenreNavigateur[lProp]]=_existeStyle('boxShadow',LExtensionsStyle[lProp]);if(Support.supportBoxShadow[Support.GenreNavigateur[lProp]]){Support.avecSupportBoxShadow=true;}}
  for(lProp in LExtensionsStyle){Support.supportUserSelect[Support.GenreNavigateur[lProp]]=_existeStyle('userSelect',LExtensionsStyle[lProp]);if(Support.supportUserSelect[Support.GenreNavigateur[lProp]]){Support.avecUserSelect=true;}}
  for(lProp in LExtensionsStyle){Support.supportBackgroundSize[Support.GenreNavigateur[lProp]]=_existeStyle('backgroundSize',LExtensionsStyle[lProp]);if(Support.supportBackgroundSize[Support.GenreNavigateur[lProp]]){Support.avecBackgroundSize=true;}}
  Support.supportEventOnSelectStart=!MethodesObjet.isUndefined(lElement.onselectstart);for(lProp in LExtensionsStyle){Support.supportTransitions[Support.GenreNavigateur[lProp]]=_existeStyle('transitionProperty',LExtensionsStyle[lProp]);if(Support.supportTransitions[Support.GenreNavigateur[lProp]]){Support.avecSupportTransitions=true;}}
  Support.transitionEndEvent=(function(){var t;var el=document.createElement('fakeelement');var transitions={'WebkitTransition':'webkitTransitionEnd','MozTransition':'transitionend','MSTransition':'msTransitionEnd','OTransition':'oTransitionEnd','transition':'transitionEnd'};for(t in transitions){if(el.style[t]!==undefined){return transitions[t];}}})();var lNomTransform;for(lProp in LExtensionsStyle){lNomTransform='';switch(Support.GenreNavigateur[lProp]){case Support.GenreNavigateur.Standard:lNomTransform='transform';break;case Support.GenreNavigateur.Webkit:lNomTransform='WebkitTransform';break;case Support.GenreNavigateur.Moz:lNomTransform='MozTransform';break;case Support.GenreNavigateur.Opera:lNomTransform='OTransform';break;case Support.GenreNavigateur.IE:lNomTransform='msTransform';break;}
  Support.supportTransforms[Support.GenreNavigateur[lProp]]=!MethodesObjet.isUndefined(lElement.style[lNomTransform]);if(Support.supportTransforms[Support.GenreNavigateur[lProp]]){Support.avecSupportTransform=true;}}
  Support.supportEventOnPopState=!MethodesObjet.isUndefined(window.onpopstate);Support.supportEventPaste='onpaste' in lElement;Support.supportEventInput='oninput' in lElement;Support.supportTouch=('ontouchstart' in window)||(window.DocumentTouch&&document instanceof window.DocumentTouch);Support.supportPointerEvent=!!window.PointerEvent;Support.supportTouchPointerEvent=Support.supportPointerEvent&&window.navigator.maxTouchPoints>0;Support.supportMSPointerEvent=!!window.navigator.msPointerEnabled;Support.tactile=Support.supportTouch||Support.supportTouchPointerEvent;Support.avecSupportFileUpload=(function(){if(navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/)){return false;}
  var el=document.createElement("input");el.type="file";return!el.disabled;})();Support.supportCanvas=!!aDoc.createElement('canvas').getContext;Support.supportCanvasText=!!(Support.supportCanvas&&typeof(aDoc.createElement('canvas').getContext('2d').fillText)==='function');Support.supportBlob=_supportBlob();Support.permissionNotification={defaut:"default",granted:"granted",denied:"denied"};Support.supportNotification=_supportNotif();Support.refreshNotification=function(){Support.supportNotification=_supportNotif();};Support.speechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition||null;}
  function _supportBlob(){var lBlob=false;try{lBlob=new Blob(['a'],{type:'text/plain'});} catch(e1){try{var BlobBuilder=window.MozBlobBuilder||window.WebKitBlobBuilder||window.BlobBuilder;if(e1.name==='TypeError'&&window.BlobBuilder){var bb=new BlobBuilder();bb.append(['a']);lBlob=bb.getBlob('text/plain');} else if(e1.name==='InvalidStateError'){lBlob=new Blob(['a'],{type:'text/plain'});}} catch(e2){return false;}}
  if(lBlob){return true;}
  return false;}
  function _supportNotif(){var isSupported=false;try{isSupported=!!(window.Notification||window.webkitNotifications||navigator.mozNotification);if(isSupported){if(window.Notification&&window.Notification.permissionLevel){isSupported=window.Notification.permissionLevel();} else if(window.webkitNotifications&&window.webkitNotifications.checkPermission){if(window.webkitNotifications.checkPermission()===0){isSupported=Support.permissionNotification.granted;} else if(window.webkitNotifications.checkPermission()===2){isSupported=Support.permissionNotification.denied;} else{isSupported=Support.permissionNotification.defaut;}} else if(navigator.mozNotification){isSupported=Support.permissionNotification.granted;} else if(window.Notification&&window.Notification.permission){isSupported=window.Notification.permission;}}} catch(e){}
  return isSupported;}
  function _testerSupportHtml(){var lBody=document.getElementsByTagName("BODY")[0];var lElement=document.createElement('div');lBody.appendChild(lElement);var lTaille=50;var lId='_test_';lElement.innerHTML='<div id="'+lId+'" style="height:auto;"><div style="height:'+lTaille+'px; padding:4px;">&nbsp;</div></div>';Support.bordureExterneDIV=document.getElementById(lId).offsetHeight===lTaille;lElement.innerHTML='<table cellpadding="0" cellspacing="0" border="0"><tr><td class="PetitEspace" id="'+lId+'" style="height:'+lTaille+'px;"><div style="">&nbsp;</div></td></tr></table>';Support.bordureExterneTD=document.getElementById(lId).offsetHeight===lTaille;lElement.innerHTML='<div style="position:relative;height:'+lTaille+'px;width:50px;"><div id="'+lId+'" style="position:absolute; top:0px; bottom:0px; left:0px; right:0px;"></div></div>';Support.positionAbsoluteOppose=document.getElementById(lId).offsetHeight===lTaille;lElement.innerHTML='<table style="position:absolute; z-index:-1; visibility:hidden"><tr>'+'<td style="height:'+lTaille+'px;">'+'<div id="'+lId+'" style="height:100%"><div style="height:'+(lTaille+20)+'px;"></div></div>'+'</td></tr></table>';Support.div100PourcentDansTDGardeHauteurTD=document.getElementById(lId).offsetHeight===lTaille;lElement.innerHTML='<div id="dessous" style="position:absolute;height:10px;width:10px;top:0;left:0;"></div>'+'<div id="dessus" style="position:absolute;height:10px;width:10px;top:0;left:0; pointer-events:none;"></div>';var lTrouve=document.elementFromPoint?document.elementFromPoint(1,1):null;Support.supportPointerEventsNone=!!lTrouve&&lTrouve.id==='dessous';lBody.removeChild(lElement);}
  Support=$.extend({supportFilterIE:false,supportEventOnSelectStart:false,supportEventOnPopState:false,supportEventPaste:false,supportEventInput:false,supportTouch:false,supportPointerEvent:false,supportTouchPointerEvent:false,supportMSPointerEvent:false,tactile:false,supportBorderRadius:_initTableau(),avecBorderRadius:false,supportGradient:_initTableau(),supportOpacity:_initTableau(),avecSupportOpacity:false,supportBoxShadow:_initTableau(),avecSupportBoxShadow:false,supportTransitions:_initTableau(),avecSupportTransitions:false,transitionEndEvent:'',supportTransforms:_initTableau(),avecSupportTransform:false,supportUserSelect:_initTableau(),avecUserSelect:false,supportBackgroundSize:_initTableau(),avecBackgroundSize:false,scrollBarWidth:-1,avecSupportFileUpload:false,supportPointerEventsNone:false,supportCanvas:false,supportCanvasText:false,supportBlob:false,supportNotification:false,speechRecognition:false},Support);$(window).on('load',function(){Support.init=true;Support.init=true;_testerSupports(window.document);_testerSupportHtml();uPileInit.forEach(function(aCallback){aCallback();});uPileInit=[];});module.exports=Support;},fn:"objetsupport.js"});;
  IE.fModule({f:function(exports,require,module,global){var TypeHttpVariable={TypeHttpCategorie:0,TypeHttpCardinal:1,TypeHttpBoolean:2,TypeHttpString:3,TypeHttpColor:4,TypeHttpAlignment_Inutilise:5,TypeHttpFontStyles_Inutilise:6,TypeHttpDateTime:7,TypeHttpDomaine:8,TypeHttpTraduction:9,TypeHttpNote:10,TypeHttpEnsembleCardinal:11,_TypeHttpLongNote_Inutilise:12,TypeHttpDouble:13,TypeHttpArrondi:14,TypeHttpEnsemble:15,TypeHttpIP:16,TypeHttpUrl:17,TypeHttpSetOf_MrFiche:18,_TypeHttpDoubleNote_Inutilise:19,TypeHttpInteger:20,TypeHttpHtml:21,_TypeHttpJSON_Inutilise:22,TypeHttpChaineBrute:23,TypeHttpElement:24,TypeHttpFichierBase64:25,TypeHttpEnsembleNombre:26};module.exports.TypeHttpVariable=TypeHttpVariable;},fn:"typehttpvariable.js"});;
  IE.fModule({f:function(exports,require,module,global){var EFormatDocJoint={Inconnu:0,Texte:1,Pdf:2,Excel:3,Archive:4,Image:5,Son:6,Video:7,Diapo:8,Geogebra:9};EFormatDocJoint.getClassImgDeGenre=function(aGenre){switch(aGenre){case EFormatDocJoint.Texte:return'Image_FormatTexte';case EFormatDocJoint.Pdf:return'Image_FormatPDF';case EFormatDocJoint.Excel:return'Image_FormatExcel';case EFormatDocJoint.Archive:return'Image_FormatArch';case EFormatDocJoint.Image:return'Image_FormatImg';case EFormatDocJoint.Son:return'Image_FormatSon';case EFormatDocJoint.Video:return'Image_FormatVideo';case EFormatDocJoint.Diapo:return'Image_FormatPPT';case EFormatDocJoint.Geogebra:return'Image_FormatGGB';default:return'Image_FormatInconnu';}};EFormatDocJoint.getGenreDExtension=function(aParam){switch(aParam.ext){case'doc':case'docx':case'txt':return EFormatDocJoint.Texte;case'pdf':return EFormatDocJoint.Pdf;case'gzip':case'zip':case'rar':return EFormatDocJoint.Archive;case'xls':case'xlsx':return EFormatDocJoint.Excel;case'png':case'mng':case'tiff':case'jpeg':case'gif':case'jpg':return EFormatDocJoint.Image;case'mp3':case'mp4':case'wav':return EFormatDocJoint.Son;case'mpeg':case'avi':return EFormatDocJoint.Video;case'ppt':case'pptx':return EFormatDocJoint.Diapo;case'ggb':return EFormatDocJoint.Geogebra;default:return EFormatDocJoint.Inconnu;}};EFormatDocJoint.getGenreDeFichier=function(aExtension){if(aExtension!==''){return EFormatDocJoint.getGenreDExtension({ext:aExtension.toLowerCase()});} else{return EFormatDocJoint.Inconnu;}};module.exports=EFormatDocJoint;},fn:"enumere_formatdocjoint.js"});;
  IE.fModule({f:function(exports,require,module,global){var MethodesObjet=require('MethodesObjet.js');var GLog=require('IELog.js');var Invocateur=require('Invocateur.js').Invocateur;function UtilitaireCss(){}
  var uCacheReglesCss=null;var uCacheCss=null;var uTailleMaxCacheCss=50;function _trouverSelecteur(aSelecteursTexte,aNomRegleCss){var i;if(aSelecteursTexte&&aSelecteursTexte.join){for(i=0;i<aSelecteursTexte.length;i++){if(aSelecteursTexte[i]===aNomRegleCss){return true;}}}
  return false;}
  function _remplirCacheReglesCss(){var I,i,J,lStyleSheet,lRules,lRegles,lRegle,lSelecteurTexte;uCacheReglesCss=[];for(I=document.styleSheets.length-1;I>=0;I--){lStyleSheet=document.styleSheets[I];if(lStyleSheet&&lStyleSheet.href){try{lRules=lStyleSheet.cssRules||lStyleSheet.rules;} catch(e){lRules=null;GLog.addLog('lecture cssRules : exception=> '+e);}
  if(lRules){lRegles=[];uCacheReglesCss.push(lRegles);for(J=0;J<lRules.length;J++){try{lSelecteurTexte=lRules[J].selectorText;} catch(e){GLog.addLog(e);}
  lRegle={selecteurs:[],regle:lRules[J]};if(lSelecteurTexte&&lSelecteurTexte.split){var lTabSelector=lSelecteurTexte.split(',');if(lTabSelector){for(i=0;i<lTabSelector.length;i++){lRegle.selecteurs.push(lTabSelector[i]&&lTabSelector[i].trim&&(lTabSelector[i].trim().toLowerCase().replace(/'/g,'"')));}}}
  lRegles.push(lRegle);}}}}}
  function _chercherReglesCss(aNomRegleCss){var lRules,lRegle,lProp,I,J;if(!aNomRegleCss||!MethodesObjet.isString(aNomRegleCss)){return null;}
  aNomRegleCss=aNomRegleCss.toLowerCase();if(!uCacheReglesCss){_remplirCacheReglesCss();}
  if(uCacheCss&&uCacheCss[aNomRegleCss]){return uCacheCss[aNomRegleCss];}
  var lRegles=[];try{aNomRegleCss=aNomRegleCss.trim().toLowerCase().replace(/'/g,'"');for(I=uCacheReglesCss.length-1;I>=0;I--){lRules=uCacheReglesCss[I];if(lRules){for(J=lRules.length-1;J>=0;J--){lRegle=lRules[J];if(lRegle){if(_trouverSelecteur(lRegle.selecteurs,aNomRegleCss)){lRegles.push(lRegle.regle);}}}}}
  if(lRegles.length>0){if(!uCacheCss){uCacheCss=[];}
  if(uCacheCss.length>=uTailleMaxCacheCss){for(lProp in uCacheCss){delete uCacheCss[lProp];break;}}
  uCacheCss[aNomRegleCss]=lRegles;return lRegles;} else{return null;}} catch(e){GLog.addLog('lecture cssRules : exception=> '+e);}}
  function _convertirProprieteCSS(aProprieteCSS){var i;var lTab=aProprieteCSS.split('-');for(i=1;i<lTab.length;i++){lTab[i]=lTab[i].ucfirst();}
  return lTab.join('');}
  function _modifierProprieteCSS(aRule,aProprieteCSS,aValeur){try{if(aRule&&aRule.style){if(aRule.style.setProperty){aRule.style.setProperty(aProprieteCSS,aValeur,null);} else{aProprieteCSS=_convertirProprieteCSS(aProprieteCSS);if(!MethodesObjet.isUndefined(aRule.style[aProprieteCSS])){aRule.style[aProprieteCSS]=aValeur;}}}} catch(e){
  return false;}
  return true;}
  function _getRegleQuiDefinitProprieteCSS(aTabRegles,aProprieteCSS){var i;if(!aTabRegles){return null;}
  var lAttribut;for(i=0;i<aTabRegles.length;i++){var lRegle=aTabRegles[i];if(lRegle&&lRegle.style){aProprieteCSS=_convertirProprieteCSS(aProprieteCSS);lAttribut=lRegle.style[aProprieteCSS];if(((lAttribut!==null&&lAttribut!==undefined))&&(lAttribut!=='')){return lRegle;}}}
  return null;}
  function _parcourirCssDePropriete(aPropriete,aCallback){if(!aCallback||!aPropriete){return;}
  if(!uCacheReglesCss){_remplirCacheReglesCss();}
  try{uCacheReglesCss.forEach(function(aRule){var lAttribut,i,lRegle,lValeurCSS;if(aRule){for(i=0;i<aRule.length;i++){lRegle=aRule[i].regle;if(lRegle&&lRegle.style){lValeurCSS=_convertirProprieteCSS(aPropriete);lAttribut=lRegle.style[lValeurCSS];if(lAttribut!==null&&lAttribut!==undefined&&lAttribut!==''){aCallback(lAttribut,lRegle);}}}}});} catch(e){}}
  UtilitaireCss.modifierRegleCss=function(aNomRegleCss,aProprieteCSS,aValeur){var lRegles=_chercherReglesCss(aNomRegleCss);if(!lRegles){return false;}
  var lRegleAModifier=_getRegleQuiDefinitProprieteCSS(lRegles,aProprieteCSS);if(lRegleAModifier===null||lRegleAModifier===undefined){lRegleAModifier=lRegles[0];}
  return _modifierProprieteCSS(lRegleAModifier,aProprieteCSS,aValeur);};UtilitaireCss.chercherAttributReglesCss=function(aNomRegleCss,aAttribut){var lRegles=_chercherReglesCss(aNomRegleCss,false),i;if(!lRegles){return false;}
  var lAttribut;for(i=0;i<lRegles.length;i++){if(lRegles[i]&&lRegles[i].style){lAttribut=lRegles[i].style[aAttribut];if(((lAttribut!==null&&lAttribut!==undefined))&&(lAttribut!=='')){return lRegles[i].style[aAttribut];}}}
  return false;};UtilitaireCss.extraireUrlReglesCss=function(aNomRegleCss){var lUrl=UtilitaireCss.chercherAttributReglesCss(aNomRegleCss,'backgroundImage');if(!lUrl||(lUrl.length===0)){return'';}
  var lTab=lUrl.split('"');lTab=lTab[1];if(!lTab){lTab=lUrl.split("'");lTab=lTab[1];}
  if(!lTab){lTab=lUrl.split('(');lTab=lTab[1];if(!lTab){return'';}
  lTab=lTab.split(')');lTab=lTab[0];}
  if(!lTab){return'';}
  lTab=lTab.split('/');var lTab2=[],j;for(j=0;j<lTab.length;j++){if(lTab[j]!=='..'){lTab2.push(lTab[j]);}}
  return lTab2.join('/');};Invocateur.abonnerUnique('GNavigateur_Init_IE',function(){_parcourirCssDePropriete('cursor',function(aValeur,aRegleCss){if(aValeur&&
  aValeur.startsWith('url')&&
  aValeur.indexOf('../')>=0){_modifierProprieteCSS(aRegleCss,'cursor',aValeur.replace(/\.\.\//gi,''));}});});module.exports=UtilitaireCss;},fn:"utilitairecss.js"});;
  IE.fModule({f:function(exports,require,module,global){require('divers.js');var GUID=require('GUID.js');var MethodesObjet=require('MethodesObjet.js');var TypeChampsJSON=require('Enumere_ChampsJSON.js');var EGenreDocumentJoint=require('Enumere_DocumentJoint.js');var ObjetElement=require('ObjetElement.js');var EGenreEtat=require('Enumere_Etat.js');var Support=require('ObjetSupport.js');var TypeHttpVariable=require('TypeHttpVariable.js').TypeHttpVariable;var EFormatDocJoint=require('Enumere_FormatDocJoint.js');var UtilitaireCss=require('UtilitaireCss.js');function _ObjetChaine(){var I,J;this.ListeZeros='0000000000';this.ListeAvecAccents=['éèê','à'];this.ListeSansAccents=['e','a'];this.ListeExpAccents=[];for(I=0;I<this.ListeAvecAccents.length;I++){this.ListeExpAccents[I]=new RegExp('['+this.ListeAvecAccents[I]+']','ig');}
  this.LongueurCaracteres=new Array(30);for(I=0;I<30;I++){this.LongueurCaracteres[I]=new Array(2);for(J=0;J<2;J++){this.LongueurCaracteres[I][J]=[];}}
  this.maskTelephone='99 99 99 99 99 99';}
  _ObjetChaine.prototype.enleverChemin=function(aFichier){var N=aFichier.lastIndexOf('/');if(N=== -1){N=aFichier.lastIndexOf('\\');}
  return aFichier.substring(N+1,aFichier.length);};_ObjetChaine.prototype.AvecEspaceSiVide=function(AChaine){return AChaine&&(AChaine.length>0)?AChaine:'&nbsp;';};_ObjetChaine.prototype.toTitle=function(aChaine){var lChaine=aChaine&&aChaine.toString?aChaine.toString():'';return lChaine&&lChaine.replace?lChaine.replace(/\r\n/g,"&#013;").replace(/\n/g,"&#013;").replace(/"/g,'&quot;'):'';};_ObjetChaine.prototype.StrToDate=function(ADate){ADate=ADate.split(' ');var LJour=ADate[0].split('/');var LHeure=ADate[1]?ADate[1].split(':'):[0,0,0];return new Date(LJour[2],LJour[1]-1,LJour[0],LHeure[0],LHeure[1],LHeure[2]);};_ObjetChaine.prototype.strToInteger=function(aInteger){return parseInt(aInteger,10);};_ObjetChaine.prototype.strToDouble=function(aDouble){return parseFloat(aDouble.replace(',','.'));};_ObjetChaine.prototype.StrToCardinal=function(ACardinal){return parseInt(ACardinal,10);};_ObjetChaine.prototype.StrToBoolean=function(ABoolean){return(ABoolean==='1')||(ABoolean.toUpperCase()==='TRUE')||(ABoolean.toUpperCase()==='VRAI');};_ObjetChaine.prototype.strToIp=function(aIP){var T=aIP.split('.');if(T.length!==4){return'';}
  var lIp=0,I,lValeur;for(I=0;I<4;I++){lValeur=parseInt(T[I],10);if((lValeur<0)||(lValeur>255)){return 0;}
  lIp=256*lIp+lValeur;}
  return lIp;};_ObjetChaine.prototype.DateToStr=function(ADate){return ADate?ADate.getDate()+'/'+(ADate.getMonth()+1)+'/'+ADate.getFullYear()+' '+ADate.getHours()+':'+ADate.getMinutes()+':'+ADate.getSeconds():'';};_ObjetChaine.prototype.domaineToStr=function(aDomaine){return aDomaine?aDomaine.toString():'';};_ObjetChaine.prototype.doubleToStr=function(aDouble){return(''+aDouble).replace('.',',');};_ObjetChaine.prototype.ChaineToStr=function(AChaine){return!AChaine?'':AChaine;};_ObjetChaine.prototype.CardinalToStr=function(ACardinal){return''+ACardinal;};_ObjetChaine.prototype.ipToStr=function(aIp){aIp=parseInt(aIp,10);if(isNaN(aIp)){return'';}
  var T=[],I;for(I=4;I>0;I--){T[I-1]=(aIp%256);if(T[I-1]<0){T[I-1]+=256;}
  aIp=Math.floor(aIp/256);}
  return T.join('.');};_ObjetChaine.prototype.Format=function(AChaine,ATabElementsASubstituer){var I;if(AChaine&&ATabElementsASubstituer&&ATabElementsASubstituer.length){AChaine=AChaine.replace(/%s/g,'##');AChaine=AChaine.replace(/%d/g,'##');var N=AChaine.split('##').length;for(I=0;I<N;I++){AChaine=AChaine.replace('##','#'+(I+1));}
  var lRegEx,lPourcentTrouve=AChaine.indexOf('%')>=0;for(I=0;I<ATabElementsASubstituer.length;I++){AChaine=AChaine.replace('#'+(I+1),ATabElementsASubstituer[I]);if(lPourcentTrouve){lRegEx=new RegExp('%'+I+':d','g');AChaine=AChaine.replace(lRegEx,parseInt(ATabElementsASubstituer[I],10));lRegEx=new RegExp('%'+I+':(s|d|e|f|g|n|m)','g');AChaine=AChaine.replace(lRegEx,ATabElementsASubstituer[I]);}}
  AChaine=AChaine.replace(/%%/g,'%');}
  return AChaine;};_ObjetChaine.prototype.Insecable=function(AChaine){try{return AChaine?AChaine.replace(/ /g,"&nbsp;").replace(/-/g,"&#x2011;"):'';} catch(e){return'';}};function _reverseString(a){return a.split('').reverse().join('');}
  _ObjetChaine.prototype.formatTelephone=function(aChaine,aOptions){if(!aChaine||!aChaine.trim){return'';}
  var lOptions=Object.assign({mask:'',avecTailleMask:true},aOptions),lMask=lOptions.mask||this.maskTelephone,lChaine=aChaine.trim().replace(/([^0-9\s])/g,''),lIndice;lMask=_reverseString(lMask.replace(/([^9\s])/g,''));var lLengthCharMask=lMask.replace(/([^9])/g,'').length,lNumeroSansEspace=lChaine.replace(/([^0-9])/g,''),lEcart=Math.max(0,lNumeroSansEspace.length-lLengthCharMask),lPartieDroite=lNumeroSansEspace.slice(lEcart,lNumeroSansEspace.length),lPartieGaucheIntacte='',lPartieGauche,i,lResult;lPartieDroite=_reverseString(lPartieDroite);lIndice= -1;lResult=lMask.replace(/9/g,function(){lIndice+=1;return lPartieDroite[lIndice]||'';});if(!lOptions.avecTailleMask){lPartieGauche=lNumeroSansEspace.slice(0,lEcart);lIndice=0;for(i=0;i<lChaine.length;i++){if(lChaine.charAt(i)===' '){lPartieGaucheIntacte+=' ';} else{lPartieGaucheIntacte+=lPartieGauche.charAt(lIndice);lIndice+=1;if(lIndice>=lPartieGauche.length){break;}}}}
  return(lPartieGaucheIntacte+_reverseString(lResult)).trim();};_ObjetChaine.prototype._getConteneurCalculChaine=function(){var ldLongueurChaineEnPixel='LongueurChaineEnPixel';var E=document.getElementById(ldLongueurChaineEnPixel);if(!E){var lConteneur=document.body;if(global.GApplication){lConteneur=document.getElementById(GApplication.getIdConteneur())||document.body;}
  lConteneur.insertAdjacentHTML('beforeend','<div id="'+ldLongueurChaineEnPixel+'" class="Texte10 hide" style="position:absolute; top:-50px; white-space:pre;"></div>');E=document.getElementById(ldLongueurChaineEnPixel);}
  if(E){return E;}
  ;return null;};_ObjetChaine.prototype.GetLongueurChaineDansDiv=function(AChaine,ATaille,AGras,aNonToTexte){
  if(!AChaine){return 0;}
  if(!this.__cacheCanvas){this.__cacheCanvas=Support.supportCanvasText&&UtilitaireCss.chercherAttributReglesCss?{canvas:document.createElement("canvas"),fontFamily:UtilitaireCss.chercherAttributReglesCss('.Texte','fontFamily'),fontSize:{}}:{};this.__cacheCanvas.actif=!!this.__cacheCanvas.canvas&&
  !!this.__cacheCanvas.fontFamily;if(!this.__cacheCanvas.actif){this.__cacheCanvas.canvas=null;}}
  if(this.__cacheCanvas.actif){var lContext=this.__cacheCanvas.canvas.getContext("2d");if(!this.__cacheCanvas.fontSize[ATaille]){this.__cacheCanvas.fontSize[ATaille]=UtilitaireCss.chercherAttributReglesCss('.Texte'+ATaille,'fontSize');}
  lContext.font=(AGras?'bold ':'')+this.__cacheCanvas.fontSize[ATaille]+' '+this.__cacheCanvas.fontFamily;var lMetrics=lContext.measureText(AChaine);return lMetrics.width;}
  var E=this._getConteneurCalculChaine();if(!E){return 0;}
  E.className='hide Texte'+ATaille+(AGras?' Gras':'');var lChaine=aNonToTexte===true?AChaine:this.ajouterEntites(AChaine);lChaine=lChaine&&lChaine.replace?lChaine.replace(/ /g,"&nbsp;"):lChaine;E.innerHTML=lChaine;var lLongueur=E.clientWidth;E.innerHTML='';return lLongueur;};_ObjetChaine.prototype.GetLongueurChaine=function(AChaine,ATaille,AGras,ALongueur,aChaineEnTexte){if(!AChaine){return'';}
  var lChaine=this.enleverEntites(AChaine);var LLongueur=0;var I;var N=lChaine.length;if(lChaine.length>0){LLongueur=this.GetLongueurChaineDansDiv(lChaine,ATaille,AGras);}
  if(ALongueur===null||ALongueur===undefined){return LLongueur;}
  if(ALongueur>0&&LLongueur>=ALongueur){LLongueur=0;var G=AGras?1:0;var C,L;for(I=0;(I<N)&&((ALongueur===null||ALongueur===undefined)||(LLongueur<ALongueur));I++){C=lChaine.charCodeAt(I);L=this.LongueurCaracteres[ATaille][G][C];if(!L){L=this.LongueurCaracteres[ATaille][G][C]=this.GetLongueurChaineDansDiv(lChaine.charAt(I),ATaille,AGras);}
  LLongueur+=L===0?10:L;}}
  if(LLongueur>=ALongueur){var lChaineTronque=lChaine.substring(0,I);if(lChaineTronque&&
  lChaine!==lChaineTronque&&
  LLongueur>0){LLongueur=this.GetLongueurChaineDansDiv(lChaineTronque,ATaille,AGras);}
  if(LLongueur===0){return aChaineEnTexte?'':'<font style="font-size:1px">&nbsp;</font>';}
  if(LLongueur>=ALongueur){lChaineTronque=lChaine.substring(0,I-1);while(I>2){if(this.GetLongueurChaineDansDiv(lChaineTronque,ATaille,AGras)<ALongueur){break;}
  I--;lChaineTronque=lChaine.substring(0,I-1);}}
  return this.ajouterEntites(lChaineTronque);}
  return AChaine;};_ObjetChaine.prototype.GetChaine=function(AChaine,ATaille,AGras,ALongueur,aChaineEnTexte){return this.GetLongueurChaine(AChaine,ATaille,AGras,ALongueur,aChaineEnTexte);};_ObjetChaine.prototype.GetChainePourUrl=function(S,aEstUnFichier,aPourCloud){
  try{if(aEstUnFichier&&!aPourCloud){return encodeURI(S).replace(/#/ig,'%23');}
  return aPourCloud?S:encodeURIComponent(decodeURI(S).replace(/[\r\n\t\v\f\b]/gi,''));} catch(e){return'';}};_ObjetChaine.prototype.ToHTML=function(AChaine){
  return AChaine?AChaine.replace(/\r\n|\n|\r|&#32;/g,"<br />"):'';};_ObjetChaine.prototype.fromHTML=function(AChaine){
  return AChaine?AChaine.replace(/<br( \/)?>/gi,'\n'):'';};_ObjetChaine.prototype.nodeToText=function(aNode){if(!aNode||!aNode.childNodes){return'';}
  return $(aNode.childNodes).map(function(aIndex){return this.nodeName.toLowerCase()==='br'?'\n':aIndex<aNode.childNodes.length-1?$(this).text()+'\n':$(this).text();}).get().join('');};_ObjetChaine.prototype.ajouterEntites=function(aChaine,aSansQuote){
  if(!aChaine||!aChaine.replace){return aChaine;}
  var re=aSansQuote?/([<>'&])/g : /([<>"'&])/g;return aChaine.replace(re,function(m){if(m==="<"){return"&lt;";}
  if(m===">"){return"&gt;";}
  if(m==="\""){return"&quot;";}
  if(m==="'"){return"&#039;";}
  if(m==="&"){return"&amp;";}});};_ObjetChaine.prototype.enleverEntites=function(aChaine){
  if(!aChaine||!aChaine.replace){return aChaine;}
  var re=/&(lt|gt|quot|#039|amp);/g;return aChaine.replace(re,function(m){if(m==="&lt;"){return"<";}
  if(m==="&gt;"){return">";}
  if(m==="&quot;"){return"\"";}
  if(m==="&#039;"){return"'";}
  if(m==="&amp;"){return"&";}});};_ObjetChaine.prototype.toTexte=function(aChaine){return aChaine;};_ObjetChaine.prototype.nettoyerCommentaire=function(aChaine){
  return aChaine&&aChaine.replace?aChaine.replace(/(<!--)(.+)(-->)/g,''):aChaine;};_ObjetChaine.prototype.verifierURLHttp=function(aUrl){return aUrl?(aUrl.toLowerCase().indexOf('http://')===0)||(aUrl.toLowerCase().indexOf('https://')===0)?aUrl:'http://'+aUrl:aUrl;};_ObjetChaine.prototype.composerUrlLienExterne=function(aParam){var lParam={documentJoint:undefined,genreDocumentJoint:undefined,genreRessource:undefined,infoSupp:undefined,libelle:'',libelleEcran:undefined,title:'',class:'LienAccueil',attr:'',paramGet:'',iconeColor:'',iconeOverride:'',sansImgFormat:false,avecLien:true,maxWidth:0,brut:false};var lUrl='';Object.assign(lParam,aParam)
  ;if(!MethodesObjet.isNumber(lParam.genreDocumentJoint)){lParam.genreDocumentJoint=lParam.documentJoint?lParam.documentJoint.GetGenre():EGenreDocumentJoint.Fichier;}
  if(lParam.documentJoint&&(lParam.documentJoint.Etat===EGenreEtat.Creation||!lParam.documentJoint.existeNumero())){lParam.avecLien=false;lParam.class+=' SansMain';}
  if(lParam.genreDocumentJoint===EGenreDocumentJoint.Url&&!lParam.libelleEcran&&!lParam.libelle){lParam.libelleEcran=lParam.documentJoint.GetLibelle();lParam.libelle='link';}
  if(lParam.avecLien){var lInfoFichier=new ObjetElement('',lParam.documentJoint.GetNumero(),lParam.genreRessource);Object.assign(lInfoFichier,lParam.infoSupp);lUrl=GApplication.getCommunication().composeUrlFichierExterne(this.GetChainePourUrl(lParam.libelle||lParam.documentJoint.GetLibelle()),lInfoFichier,true);if(lParam.paramGet){lUrl+='&'+lParam.paramGet;}}
  if(lParam.brut===true){return lUrl;}
  var lInfosLiens={tag:lParam.avecLien?'a':'span',class:lParam.class||false,title:lParam.title||false,libelle:lParam.libelleEcran!==undefined&&lParam.libelleEcran!==null?lParam.libelleEcran:lParam.libelle?lParam.libelle:lParam.documentJoint?lParam.documentJoint.GetLibelle():'',href:lUrl,attr:lParam.attr,image:false,icone:false,maxWidth:lParam.maxWidth||false,iconeColor:lParam.iconeColor||false};var lGenreFichier=EFormatDocJoint.getGenreDeFichier(this.extraireExtensionFichier(lParam.libelle?lParam.libelle:lParam.documentJoint?lParam.documentJoint.GetLibelle():''));if(!lParam.sansImgFormat&&!lParam.iconeOverride){lInfosLiens.image=' '+EFormatDocJoint.getClassImgDeGenre(lGenreFichier);if(lGenreFichier===EFormatDocJoint.Inconnu){lInfosLiens.image='';if(lParam.genreDocumentJoint===EGenreDocumentJoint.Cloud){lInfosLiens.icone='icon-cloud';} else if(lParam.genreDocumentJoint===EGenreDocumentJoint.Url){lInfosLiens.icone='icon-link';} else if(lParam.genreDocumentJoint===EGenreDocumentJoint.LienKiosque){lInfosLiens.icone='icon-external_link';}}} else if(lParam.iconeOverride){lInfosLiens.icone=lParam.iconeOverride;}
  if(lGenreFichier===EFormatDocJoint.Geogebra){lInfosLiens.href='geogebra.html?view='+encodeURIComponent(lInfosLiens.href)+'';}
  return'<'+lInfosLiens.tag+' id="'+GUID.getId()+'"'+(lInfosLiens.class?' class="'+lInfosLiens.class+'"':'')+(lInfosLiens.title?' title="'+GChaine.toTitle(lInfosLiens.title)+'"':'')+(lInfosLiens.tag==='a'?' target="_blank"':'')+(lInfosLiens.tag==='a'?' href="'+lInfosLiens.href+'"':'')+(lInfosLiens.attr?' '+lInfosLiens.attr:'')+'>'+(lInfosLiens.image?('<span'+' class="InlineBlock AlignementMilieuVertical '+lInfosLiens.image+'"'+' style="margin-right: 0px;"'+'></span>'):'')+(lInfosLiens.icone?('<span'+' class="EspaceDroit InlineBlock AlignementMilieuVertical"'+'><i'+' class="'+lInfosLiens.icone+'"'+' style="color:'+(lInfosLiens.iconeColor||GCouleur.themeNeutre.foncee)+'"'+'></i></span>'):'')+'<span'+' class="AlignementMilieuVertical InlineBlock"'+(lInfosLiens.maxWidth>0?' style="max-width:'+lInfosLiens.maxWidth+'px;" ie-ellipsis ':'')+'>'+
  lInfosLiens.libelle+'</span>'+'</'+lInfosLiens.tag+'>';};_ObjetChaine.prototype.getUrlDocumentJoint=function(aRessource){
  return;};_ObjetChaine.prototype.composeUrlRequete=function(aParam){var lResult='';if(aParam.url){lResult=aParam.url;if(lResult.charAt(lResult.length-1)!=='/'){lResult+='/';}}
  if(aParam.nomRequete){if(aParam.nomRequete.charAt(0)!=='/'){lResult+=aParam.nomRequete;} else{lResult+=aParam.nomRequete.substring(1,aParam.nomRequete.length-1);}}
  return lResult;};_ObjetChaine.prototype.supprimerEspaces=function(aChaine){
  return aChaine&&aChaine.replace?aChaine.replace(/ /g,''):aChaine;};var _regexLatinize=null;function _latinize(aMatch){var x,lTranslate={'á':'a','à':'a','â':'a','ä':'a','ã':'a','ç':'c','é':'e','è':'e','ê':'e','ë':'e','í':'i','ì':'i','î':'i','ï':'i','ñ':'n','ó':'o','ò':'o','ô':'o','ö':'o','õ':'o','ő':'o','ß':'ss','š':'szz','ú':'u','ù':'u','û':'u','ü':'u','ű':'u','ý':'y','ÿ':'y','æ':'ae','œ':'oe'};if(!aMatch){if(!_regexLatinize){var lRegex=[];for(x in lTranslate){lRegex.push(x);}
  _regexLatinize=lRegex.join('');}
  return _regexLatinize;}
  var lMatchLower=aMatch.toLowerCase();var lIsUpperCase=lMatchLower!==aMatch;return lIsUpperCase?lTranslate[lMatchLower].ucfirst():lTranslate[lMatchLower];}
  _ObjetChaine.prototype.latinize=function(aChaine){
  return aChaine?aChaine.replace(new RegExp('['+_latinize()+']','gi'),_latinize):'';};_ObjetChaine.prototype.miseEnFormeEmail=function(aEmail){
  return aEmail?aEmail.replace(/;/g,'<br/>'):'';};_ObjetChaine.prototype.controleTailleTexte=function(aParam){var lResult={controleOK:true,chaine:aParam.chaine};var lValeurSansEntites=this.enleverEntites(aParam.chaine);if((aParam.tailleTexteMax>0)&&(lValeurSansEntites.length>aParam.tailleTexteMax)){lValeurSansEntites=lValeurSansEntites.slice(0,aParam.tailleTexteMax);lResult={controleOK:false,chaine:this.ajouterEntites(lValeurSansEntites)};}
  return lResult;};_ObjetChaine.prototype.extraireNomFichier=function(aNomFichier){if(!aNomFichier||!aNomFichier.split){return aNomFichier;}
  var lTab=aNomFichier.split('.');if(lTab.length>1){lTab.pop();}
  return lTab.join('.');};_ObjetChaine.prototype.extraireExtensionFichier=function(aNomFichier){if(!aNomFichier||!aNomFichier.split){return'';}
  var lTab=aNomFichier.split('.');return lTab.length>1?lTab[lTab.length-1]:'';};var GChaine=new _ObjetChaine();module.exports={_ObjetChaine:_ObjetChaine,GChaine:GChaine};Date.prototype.toJSON=function(){var lJSON={};lJSON[TypeChampsJSON.type]=TypeHttpVariable.TypeHttpDateTime;lJSON[TypeChampsJSON.valeur]=_ObjetChaine.prototype.DateToStr(this);return lJSON;};},fn:"_objetchaine.js"});;
  IE.fModule({f:function(exports,require,module,global){var MethodesObjet=require('MethodesObjet.js');var MethodesTableau=require('MethodesTableau.js');var EGenreTriElement=require('Enumere_TriElement.js');var GChaine=require('_ObjetChaine.js').GChaine;var ObjetTri=(function(){var uSupportLocaleCompare=false,uSupportCollator=!!(window.Intl&&window.Intl.Collator),uLocales,uCollator=uSupportCollator?new window.Intl.Collator(uLocales,{sensitivity:"accent"}):null,uCollatorCaseSensitive=uSupportCollator?new window.Intl.Collator(uLocales,{sensitivity:"variant"}):null,uCollator_NonCaseSensitive_IgnoreAccent=uSupportCollator?new window.Intl.Collator(uLocales,{sensitivity:"base"}):null,uCollator_CaseSensitive_IgnoreAccent=uSupportCollator?new window.Intl.Collator(uLocales,{sensitivity:"case"}):null;try{if(''.localeCompare){uSupportLocaleCompare='e'.localeCompare('é','fr',{sensitivity:"base"})===0;}} catch(e){uSupportLocaleCompare=false;}
  function _construirePilePere(aValeur,aNomChampePere,aPile){var lObjet=aValeur;while(lObjet&&lObjet[aNomChampePere]&&MethodesObjet.isObject(lObjet[aNomChampePere])&&!MethodesTableau.existe(lObjet[aNomChampePere],aPile)){lObjet=lObjet[aNomChampePere];aPile.push(lObjet);}}
  function _comparerTriRecursif(A,B,aTri){var lPileParentA=[A.contenu],lPileParentB=[B.contenu],i,lResult,j,lNb,lTri,lCount,lA,lB;if(!aTri.tris){return false;}
  _construirePilePere(A.contenu,aTri.nomChampPere,lPileParentA);_construirePilePere(B.contenu,aTri.nomChampPere,lPileParentB);lPileParentA.reverse();lPileParentB.reverse();lCount=Math.max(lPileParentA.length,lPileParentB.length);for(i=0;i<lCount;i++){lA=lPileParentA[i];lB=lPileParentB[i];if((!lA&&lB)||(!lA&&!lB)){return-aTri.ordreTri;} else if(lA&&!lB){return aTri.ordreTri;} else if(lA===lB){continue;}
  for(j=0,lNb=aTri.tris.length;j<lNb;j++){lTri=aTri.tris[j];lResult=_comparerTri(lA,lB,lTri,null,false,i);if(lResult!==false){return lResult;}}}
  return false;}
  function _getValeur(aChamp,aCaseSensitive,aIgnorerAccents){var lResult=aChamp;if(!lResult){return lResult;}
  if(lResult.getTime){return lResult.getTime();}
  if(lResult.replace){lResult=GChaine.enleverEntites(lResult);if(!uSupportLocaleCompare&&!uSupportCollator&&aIgnorerAccents){lResult=GChaine.latinize(lResult);}}
  if(!aCaseSensitive&&!uSupportCollator&&!uSupportLocaleCompare&&lResult&&lResult.toLowerCase){lResult=lResult.toLowerCase();}
  return lResult;}
  function _getValeurPourTri(aTri,aElement,aProfondeur){var lResult;if(aTri.estFonction){lResult=aTri.nomChamp(aElement,aProfondeur);} else if(aTri.estAccesseurChaine){lResult=MethodesObjet.get(aElement,aTri.nomChamp);} else{if(!aElement){return aElement;}
  lResult=aElement[aTri.nomChamp];}
  return _getValeur(lResult,aTri.caseSensitive,aTri.ignorerAccents);}
  function _compareChamps(aChampA,aChampB,aCaseSensitive,aIgnorerAccents){var lChampAString=aChampA&&aChampA.localeCompare;var lChampBString=aChampB&&aChampB.localeCompare;if((uSupportLocaleCompare||uSupportCollator)&&lChampAString&&lChampBString){var lResult=0;if(uSupportCollator){lResult=(aCaseSensitive?!aIgnorerAccents?uCollatorCaseSensitive:uCollator_CaseSensitive_IgnoreAccent:!aIgnorerAccents?uCollator:uCollator_NonCaseSensitive_IgnoreAccent).compare(aChampA,aChampB);} else{lResult=aChampA.localeCompare(aChampB,'fr',{sensitivity:(aCaseSensitive?!aIgnorerAccents?"variant":"case":!aIgnorerAccents?"accent":"base")});}
  if(lResult<0){return-1;}
  if(lResult>0){return 1;}
  return false;}
  var lChampANull=aChampA===undefined||aChampA===null,lChampBNull=aChampB===undefined||aChampB===null;if(lChampANull&&lChampBNull){return false;}
  if(lChampAString&&aChampB===ObjetTri.MAX_STRING){return-1;}
  if(lChampBString&&aChampA===ObjetTri.MAX_STRING){return 1;}
  if(aChampA>aChampB||lChampBNull){return 1;}
  if(aChampA<aChampB||lChampANull){return-1;}
  return false;}
  function _comparerTri(A,B,aTri,aIndiceTri,aAvecCacheTri,aProfondeur){var lChampTriA,lChampTriB;if(aAvecCacheTri){if(!A.cache[aIndiceTri]){lChampTriA=_getValeurPourTri(aTri,A.contenu,aProfondeur);A.cache[aIndiceTri]={valeur:lChampTriA};} else{lChampTriA=A.cache[aIndiceTri].valeur;}
  if(!B.cache[aIndiceTri]){lChampTriB=_getValeurPourTri(aTri,B.contenu,aProfondeur);B.cache[aIndiceTri]={valeur:lChampTriB};} else{lChampTriB=B.cache[aIndiceTri].valeur;}} else{lChampTriA=_getValeurPourTri(aTri,A,aProfondeur);lChampTriB=_getValeurPourTri(aTri,B,aProfondeur);}
  if(lChampTriA===lChampTriB||(lChampTriA===undefined&&lChampTriB===null)||(lChampTriB===undefined&&lChampTriA===null)){return false;}
  var lResult=_compareChamps(lChampTriA,lChampTriB,aTri.caseSensitive,false);if(lResult===false){return false;}
  return lResult*aTri.ordreTri;}
  function _comparer(aTris,A,B){var i,lNb,lTri,lResult;for(i=0,lNb=aTris.length;i<lNb;i++){lTri=aTris[i];if(lTri.triRecursif){lResult=_comparerTriRecursif(A,B,lTri);} else{lResult=_comparerTri(A,B,lTri,i,true,0);}
  if(lResult!==false){return lResult;}}
  return A.ordre-B.ordre;}
  return{comparerChamps:function(aChampA,aChampB,aCaseSensitive,aAvecAccents){var lResult=_compareChamps(_getValeur(aChampA,!!aCaseSensitive,!aAvecAccents),_getValeur(aChampB,!!aCaseSensitive,!aAvecAccents),!!aCaseSensitive,!aAvecAccents);return lResult===false?0:lResult;},init:function(aNomChamp,aGenreTri,aCaseSensitive,aIgnorerAccents){return{estFonction:MethodesObjet.isFunction(aNomChamp),estAccesseurChaine:MethodesObjet.isString(aNomChamp)&&aNomChamp.indexOf('.')>=0,nomChamp:aNomChamp,ordreTri:aGenreTri===EGenreTriElement.Decroissant?-1:1,caseSensitive:aCaseSensitive===true?true:false,ignorerAccents:aIgnorerAccents===true?true:false};},initRecursif:function(aNomChampPere,aTris){var lTris=aTris;return{triRecursif:true,nomChampPere:aNomChampPere,tris:lTris,ordreTri:EGenreTriElement.Croissant};},trierTableau:function(aTableau,aTris){if(!aTableau||!aTableau.sort||!aTris||aTableau.length<2){return;}
  var lLength=aTableau.length,lTableau=new Array(lLength),i,lValeur;for(i=0;i<lLength;i++){lValeur=aTableau[i];if(lValeur!==undefined||lValeur!==null){lTableau[i]={contenu:lValeur,cache:[],ordre:i};} else{lTableau[i]=lValeur;}}
  lTableau.sort(_comparer.bind(null,aTris));for(i=0;i<lLength;i++){lValeur=lTableau[i];if(lValeur!==undefined||lValeur!==null){aTableau[i]=lValeur.contenu;} else{aTableau[i]=lValeur;}}},MAX_STRING:{MAX_STRING:true}};}());function ObjetIndexsUnique(){this._indexsUnique=[];}
  ObjetIndexsUnique.prototype.ajouterIndex=function(aChamps){if(!MethodesObjet.isArray(aChamps)&&!MethodesObjet.isString(aChamps)){
  return this;}
  if(!this._indexsUnique){this._indexsUnique=[];}
  var lChamps=[],i,lChampIndex,lChampIndexCalcul;if(!MethodesObjet.isArray(aChamps)){aChamps=[aChamps];}
  for(i=0;i<aChamps.length;i++){lChampIndex=aChamps[i];if(lChampIndex.valeur){lChampIndexCalcul=lChampIndex;} else{lChampIndexCalcul=ObjetIndexsUnique.ajouterChamp(lChampIndex);}
  lChamps.push(lChampIndexCalcul);}
  this._indexsUnique.push(lChamps);return this;};ObjetIndexsUnique.ajouterChamp=function(aValeur,aVideEstDoublon,aSensibleCasse){return{valeur:aValeur,videEstDoublon:!!aVideEstDoublon,sensibleCasse:!!aSensibleCasse,estFonction:MethodesObjet.isFunction(aValeur),estAccesseurChaine:MethodesObjet.isString(aValeur)&&aValeur.indexOf('.')>=0};};ObjetIndexsUnique.prototype.estDoublon=function(a,b){var i;for(i=0;i<this._indexsUnique.length;i++){if(_estDoublonComparaisonET(this._indexsUnique[i],a,b)){return true;}}
  return false;};ObjetIndexsUnique.prototype.estDoublonDansTableau=function(aElement,aTableau){var i;for(i in aTableau){if(this.estDoublon(aElement,aTableau[i])){return true;}}
  return false;};ObjetIndexsUnique.prototype.existeIndex=function(){return this._indexsUnique.length>0;};function _estDoublonComparaisonET(aIndexUnique,a,b){var i,lResult=false;for(i=0;i<aIndexUnique.length;i++){if(aIndexUnique[i]){if(_comparateurChampIndex(aIndexUnique[i],a,b)){lResult=true;} else{return false;}}}
  return lResult;}
  function _comparateurChampIndex(aChampIndex,a,b){if(!aChampIndex||!aChampIndex.valeur){return false;}
  if(!a||!b){return false;}
  var lValeurA,lValeurB;if(aChampIndex.estFonction){lValeurA=aChampIndex.valeur(a);lValeurB=aChampIndex.valeur(b);} else if(aChampIndex.estAccesseurChaine){lValeurA=MethodesObjet.get(a,aChampIndex.valeur);lValeurB=MethodesObjet.get(b,aChampIndex.valeur);} else{lValeurA=a[aChampIndex.valeur];lValeurB=b[aChampIndex.valeur];}
  if(lValeurA&&lValeurA.getTime){lValeurA=lValeurA.getTime();}
  if(lValeurB&&lValeurB.getTime){lValeurB=lValeurB.getTime();}
  if(aChampIndex.sensibleCasse!==true){if(lValeurA&&lValeurA.toLowerCase){lValeurA=lValeurA.toLowerCase();}
  if(lValeurB&&lValeurB.toLowerCase){lValeurB=lValeurB.toLowerCase();}}
  if(lValeurA===lValeurB&&(lValeurA===''||lValeurA===undefined||lValeurA===null)){return!!aChampIndex.videEstDoublon;} else{return lValeurA===lValeurB;}}
  module.exports.ObjetTri=ObjetTri;module.exports.ObjetIndexsUnique=ObjetIndexsUnique;},fn:"objettri.js"});;
  IE.fModule({f:function(exports,require,module,global){var MethodesObjet=require('MethodesObjet.js');var MethodesTableau=require('MethodesTableau.js');var EGenreEtat=require('Enumere_Etat.js');var EGenreTriElement=require('Enumere_TriElement.js');var ObjetTri=require('ObjetTri.js').ObjetTri;var ObjetElement=require('ObjetElement.js');function ObjetListeElements(){this.vider();}
  ObjetListeElements.prototype.vider=function(){this.ListeElements=[];return this;};ObjetListeElements.prototype.AddElement=function(AElement,I){if(I===null||I===undefined){this.ListeElements.push(AElement);} else{this.ListeElements[I]=AElement;}
  return this;};ObjetListeElements.prototype.insererElement=function(AElement,I){MethodesTableau.insererElement(AElement,this.ListeElements,I);return this;};ObjetListeElements.prototype.DelElement=function(){this.ListeElements.pop();return this;};ObjetListeElements.prototype.remove=function(aIndice){MethodesTableau.supprimerElement(this.ListeElements,aIndice);return this;};ObjetListeElements.prototype.GetNbrElements=function(){return this.ListeElements.length;};ObjetListeElements.prototype.GetNbrElementsExistes=function(aGenre){var N=0,I;for(I=0;I<this.ListeElements.length;I++){if(this.Existe(I)&&(aGenre===null||aGenre===undefined||this.GetElement(I).Genre===aGenre)){N++;}}
  return N;};ObjetListeElements.prototype.GetListeElements=function(){return this.ListeElements;};ObjetListeElements.prototype.parcourir=function(aFunction,aThis){if(!aFunction||!MethodesObjet.isFunction(aFunction)){return this;}
  this.ListeElements.every(function(aElement,aIndex){return aFunction.call(aThis,aElement,aIndex,this)!==false;}.bind(this));return this;};ObjetListeElements.prototype.getTableau=function(aFunction){var T=[];if(!aFunction||!MethodesObjet.isFunction(aFunction)){return T;}
  this.ListeElements.forEach(function(aElement,aIndex){T.push(aFunction(aElement,aIndex));});return T;};ObjetListeElements.prototype.removeFilter=function(aFilter){if(aFilter&&MethodesObjet.isFunction(aFilter)){var lTab=[];this.ListeElements.forEach(function(aElement,aIndex){if(aFilter(aElement,aIndex)!==true){lTab.push(aElement);}});this.ListeElements=lTab;}
  return this;};ObjetListeElements.prototype.getTableauLibelles=function(aGenre,aTrier,aAvecExiste){var T=[],I;if(aTrier){this.trier();}
  for(I=0;I<this.ListeElements.length;I++){if((aGenre===null||aGenre===undefined)||($.isNumeric(aGenre)&&aGenre===this.GetGenre(I))||($.isArray(aGenre)&&$.inArray(this.GetGenre(I),aGenre)>-1)){if(!aAvecExiste||this.Existe(I)){T.push(this.GetLibelle(I));}}}
  return T;};ObjetListeElements.prototype.getTableauNumeros=function(aAvecExiste){var T=[],I;for(I=0;I<this.ListeElements.length;I++){if(!aAvecExiste||this.Existe(I)){T.push(this.GetNumero(I));}}
  return T;};ObjetListeElements.prototype.getTableauGenres=function(){var T=[],I;for(I=0;I<this.ListeElements.length;I++){T.push(this.GetGenre(I));}
  return T;};ObjetListeElements.prototype.getTableauPositions=function(){var T=[],I;for(I=0;I<this.ListeElements.length;I++){T.push(this.GetPosition(I));}
  return T;};ObjetListeElements.prototype.getCle=function(){return this.getTableauNumeros().sort().join('_');};ObjetListeElements.prototype.GetElement=function(I){return this.ListeElements[I];};ObjetListeElements.prototype.getListeElements=function(aFiltre){var lListe=new ObjetListeElements(),I;for(I=0;I<this.ListeElements.length;I++){if(!aFiltre||aFiltre(this.ListeElements[I],I)){lListe.AddElement(this.ListeElements[I]);}}
  return lListe;};ObjetListeElements.prototype.getIndiceElementParFiltre=function(aFiltre){var lResult= -1,I;for(I=0;I<this.ListeElements.length&&lResult<0;I++){if(!aFiltre||aFiltre(this.ListeElements[I])){lResult=I;}}
  return lResult;};ObjetListeElements.prototype.GetElementParNumero=function(ANumero){var I,lNb;for(I=0,lNb=this.GetNbrElements();I<lNb;I++){if(this.Existe(I)&&(this.GetNumero(I)===ANumero)){return this.GetElement(I);}}};ObjetListeElements.prototype.getListeElementsParNumero=function(aNumero){var lListe=new ObjetListeElements();this.parcourir(function(aElement){if(aElement&&aElement.Existe()&&(aElement.GetNumero()===aNumero)){lListe.AddElement(aElement);}}.bind(this));return lListe;};ObjetListeElements.prototype.GetElementParGenre=function(aGenre){var I,lNb;for(I=0,lNb=this.GetNbrElements();I<lNb;I++){if(this.Existe(I)&&(this.GetGenre(I)===aGenre)){return this.GetElement(I);}}};ObjetListeElements.prototype.GetNumero=function(I){return this.ListeElements[I].Numero;};ObjetListeElements.prototype.GetGenre=function(I){return this.ListeElements[I].Genre;};ObjetListeElements.prototype.GetLibelle=function(I){return this.ListeElements[I].Libelle;};ObjetListeElements.prototype.GetActif=function(I){return this.ListeElements[I].Actif;};ObjetListeElements.prototype.GetPosition=function(I){return this.ListeElements[I].Position;};ObjetListeElements.prototype.existeNumero=function(I){var N=this.GetNumero(I);return N&&(N!=='0')?true:false;};ObjetListeElements.prototype.Existe=function(I){return this.ListeElements[I].Existe();};ObjetListeElements.prototype.PourValidation=function(I){return this.ListeElements[I].PourValidation();};ObjetListeElements.prototype.SetLibelle=function(I,ALibelle){this.ListeElements[I].Libelle=ALibelle;};ObjetListeElements.prototype.TrierPourValidation=function(){ObjetTri.trierTableau(this.ListeElements,[ObjetTri.init('Etat')]);};ObjetListeElements.prototype.existeElementPourValidation=function(){var I,lNb;for(I=0,lNb=this.GetNbrElements();I<lNb;I++){if(this.PourValidation(I)){return true;}}
  return false;};ObjetListeElements.prototype.setTri=function(aTableauTris){this._tris=aTableauTris;return this;};ObjetListeElements.prototype.getTri=function(){return this._tris;};ObjetListeElements.prototype.trier=function(aGenreTri){if(this.ListeElements){aGenreTri=aGenreTri===null||aGenreTri===undefined?EGenreTriElement.Croissant:aGenreTri;if(!this._tris){this.setTri([
  ObjetTri.init('Position'),ObjetTri.init('Libelle')
  ]);}
  var lTris=[].concat(this._tris);lTris.unshift(ObjetTri.init(function(aElement){return(aElement.Visible===false)||(aElement.Etat===EGenreEtat.Suppression);},aGenreTri));ObjetTri.trierTableau(this.ListeElements,lTris);if(aGenreTri===EGenreTriElement.Decroissant){this.ListeElements.reverse();}}
  return this;};ObjetListeElements.prototype.GetIndiceParNumeroEtGenre=function(ANumero,AGenre,aAvecExiste){if(this.ListeElements&&(((ANumero!==null&&ANumero!==undefined))||((AGenre!==null&&AGenre!==undefined)))){var N=this.GetNbrElements(),I;for(I=0;I<N;I++){var lElement=this.ListeElements[I];if(lElement&&lElement.egalParNumeroEtGenre(ANumero,AGenre,aAvecExiste)){return I;}}}};ObjetListeElements.prototype.GetIndiceExisteParNumeroEtGenre=function(ANumero,AGenre){if(this.ListeElements&&(((ANumero!==null&&ANumero!==undefined))||((AGenre!==null&&AGenre!==undefined)))){var N=this.GetNbrElements(),J= -1,I;for(I=0;I<N;I++){if(this.Existe(I)){J++;if(((ANumero===null||ANumero===undefined)||(this.GetNumero(I)===ANumero))&&((AGenre===null||AGenre===undefined)||(this.GetGenre(I)===AGenre))){return J;}}}}};ObjetListeElements.prototype.GetElementParNumeroEtGenre=function(ANumero,AGenre,aAvecExiste){return this.GetElement(this.GetIndiceParNumeroEtGenre(ANumero,AGenre,aAvecExiste));};ObjetListeElements.prototype.GetIndiceParElement=function(aElement,aAvecExiste){return aElement?this.GetIndiceParNumeroEtGenre(aElement.GetNumero(),aElement.GetGenre(),aAvecExiste):null;};ObjetListeElements.prototype.GetIndiceExisteParElement=function(aElement){return this.GetIndiceExisteParNumeroEtGenre(aElement.GetNumero(),aElement.GetGenre());};ObjetListeElements.prototype.GetElementParElement=function(aElement,aAvecExiste){return this.GetElement(this.GetIndiceParElement(aElement,aAvecExiste));};ObjetListeElements.prototype.GetIndiceParLibelle=function(ALibelle){if(this.ListeElements){var I,N=this.GetNbrElements();for(I=0;I<N;I++){if(this.GetLibelle(I)===ALibelle){return I;}}}};ObjetListeElements.prototype.GetIndiceParParsingLibelle=function(aLibelle){if(!this.ListeElements){return-1;}
  if(aLibelle.length===0){return 0;}
  var I,N,lIndice=0;for(I=0,N=this.GetNbrElements();I<N;I++){var lLibelle=this.GetLibelle(I);if(lLibelle.toUpperCase()<aLibelle.toUpperCase()){lIndice++;} else{break;}}
  return lIndice>=N?lIndice-1:lIndice;};ObjetListeElements.prototype.GetElementParLibelle=function(ALibelle){return this.GetElement(this.GetIndiceParLibelle(ALibelle));};ObjetListeElements.prototype.GetPremierElement=function(){var i,lNb,lResult=null;for(i=0,lNb=this.GetNbrElements();i<lNb&&!lResult;i++){if(this.Existe(i)){lResult=this.GetElement(i);}}
  return lResult;};ObjetListeElements.prototype.FusionnerListe=function(AListeElements,APere,AFaireCeQuIlFaut){if(AListeElements){var I,LNbrElts=AListeElements.GetNbrElements();for(I=0;I<LNbrElts;I++){var LRetour=true;if(APere&&AFaireCeQuIlFaut){LRetour=AFaireCeQuIlFaut.call(APere,AListeElements.GetElement(I));}
  if(LRetour){this.AddElement(AListeElements.GetElement(I));}}}
  return this;};ObjetListeElements.prototype.listeIdentiqueParElementsOrdonnes=function(aListeElements){if(!aListeElements||!aListeElements.GetNbrElements){return false;}
  if(this.GetNbrElements()!==aListeElements.GetNbrElements()){return false;}
  var lResult=true;this.parcourir(function(aElement,aIndice){var lIndice=aListeElements.GetIndiceParElement(aElement);if(lIndice!==aIndice){lResult=false;return false;}});return lResult;};ObjetListeElements.prototype.setSerialisateurJSON=function(aSerialisateur){this.serialisateurJSON={ignorerEtatsElements:false,methodeSerialisation:null,nePasTrierPourValidation:false};Object.assign(this.serialisateurJSON,aSerialisateur);return this;};ObjetListeElements.prototype.toJSON=function(){var I,lNb,lElement,lJSONElement,lGarderElement,lExisteElement,lAvecSerialisation=this.serialisateurJSON&&this.serialisateurJSON.methodeSerialisation,lResult=[],lListe=new ObjetListeElements();lListe.FusionnerListe(this);if(!this.serialisateurJSON||!this.serialisateurJSON.nePasTrierPourValidation){lListe.TrierPourValidation();}
  for(I=0,lNb=lListe.GetNbrElements();I<lNb;I++){lElement=lListe.GetElement(I);if(lElement){lExisteElement=(this.serialisateurJSON&&this.serialisateurJSON.ignorerEtatsElements)||lElement.PourValidation();lJSONElement=null;if(lExisteElement||lAvecSerialisation){lJSONElement=lElement.toJSON();if(lAvecSerialisation){lGarderElement=this.serialisateurJSON.methodeSerialisation(lElement,lJSONElement,I);lExisteElement=lGarderElement===null||lGarderElement===undefined?lExisteElement:lGarderElement;}}
  if(lExisteElement&&lJSONElement){lResult.push(lJSONElement);}}}
  return lResult;};ObjetListeElements.prototype.fromJSON=function(aJSON,aMethodeDeserialisation,aTrier){if(!aJSON||!MethodesObjet.isArray(aJSON)){return this;}
  var i,lNb;for(i=0,lNb=aJSON.length;i<lNb;i++){var lElement=new ObjetElement().fromJSON(aJSON[i]);if(!aMethodeDeserialisation||(aMethodeDeserialisation(aJSON[i],lElement,i)!==false)){this.AddElement(lElement);}}
  if(aTrier){this.trier();}
  return this;};module.exports=ObjetListeElements;},fn:"objetlisteelements.js"});;
  IE.fModule({f:function(exports,require,module,global){var MethodesObjet=require('MethodesObjet.js');var TypeChampsJSON=require('Enumere_ChampsJSON.js');var ObjetElement=require('ObjetElement.js');var TypeHttpVariable=require('TypeHttpVariable.js').TypeHttpVariable;function TypeDomaine(AValeurParDefaut,ANombreValeurs){this.valeurSemaine={plein:'1',vide:'0'};this.nombreValeurs=ANombreValeurs?ANombreValeurs:TypeDomaine.C_MaxDomaineCycle;AValeurParDefaut=(AValeurParDefaut===null)||AValeurParDefaut===undefined||(AValeurParDefaut==='')?'[]':AValeurParDefaut;this.Domaine=_getDomaine.call(this,AValeurParDefaut,this.nombreValeurs);this.cache={};}
  TypeDomaine.CTailleOuverte= -1;TypeDomaine.C_MaxDomaineCycle=62;function _getDomaine(AValeurParDefaut,ANombreValeurs){var lType=typeof(AValeurParDefaut);var D;if((lType!=='objet')&&(lType!=='string')){D=new Array(1+(ANombreValeurs===null||ANombreValeurs===undefined?TypeDomaine.C_MaxDomaineCycle:ANombreValeurs)).join((lType==='boolean')&&AValeurParDefaut?this.valeurSemaine.plein:this.valeurSemaine.vide).split('');}
  switch(lType){case'number':D[AValeurParDefaut-1]=this.valeurSemaine.plein;return D;case'objet':return AValeurParDefaut;case'string':return this.strToDomaine(AValeurParDefaut,ANombreValeurs);case'boolean':return D;default:return D;}}
  TypeDomaine.prototype.strToDomaine=function(aChaine,aNombreValeurs){if(!((aChaine.charAt(0)==='[')&&(aChaine.charAt(aChaine.length-1)===']'))){var lTab=aChaine.split('');if(aNombreValeurs!==null&&aNombreValeurs>=0){lTab.length=aNombreValeurs;}
  return lTab;}
  aChaine=aChaine.substring(1,aChaine.length-1);var R=new Array(aNombreValeurs!==TypeDomaine.CTailleOuverte?aNombreValeurs:0);var T1=aChaine.split(',');for(var I=0;I<T1.length;I++){var T2=T1[I].split('..');var V1=parseInt(T2[0]);var V2=parseInt(T2.length===1?V1:T2[1]);for(var J=V1;J<=V2;J++){R[J-1]=this.valeurSemaine.plein;}}
  if(this.nombreValeurs!==TypeDomaine.CTailleOuverte){this.nombreValeurs=R.length;}
  return R;};TypeDomaine.prototype.toString=function(){var S='',N=0;for(var I=0;I<=this.Domaine.length;I++){if(this.Domaine[I]==='1'){N++;} else if(N>0){if(S.length){S+=',';}
  if(N>1){S+=(I+1-N)+'..';}
  S+=(I);N=0;}}
  return'['+S+']';};TypeDomaine.prototype.Vider=function(){this.cache={};this.SetValeur(false,1,this.GetTaille());return this;};TypeDomaine.prototype.EstVide=function(){return this.GetNbrValeurs(true)===0;};TypeDomaine.prototype.SetValeur=function(AValeur,ADeb,AFin){if((ADeb>this.GetTaille())&&(this.nombreValeurs!==TypeDomaine.CTailleOuverte)){return;}
  this.cache={};if(this.nombreValeurs!==TypeDomaine.CTailleOuverte){ADeb=Math.borner(ADeb,1,this.GetTaille());AFin=Math.borner(AFin===null||AFin===undefined?ADeb:AFin,1,this.GetTaille());} else{ADeb=Math.max(ADeb,1);AFin=AFin===null||AFin===undefined?ADeb:Math.max(ADeb,AFin);}
  for(var I=ADeb-1;I<AFin;I++){this.Domaine[I]=AValeur?this.valeurSemaine.plein:this.valeurSemaine.vide;}
  return this;};TypeDomaine.prototype.GetValeur=function(APos){return this.Domaine[APos-1]===this.valeurSemaine.plein;};TypeDomaine.prototype.GetPremierePosition=function(aValeur){for(var I=0;I<this.Domaine.length;I++){var lValeur=this.Domaine[I]===null||this.Domaine[I]===undefined?this.valeurSemaine.vide:this.Domaine[I];if(lValeur===(aValeur===false?this.valeurSemaine.vide:this.valeurSemaine.plein)){return I+1;}}
  return-1;};TypeDomaine.prototype.enListeDomainesContinues=function(){var ObjetListeElements=require('ObjetListeElements.js');var lResult=new ObjetListeElements();var lValeurPrecedente;var lPeriode=new ObjetElement('');for(var I=0;I<this.Domaine.length;I++){var lValeur=this.Domaine[I]===null||this.Domaine[I]===undefined?this.valeurSemaine.vide:this.Domaine[I];if(lValeur===(this.valeurSemaine.plein)){if(lPeriode.debut===undefined){lPeriode.debut=I+1;}
  if(lValeurPrecedente===this.valeurSemaine.plein||lPeriode.fin===undefined){lPeriode.fin=I+1;}} else{if(lPeriode.debut!==undefined){lResult.AddElement(lPeriode);}
  lPeriode=new ObjetElement('');}
  lValeurPrecedente=lValeur;}
  if(lPeriode.debut!==undefined){lResult.AddElement(lPeriode);}
  return lResult;};TypeDomaine.prototype.GetDernierePosition=function(aValeur){for(var I=this.Domaine.length-1;I>=0;I--){var lValeur=this.Domaine[I]===null||this.Domaine[I]===undefined?this.valeurSemaine.vide:this.Domaine[I];if(lValeur===(aValeur===false?this.valeurSemaine.vide:this.valeurSemaine.plein)){return I+1;}}
  return-1;};TypeDomaine.prototype.GetNbrValeurs=function(AValeur){var N=0;var LValeur=AValeur||(AValeur===null)||AValeur===undefined?this.valeurSemaine.plein:this.valeurSemaine.vide;if(this.cache['GetNbrValeurs_'+LValeur]!==undefined){return this.cache['GetNbrValeurs_'+LValeur];}
  for(var I=0;I<this.Domaine.length;I++){if(this.Domaine[I]===LValeur){N++;}}
  this.cache['GetNbrValeurs_'+LValeur]=N;return N;};TypeDomaine.prototype.EstUnNombre=function(){return this.GetNbrValeurs(true)<=1;};TypeDomaine.prototype.getNombre=function(){return this.GetNbrValeurs(true)===1?this.GetPremierePosition(true):0;};TypeDomaine.prototype.GetTaille=function(){return this.Domaine.length;};TypeDomaine.prototype.GetIntersection=function(aDomaine){if(!aDomaine){return MethodesObjet.dupliquer(this);}
  var lTaille=Math.min(this.GetTaille(),aDomaine.GetTaille());var lIntersect=new TypeDomaine(null,lTaille);for(var I=1;I<=lTaille;I++){if(this.GetValeur(I)&&aDomaine.GetValeur(I)){lIntersect.SetValeur(true,I);}}
  return lIntersect;};TypeDomaine.prototype.getInversion=function(){var lTaille=this.GetTaille();var lInversion=new TypeDomaine(null,lTaille);for(var I=1;I<=lTaille;I++){lInversion.SetValeur(!this.GetValeur(I),I);}
  return lInversion;};TypeDomaine.prototype.getDomaineSoustraction=function(aDomaineASoustraire){var lDomaine=MethodesObjet.dupliquer(this);if(!aDomaineASoustraire||!aDomaineASoustraire.GetTaille||!aDomaineASoustraire.GetValeur){return lDomaine;}
  for(var I=1,lTaille=aDomaineASoustraire.GetTaille();I<=lTaille;I++){if(aDomaineASoustraire.GetValeur(I)){lDomaine.SetValeur(false,I);}}
  return lDomaine;};TypeDomaine.prototype.getDomaineUnion=function(aDomaineAAjouter){var lDomaine=MethodesObjet.dupliquer(this);if(!aDomaineAAjouter){return lDomaine;}
  for(var I=1,lTaille=aDomaineAAjouter.GetTaille();I<=lTaille;I++){if(aDomaineAAjouter.GetValeur(I)){lDomaine.SetValeur(true,I);}}
  return lDomaine;};TypeDomaine.prototype.egal=function(aDomaine){if(!aDomaine||!aDomaine.GetTaille||!aDomaine.GetValeur){return false;}
  for(var I=1,lTaille=this.GetTaille();I<=lTaille;I++){if(this.GetValeur(I)!==aDomaine.GetValeur(I)){return false;}}
  return true;};TypeDomaine.prototype.getSemaines=function(){if(this.cache['getSemaines']!==undefined){return this.cache['getSemaines'];}
  var lTaille=this.GetTaille(),lSemaines=[],I;for(I=1;I<=lTaille;I++){if(this.GetValeur(I)){lSemaines.push(I);}}
  this.cache['getSemaines']=lSemaines;return lSemaines;};TypeDomaine.prototype.dupliquer=function(){var lDomaine=new TypeDomaine(null,this.nombreValeurs);lDomaine.Domaine=[].concat(this.Domaine);return lDomaine;};TypeDomaine.prototype.toJSON=function(){var lJSON={};lJSON[TypeChampsJSON.type]=TypeHttpVariable.TypeHttpDomaine;lJSON[TypeChampsJSON.valeur]=this.toString();return lJSON;};module.exports=TypeDomaine;},fn:"typedomaine.js"});;
  IE.fModule({f:function(exports,require,module,global){var MethodesObjet=require('MethodesObjet.js');require('divers.js');var GChaine=require('_ObjetChaine.js').GChaine;function ObjetTraduction(){}
  ObjetTraduction.prototype.add=function(aNom,aValeur,aAccepteTableau){try{var lNomDernierNoeud=aNom;var lObjet=this;if(aNom.indexOf('.')>0){var T=aNom.split('.');for(var J=0;J<T.length-1;J++){var lProp=aNom.split('.')[J];if(!lObjet[lProp]){lObjet[lProp]=new ObjetTraduction();}
  lObjet=lObjet[lProp];}
  if(T.length>0){lNomDernierNoeud=aNom.split('.')[T.length-1];}}
  if(MethodesObjet.isString(lObjet)){return;}
  if(lObjet[lNomDernierNoeud]||lObjet[lNomDernierNoeud]===''){
  if(MethodesObjet.isString(lObjet[lNomDernierNoeud])){lObjet[lNomDernierNoeud]=[lObjet[lNomDernierNoeud]];}
  lObjet[lNomDernierNoeud].push(aValeur||'');} else{lObjet[lNomDernierNoeud]=aValeur||'';}} catch(e){}};ObjetTraduction.prototype.getValeur=function(aNom,aTableauRemplacements){var lValeur=MethodesObjet.get(this,aNom);if(!lValeur&&!MethodesObjet.isString(lValeur)){return lValeur||'';}
  if(aTableauRemplacements){if(MethodesObjet.isString(lValeur)){lValeur=GChaine.Format(lValeur,aTableauRemplacements);}}
  return lValeur;};ObjetTraduction.prototype.getTitreMFiche=function(aIdRessource){var lChaine=this.getValeur(aIdRessource);if(lChaine!==''){var lJson=JSON.parse(lChaine);if(lJson&&lJson.titre){return lJson.titre;} else{}} else{}};ObjetTraduction.prototype._DEBUG_PasserEnCleDeTraductions=function(aChaine){};var lTraduction=new ObjetTraduction();module.exports=lTraduction;},fn:"objettraduction.js"});
  IE.fModule({f:function(exports,require,module,global){var trad=require("ObjetTraduction.js");if(!trad){trad=lTraduction;}function a(a,b,c){trad.add(a,b,c);}
  a("Annuler", "Annuler");
  a("Valider", "Valider");
  a("Fermer", "Fermer");
  a("Editer", "Editer");
  a("SansTitre", "Sans titre");
  a("Bloc.Documents", "Documents");
  a("fenetre.SaisieValide", "Votre saisie sera validée automatiquement");
  a("fenetre.Aucune", "Aucune");
  a("GenerationPDF.Lien.TitreLienPDF", "Le PDF a été généré");
  a("GenerationPDF.Lien.LienValidePendant", "Ce lien est valide pendant %s secondes");
  a("GenerationPDF.Lien.CliquerIci", "Cliquer ici pour ouvrir le PDF");
  a("Navigation.Aide", "Informations concernant l'accessibilité du site et la navigation clavier. ");
  a("Navigation.Tableau", "Utilisez les flèches haut, bas, gauche et droite pour naviguer. ");
  a("Navigation.AvecValidation", "Validez votre choix avec les touches Entrée ou Barre espace. ");
  a("Navigation.BarreOnglets", "Barre d'onglets : ");
  a("Navigation.NavigationHorizontal", "Utilisez les flèches gauche et droite pour naviguer. ");
  a("Navigation.NavigationVertical", "Utilisez les flèches haut et bas pour naviguer. ");
  a("Navigation.NavigationHorizontalAvecValidation", "Utilisez les flèches gauche et droite pour naviguer et la barre espace ou entrée pour valider. ");
  a("Navigation.NavigationVerticalAvecValidation", "Utilisez les flèches haut et bas pour naviguer et la barre espace ou entrée pour valider. ");
  a("Navigation.CalendrierNavigation", "Pour sélectionner la semaine précédente ou suivante, ");
  a("Navigation.CalendrierPrecedent", "Sélectionnez la semaine précédente. ");
  a("Navigation.CalendrierSuivant", "Sélectionnez la semaine suivante. ");
  a("Navigation.ValidezEvenement", "les touches Entrée ou Barre espace pour consulter les détails de l'évènement. ");
  a("Navigation.TitreDetailEvenement", "Détails des évènements pour la période sélectionnée : ");
  a("Navigation.MenuContextuel", "Menu contextuel : ");
  a("Navigation.NavigationMenuContextuel", "Utilisez les flèches haut et bas pour naviguer, la barre espace ou entrée pour valider et la touche échappe pour sortir sans sélectionner. ");
  a("Navigation.ItemDesactiver", "Cet item est désactivé. ");
  a("Navigation.AvecEdition", "Activez l'édition avec les touches majuscule + entrée. ");
  a("Navigation.Tabulation", "Utilisez les touches tabulation ou majuscule + tabulation pour naviguer entre les éléments. ");
  a("Navigation.Supprimer", "Supprimez la sélection avec la touche Suppr. ");
  a("Navigation.Fenetre", "Nouvelle fenêtre, ");
  a("Navigation.NouvelElement", "Pour ajouter un nouvel élément, ");
  a("Navigation.BarreOngletsPrincipal", "menu déroulant, Sélection des onglets et sous-onglets. Utilisez les flèches haut et bas pour naviguer dans un niveau, gauche et droite pour changer de niveau, barre espace ou entrée pour valider, échappe pour fermer le menu. ");
  a("Navigation.SousOnglets", "sous menu, ");
  a("Navigation.RetourDebutFenetre", "Retour en début de fenêtre, ");
  a("Navigation.FenetreChoix", "Utilisez la touche entrée ou flèche bas pour ouvrir la fenêtre de choix");
  a("Navigation.AideRaccourcisClavier", "Pour utiliser les raccourcis clavier, appuyez simultanément sur les touches Controle + Shift + Alt + un des chiffres de la partie supérieure du clavier (pas le pavé numérique). ");
  a("Navigation.AideRaccourcisClavierDetails", "Menu: Controle+Shift+Alt+ 0, Commande: Controle+Shift+Alt+ 1, Contenu: Controle+Shift+Alt+ 2, Déconnexion: Controle+Shift+Alt+ 9");
  a("Navigation.AideRaccourcisClavierMacOs", "Pour pouvoir utiliser les touches fléchées pour naviguer dans les composants, vous devez désactiver la navigation rapide de VoiceOver.");
  a("Navigation.ObjetSaisieVide", "La liste ne contient aucune donnée.");
  a("WAI.AucuneDonnee", "Aucune donnée");
  a("WAI.FermerFiche", "Fermer la fiche");
  a("WAI.FicheCours", "Ouverture de la fiche de cours");
  a("WAI.ListeSelectionCategorie", "Liste déroulante : sélectionnez une catégorie.");
  a("WAI.ListeSelectionAffichage", "Sélectionnez un affichage.");
  a("WAI.ZoneDImpression", "Zone d'impression");
  a("WAI.Sur", "sur");
  a("WAI.heure", "heure");
  a("WAI.heures", "heures");
  a("WAI.minute", "minute");
  a("WAI.minutes", "minutes");
  a("FenetreDevoir.ValeurComprise", "La valeur doit être comprise entre #1 et #2");
  a("connexion.ErreurConnexionInterrompue", "Connexion interrompue !");
  a("connexion.Deconnecter", "Vous avez été déconnecté");
  a("connexion.SeConnecter", "Se connecter");
  a("connexion.EchecChargement", "Échec lors du chargement de la page");
  a("connexion.PageIndisponible", "La page que vous recherchez est actuellement indisponible ou inexistante.");
  a("connexion.AffichagePageImpossible", "Impossible d'afficher la page");
  a("connexion.Erreur", "Erreur");
  a("connexion.DeconnexionEnCours", "Déconnexion en cours");
  a("connexion.DeconnexionSaisieNonValidee", "Vous n'avez pas validé votre saisie.");
  a("connexion.ConfirmezDeconnexion", "Confirmez-vous la déconnexion ?");
  a("connexion.MessageVeuillezPatienter", "Veuillez patienter...");
  a("connexion.Chargement", "Chargement");
  a("accueil.ParametresMobile", "Paramètres");
  a("accueil.ParametresMobileEnfants", "Paramètres enfant(s)");
  a("requete.validationEchec", "La validation a échoué.");
  a("requete.erreur", "Une erreur s'est produite");
  a("requete.validationEnCours", "Validation en cours");
  a("requete.validationAutomatique", "Votre saisie sera validée automatiquement");
  a("requete.VeuillezPatienter", "Veuillez patienter...");
  a("requete.transfertPJ", "Transfert des pièces jointes");
  a("interface.SaisieNonValidee", "Attention, votre saisie n'est pas validée");
  a("interface.SouhaitezVousValiderSaisie", "Souhaitez-vous valider votre saisie avant de poursuivre ?\nSi vous répondez Non, votre saisie sera définitivement perdue.");
  a("interface.SaisieAValider", "Vous devez valider votre saisie avant de poursuivre.");
  a("date.separateurHeure", "h");
  a("date.separateurMin", "min");
  a("date.separateurMn", "mn");
  a("Jours", "lundi",1);
  a("Jours", "mardi",1);
  a("Jours", "mercredi",1);
  a("Jours", "jeudi",1);
  a("Jours", "vendredi",1);
  a("Jours", "samedi",1);
  a("Jours", "dimanche",1);
  a("JourCourt", "J",1);
  a("JoursCourt", "lun.",1);
  a("JoursCourt", "mar.",1);
  a("JoursCourt", "mer.",1);
  a("JoursCourt", "jeu.",1);
  a("JoursCourt", "ven.",1);
  a("JoursCourt", "sam.",1);
  a("JoursCourt", "dim.",1);
  a("Mois", "janvier",1);
  a("Mois", "février",1);
  a("Mois", "mars",1);
  a("Mois", "avril",1);
  a("Mois", "mai",1);
  a("Mois", "juin",1);
  a("Mois", "juillet",1);
  a("Mois", "août",1);
  a("Mois", "septembre",1);
  a("Mois", "octobre",1);
  a("Mois", "novembre",1);
  a("Mois", "décembre",1);
  a("MoisCourt", "janv.",1);
  a("MoisCourt", "févr.",1);
  a("MoisCourt", "mars",1);
  a("MoisCourt", "avr.",1);
  a("MoisCourt", "mai",1);
  a("MoisCourt", "juin",1);
  a("MoisCourt", "juil.",1);
  a("MoisCourt", "août",1);
  a("MoisCourt", "sept.",1);
  a("MoisCourt", "oct.",1);
  a("MoisCourt", "nov.",1);
  a("MoisCourt", "déc.",1);
  a("Aujourdhui", "Aujourd'hui");
  a("Demain", "Demain");
  a("Hier", "Hier");
  a("Dates.LeDate", "le %s");
  a("Dates.DuDate", "du %s");
  a("Dates.AHeure", "à %s");
  a("Dates.DepuisDateAHeure", "depuis %0:s à %1:s");
  a("Dates.DeHeureDebutAHeureFin", "de %0:s à %1:s");
  a("Dates.DateDebutAHeureDebutAuDateFinAHeureFin", "%0:s à %1:s au %2:s à %3:s");
  a("Dates.DateDebutAuDateFin", "%0:s au %1:s");
  a("Dates.LeDateDebutDeHeureDebutAHeureFin", "le %0:s de %1:s à %2:s");
  a("Dates.DuDateDebutAHeureDebutAuDateFinAHeureFin", "du %0:s à %1:s au %2:s à %3:s");
  a("Dates.DateDebutAHeureDebut", "%0:s à %1:s");
  a("Dates.LeDateDebutAHeureDebut", "le %0:s à %1:s");
  a("Dates.DuDateDebutAuDateFin", "du %0:s au %1:s");
  a("Fenetre_Date.Titre", "Choisir un jour");
  a("Fenetre_Date.MoisPrecedent", "Mois précédent");
  a("Fenetre_Date.MoisSuivant", "Mois suivant");
  a("Fenetre_Date.AucuneDate", "Aucune date");
  a("ExecutionQCM.typesQCM.IDevoir", "IDevoir");
  a("ExecutionQCM.typesQCM.QCMDeTaf", "QCM");
  a("ExecutionQCM.typesQCM.QCMDeContenu", "QCM de révision");
  a("ExecutionQCM.notation.devoir", '<p>iDevoir <strong>comptabilis&eacute; dans la moyenne </strong>(not&eacute; sur %d)</p>');
  a("ExecutionQCM.notation.evaluation", '<p>iDevoir <strong>comptabilis&eacute; dans le bilan de comp&eacute;tences</strong></p>');
  a("ExecutionQCM.notation.evaluationEtDevoir", '<p>iDevoir <strong>comptabilis&eacute; dans la moyenne </strong>(not&eacute; sur %d) et<strong> dans le bilan de comp&eacute;tences</strong></p>');
  a("ExecutionQCM.notation.taf", '<p>QCM <strong>non comptabilis&eacute; dans les r&eacute;sultats</strong></p>');
  a("ExecutionQCM.notation.contenuCours", '<p>QCM <strong>de r&eacute;vision</strong></p>');
  a("ExecutionQCM.corrige.aucun", '<p><strong>Sans corrig&eacute;</strong></p>');
  a("ExecutionQCM.corrige.chaque_question", '<p>Corrig&eacute; <strong>&agrave; chaque question</strong></p>');
  a("ExecutionQCM.corrige.fin_qcm", '<p>Corrig&eacute; <strong>&agrave; la fin</strong></p>');
  a("ExecutionQCM.presentation.retour_precedent", '<p><strong>Retour</strong> &agrave; la question pr&eacute;c&eacute;dente</p>');
  a("ExecutionQCM.presentation.sans_retour_precedent", '<p><strong>Sans retour</strong> &agrave; la question pr&eacute;c&eacute;dente</p>');
  a("ExecutionQCM.presentation.limite_temps", '<p>Dur&eacute;e <strong>limit&eacute;e &agrave; %d</strong></p>');
  a("ExecutionQCM.presentation.sans_limite_temps", '<p>Dur&eacute;e <strong>illimit&eacute;e</strong></p>');
  a("ExecutionQCM.presentation.RS_IlFautCliquerSurValider", "Il est impératif de cliquer sur le bouton « Valider » pour enregistrer les réponses");
  a("ExecutionQCM.presentationCorrige.CorrigeQCMExecute", "Corrigé du QCM");
  a("ExecutionQCM.presentationCorrige.CorrigeIdevoirExecute", "Corrigé de l'iDevoir");
  a("ExecutionQCM.presentationCorrige.limite_temps", "Le temps de réponse était limité à %d");
  a("ExecutionQCM.presentationCorrige.sans_limite_temps", "Le temps de réponse n'était pas limité");
  a("ExecutionQCM.presentationCorrige.noteObtenue", "Note obtenue : %d/%d");
  a("ExecutionQCM.presentationCorrige.reponsesDonnees", "Réponses données : %d/%d dont %d bonne(s)");
  a("ExecutionQCM.presentationCorrige.VisualiserCorrige", "Voir le corrigé");
  a("ExecutionQCM.presentationCorrige.RecommencerQCM", "Rejouer le QCM");
  a("ExecutionQCM.presentationCorrige.VisuCopie_Eleve", "Voir ma copie");
  a("ExecutionQCM.presentationCorrige.VisuCopie_Autre", "Voir la copie d'élève");
  a("ExecutionQCM.presentationCorrige.VisuPDF_Corrige", "Générer le corrigé en PDF");
  a("ExecutionQCM.presentationCorrige.VisuPDF_Eleve", "Générer ma copie en PDF");
  a("ExecutionQCM.presentationCorrige.VisuPDF_Autre", "Générer la copie en PDF");
  a("ExecutionQCM.Minutes", "minutes");
  a("ExecutionQCM.MinutesCourt", "min.");
  a("ExecutionQCM.SecondesCourt", "sec.");
  a("ExecutionQCM.Valider", "Valider");
  a("ExecutionQCM.Terminer", "Terminer");
  a("QCM.QuestionLibelle", "Question");
  a("QCM.BaremePts", "%d pts");
  a("ExecutionQCM.valeurRessenti", "Très difficile",1);
  a("ExecutionQCM.valeurRessenti", "Difficile",1);
  a("ExecutionQCM.valeurRessenti", "Moyen",1);
  a("ExecutionQCM.valeurRessenti", "Facile",1);
  a("ExecutionQCM.valeurRessenti", "Très facile",1);
  a("ExecutionQCM.TitreRessenti", "Comment était ce QCM ?");
  a("ExecutionQCM.phraseRessenti", "J'ai trouvé ce QCM : ");
  a("ExecutionQCM.phraseFin", "C'est la fin de l'iDevoir. Le bouton « Terminer » permet de fermer cette fenêtre.");
  a("ExecutionQCM.phraseFinQCM", "C'est la fin du QCM. Le bouton « Terminer » permet de fermer cette fenêtre.");
  a("ExecutionQCM.phraseFinAvantCorrige", "C'est la fin de l'iDevoir. Cliquez sur le bouton pour voir le corrigé.");
  a("ExecutionQCM.phraseFinQCMAvantCorrige", "C'est la fin du QCM. Cliquez sur le bouton pour voir le corrigé.");
  a("ExecutionQCM.PhraseCloture", "Cet iDevoir a déjà été terminé.");
  a("ExecutionQCM.PhraseClotureQCM", "Ce QCM a déjà été terminé.");
  a("ExecutionQCM.PhraseClotureQCMDelaiMax", "Impossible de poursuivre ce QCM, le délai de réponse est dépassé.");
  a("ExecutionQCM.PhraseClotureDelaiMax", "Impossible de poursuivre cet iDevoir, le délai de réponse est dépassé.");
  a("ExecutionQCM.LisezIndications", "A lire attentivement");
  a("ExecutionQCM.CommencerQCM", "Je commence à répondre");
  a("ExecutionQCM.QCMPublieLe", "QCM publié le");
  a("ExecutionQCM.RepondreQCM", "Répondre au QCM");
  a("ExecutionQCM.RepondreQCMContenu", "QCM pour réviser");
  a("ExecutionQCM.Point", "Point");
  a("ExecutionQCM.Points", "Points");
  a("ExecutionQCM.CopyRightEditeur2013", "© %s 2013");
  a("ExecutionQCM.QuestionXSurY", "Question %s/%s");
  a("ExecutionQCM.AucunQCMRevision", "Aucun QCM de révision n'est disponible");
  a("ExecutionQCM.ImageNonSupportee", "<em>Votre navigateur ne supporte pas l'affichage des images</em>");
  a("ExecutionQCM.FichierIndispo", "Le fichier n'est pas disponible");
  a("ExecutionQCM.NonExecute", "L'iDevoir n'a pas encore été exécuté");
  a("ExecutionQCM.AudioNonSupporte", "Votre navigateur ne supporte pas les fichiers audio");
  a("ExecutionQCM.BonneReponse", "Bonne réponse !");
  a("ExecutionQCM.Navigation", "Navigation");
  a("ExecutionQCM.LabelCorrige", "Corrigé");
  a("ExecutionQCM.JePasse", "Je passe");
  a("ExecutionQCM.JeReviens", "Je reviens");
  a("ExecutionQCM.phraseClotureNonDemarre", "Le QCM est terminé mais n'a jamais été joué.");
  },fn:"_tradGen_"});;
  IE.fModule({f:function(exports,require,module,global){var EGenreAnnotation={erreur:-1,note:0,absent:1,dispense:2,nonNote:3,inapte:4,nonRendu:5,absentZero:6,nonRenduZero:7,felicitations:8};module.exports=EGenreAnnotation;},fn:"enumere_annotation.js"});;
  IE.fModule({f:function(exports,require,module,global){var ToucheClavier={};ToucheClavier.Backspace=8;ToucheClavier.Tab=9;ToucheClavier.RetourChariot=13;ToucheClavier.Espace=32;ToucheClavier.Shift=16;ToucheClavier.Ctrl=17;ToucheClavier.Alt=18;ToucheClavier.Windows=91;ToucheClavier.ContextMenu=93;ToucheClavier.Echap=27;ToucheClavier.FlecheGauche=37;ToucheClavier.FlecheDroite=39;ToucheClavier.FlecheHaut=38;ToucheClavier.FlecheBas=40;ToucheClavier.Inserer=45;ToucheClavier.Supprimer=46;ToucheClavier.Debut=36;ToucheClavier.Fin=35;ToucheClavier.PageHaut=33;ToucheClavier.PageBas=34;ToucheClavier._0=48;ToucheClavier._1=49;ToucheClavier._2=50;ToucheClavier._3=51;ToucheClavier._4=52;ToucheClavier._5=53;ToucheClavier._6=54;ToucheClavier._7=55;ToucheClavier._8=56;ToucheClavier._9=57;ToucheClavier.A=65;ToucheClavier.B=66;ToucheClavier.C=67;ToucheClavier.D=68;ToucheClavier.E=69;ToucheClavier.F=70;ToucheClavier.G=71;ToucheClavier.H=72;ToucheClavier.I=73;ToucheClavier.J=74;ToucheClavier.K=75;ToucheClavier.L=76;ToucheClavier.M=77;ToucheClavier.N=78;ToucheClavier.O=79;ToucheClavier.P=80;ToucheClavier.Q=81;ToucheClavier.R=82;ToucheClavier.S=83;ToucheClavier.T=84;ToucheClavier.U=85;ToucheClavier.V=86;ToucheClavier.W=87;ToucheClavier.X=88;ToucheClavier.Y=89;ToucheClavier.Z=90;ToucheClavier.AccoladeDroite=222;ToucheClavier.AccoladeGauche=220;ToucheClavier.Dollar=223;ToucheClavier.CrochetGauche=186;ToucheClavier.CrochetDroite=192;ToucheClavier.Circonflexe=221;ToucheClavier.PointInterrogation=219;ToucheClavier.VerrMaj=20;ToucheClavier.VerrNum=144;ToucheClavier.F1=115;ToucheClavier.F3=114;ToucheClavier.F2=113;ToucheClavier.F5=116;ToucheClavier.F6=117;ToucheClavier.F7=118;ToucheClavier.F8=119;ToucheClavier.F9=120;ToucheClavier.F10=121;ToucheClavier.F11=122;ToucheClavier.F12=123;ToucheClavier.ArretDefilement=145;ToucheClavier.Pause=19;ToucheClavier.Inferieur=226;ToucheClavier.Virgule=188;ToucheClavier.Tiret=189;ToucheClavier.Point=190;ToucheClavier.Section=191;ToucheClavier.NumpadPlus=107;ToucheClavier.NumpadMoins=109;ToucheClavier.NumpadSlash=111;ToucheClavier.NumpadStar=106;ToucheClavier.Numpad_0=96;ToucheClavier.Numpad_1=97;ToucheClavier.Numpad_2=98;ToucheClavier.Numpad_3=99;ToucheClavier.Numpad_4=100;ToucheClavier.Numpad_5=101;ToucheClavier.Numpad_6=102;ToucheClavier.Numpad_7=103;ToucheClavier.Numpad_8=104;ToucheClavier.Numpad_9=105;ToucheClavier.NumpadPoint=110;ToucheClavier.estCaractere=function(aChar,aRegExp){return(aChar==='')||new RegExp('['+aRegExp+']').test(aChar);};module.exports=ToucheClavier;},fn:"toucheclavier.js"});;
  IE.fModule({f:function(exports,require,module,global){var TypeChampsJSON=require('Enumere_ChampsJSON.js');var TypeHttpVariable=require('TypeHttpVariable.js').TypeHttpVariable;var EGenreAnnotation=require('Enumere_Annotation.js');var GTraductions=require('ObjetTraduction.js');var ToucheClavier=require('ToucheClavier.js');var GChaine=require('_ObjetChaine.js').GChaine;var MethodesObjet=require('MethodesObjet.js');function TypeNote(aParametre,N){this.note='0.00';this.valeur=0.00;this.genre=EGenreAnnotation.note;this.bareme=0.00;var lType=typeof(aParametre);if(lType==='string'){this.genre=this.getGenreNote(aParametre);this.valeur=this.noteToValeur(aParametre);this.note=this.estUneAnnotation()?this.getChaineAnnotationDeGenre(this.genre):this.valeurToNote(this.valeur,N);if(this.genre===EGenreAnnotation.absentZero||this.genre===EGenreAnnotation.nonRenduZero){this.valeur=0.00;} else if(this.genre===EGenreAnnotation.felicitations){var lAvecFelicitationAutorisee=TypeNote.estAnnotationPermise(EGenreAnnotation.felicitations);if(lAvecFelicitationAutorisee){this.bareme=this.getBaremeNote(aParametre);this.note=this.valeurToNote(this.bareme,N)+this.note;try{var lSurplusBareme=TypeNote.getValeurSurplusBaremeAAppliquer(this.bareme);this.valeur=this.bareme+lSurplusBareme;} catch(error){}} else{this.genre=EGenreAnnotation.note;this.bareme=this.getBaremeNote(aParametre);this.note=this.valeurToNote(this.bareme,N);this.valeur=this.bareme;}}
  this.chaine=aParametre;} else if(lType==='number'){this.note=this.valeurToNote(aParametre,N);this.valeur=aParametre;this.genre=EGenreAnnotation.note;}}
  var lTableauNotations=null;function _getTableauNotations(){if(!lTableauNotations){lTableauNotations=['',GTraductions.getValeur('TypeNote.Annotation.Absent'),GTraductions.getValeur('TypeNote.Annotation.Dispense'),GTraductions.getValeur('TypeNote.Annotation.NonNote'),GTraductions.getValeur('TypeNote.Annotation.Inapte'),GTraductions.getValeur('TypeNote.Annotation.NonRendu'),GTraductions.getValeur('TypeNote.Annotation.Absent')+'*',GTraductions.getValeur('TypeNote.Annotation.NonRendu')+'*',GTraductions.getValeur('TypeNote.Annotation.Felicitations')
  ];}
  return lTableauNotations;}
  TypeNote.decimalNotation=2;TypeNote.baremeNotation=null;TypeNote.surplusBareme=null;TypeNote.getValeurSurplusBaremeAAppliquer=function(aValeurBareme){var lSurplusBaremeCalcule=0;if(!!aValeurBareme&&!!TypeNote.surplusBareme&&TypeNote.surplusBareme.getValeur()){var lBaremeParDefaut=TypeNote.baremeNotation;if(!!lBaremeParDefaut&&aValeurBareme!==lBaremeParDefaut.getValeur()){lSurplusBaremeCalcule=(TypeNote.surplusBareme.getValeur()*aValeurBareme)/lBaremeParDefaut.getValeur();} else{lSurplusBaremeCalcule=TypeNote.surplusBareme.getValeur();}}
  return lSurplusBaremeCalcule;};TypeNote.listeAnnotationsAutorisees=null;TypeNote.estAnnotationPermise=function(aGenreAnnotation){var lListeAutorisee=TypeNote.listeAnnotationsAutorisees;return!!aGenreAnnotation&&(!lListeAutorisee||lListeAutorisee.indexOf(aGenreAnnotation)!== -1);};TypeNote.avecVirgule=function(){return TypeNote.decimalNotation>0;};TypeNote.prototype.getCaractereAnnotation=function(aArrayGenresNote){var lCaractereAnnotation={};for(var x in aArrayGenresNote){switch(aArrayGenresNote[x]){case(EGenreAnnotation.absent):lCaractereAnnotation.Absent=GTraductions.getValeur('TypeNote.CaractereAnnotation.Absent');break;case(EGenreAnnotation.dispense):lCaractereAnnotation.Dispense=GTraductions.getValeur('TypeNote.CaractereAnnotation.Dispense');break;case(EGenreAnnotation.nonNote):lCaractereAnnotation.NonNote=GTraductions.getValeur('TypeNote.CaractereAnnotation.NonNote');break;case(EGenreAnnotation.inapte):lCaractereAnnotation.Inapte=GTraductions.getValeur('TypeNote.CaractereAnnotation.Inapte');break;case(EGenreAnnotation.nonRendu):lCaractereAnnotation.NonRendu=GTraductions.getValeur('TypeNote.CaractereAnnotation.NonRendu');break;case(EGenreAnnotation.absentZero):lCaractereAnnotation.AbsentZero=GTraductions.getValeur('TypeNote.CaractereAnnotation.AbsentZero');break;case(EGenreAnnotation.nonRenduZero):lCaractereAnnotation.NonRenduZero=GTraductions.getValeur('TypeNote.CaractereAnnotation.NonRenduZero');break;case(EGenreAnnotation.felicitations):lCaractereAnnotation.Felicitations=GTraductions.getValeur('TypeNote.CaractereAnnotation.Felicitations');break;}}
  return lCaractereAnnotation;};TypeNote.prototype.getGenreNote=function(aChaine){if(aChaine.split('|').length>=2){return parseInt(aChaine.split('|')[1]);}
  var lTabNotations=_getTableauNotations();for(var I in lTabNotations){if(lTabNotations[I].toLowerCase()===aChaine.toLowerCase()){return parseInt(I);} else if(parseInt(I)===EGenreAnnotation.felicitations){var lObjCaracteresAnnotation=this.getCaractereAnnotation([EGenreAnnotation.felicitations]);if(aChaine.indexOf(lObjCaracteresAnnotation.Felicitations)>0){return EGenreAnnotation.felicitations;}}}
  return EGenreAnnotation.note;};TypeNote.prototype.getBaremeNote=function(aChaine){var lStrBareme=aChaine.split('|')[2];if(!!lStrBareme){lStrBareme=lStrBareme.replace(',','.');}
  return parseFloat(lStrBareme);};TypeNote.prototype.getNote=function(){return this.note;};TypeNote.prototype.getValeur=function(){return this.valeur;};TypeNote.prototype.getGenre=function(){return this.genre;};TypeNote.prototype.estUneValeur=function(){return!isNaN(this.valeur);};TypeNote.prototype.toString=function(){return this.note;};TypeNote.prototype.getNoteSansDecimaleForcee=function(){if(this.genre===EGenreAnnotation.note&&!isNaN(this.valeur)){return this.valeur.toString().replace('.',',');}
  return this.getNote();};TypeNote.prototype.toStr=function(){var str;if(this.genre===EGenreAnnotation.note){str=this.note;} else{str='|'+this.genre;if(this.genre===EGenreAnnotation.felicitations&&(this.bareme!==null&&this.bareme!==undefined)){str+='|'+this.bareme;}}
  return str;};TypeNote.prototype.toJSON=function(){var lJSON={};lJSON[TypeChampsJSON.type]=TypeHttpVariable.TypeHttpNote;lJSON[TypeChampsJSON.valeur]=this.toStr();return lJSON;};TypeNote.prototype.noteToValeur=function(aStrNote){return parseFloat(aStrNote.replace(',','.'));};TypeNote.prototype.valeurToNote=function(aValeur,N){if(isNaN(aValeur)){return'';}
  N=N===null||N===undefined?TypeNote.decimalNotation:N;return(''+(parseFloat(aValeur).toFixed(N))).replace('.',',');};TypeNote.prototype.estUneNoteVide=function(){return(this.note==='');};TypeNote.prototype.estUneAnnotation=function(){return(this.genre!==EGenreAnnotation.note);};TypeNote.prototype.estVide=function(){return(this.note==='')&&!this.estUneValeur();};TypeNote.prototype.estUneNoteValide=function(aNoteMin,aNoteMax,aAvecNotationSpecifique,aAvecVide){if(this.estUneNoteVide()){return aAvecVide===true;}
  if(aAvecNotationSpecifique){if(this.genre!==EGenreAnnotation.note){return true;}}
  var lChaine=this.note.replace(/\./g,',');if(lChaine.indexOf(',')=== -1){lChaine+=',';}
  var lPosVirgule=lChaine.indexOf(',');var lNbrVirgule=lChaine.split(',').length-1;var lPosMoins=lChaine.indexOf('-');var lPosVirguleMax=Math.max((''+(parseInt(aNoteMin))).length,(''+(parseInt(aNoteMax))).length);return(lPosMoins<=0)&&(lPosVirgule<=lPosVirguleMax)&&(lChaine.length-(lPosVirgule+1)<=TypeNote.decimalNotation)&&(lNbrVirgule<=1)&&(this.valeur>=aNoteMin.getValeur())&&(this.valeur<=aNoteMax.getValeur());};TypeNote.prototype.getNoteEntier=function(){return this.estUneValeur()?this.getNote().enleverZero():this.getNote();};TypeNote.prototype.getBaremeEntier=function(){return'/'+this.getNote().enleverZero();};TypeNote.prototype.getCoefficientEntier=function(){return this.getNote().enleverZero();};TypeNote.prototype.estBaremeParDefaut=function(){return TypeNote.baremeNotation?this.getValeur()===TypeNote.baremeNotation.getValeur():false;};TypeNote.prototype.estCoefficientParDefaut=function(){return this.valeur===1;};TypeNote.prototype.getCoefficient=function(){if(this.estUneValeur()){return this.getNote();} else{return'xx.xx';}};TypeNote.getGenreAnnotationDeRaccourci=function(aCaractere){var lGenreAnnotation=null;if(!!aCaractere&&aCaractere.toLowerCase){switch(aCaractere.toLowerCase()){case(GTraductions.getValeur('TypeNote.CaractereAnnotation.Absent')):lGenreAnnotation=EGenreAnnotation.absent;break;case(GTraductions.getValeur('TypeNote.CaractereAnnotation.Dispense')):lGenreAnnotation=EGenreAnnotation.dispense;break;case(GTraductions.getValeur('TypeNote.CaractereAnnotation.NonNote')):lGenreAnnotation=EGenreAnnotation.nonNote;break;case(GTraductions.getValeur('TypeNote.CaractereAnnotation.Inapte')):lGenreAnnotation=EGenreAnnotation.inapte;break;case(GTraductions.getValeur('TypeNote.CaractereAnnotation.NonRendu')):lGenreAnnotation=EGenreAnnotation.nonRendu;break;case(GTraductions.getValeur('TypeNote.CaractereAnnotation.AbsentZero')):lGenreAnnotation=EGenreAnnotation.absentZero;break;case(GTraductions.getValeur('TypeNote.CaractereAnnotation.NonRenduZero')):lGenreAnnotation=EGenreAnnotation.nonRenduZero;break;case(GTraductions.getValeur('TypeNote.CaractereAnnotation.Felicitations')):lGenreAnnotation=EGenreAnnotation.felicitations;break;}}
  return lGenreAnnotation;};TypeNote.prototype.getChaineAnnotationDeCaractere=function(aCaractere){var lAnnotation=TypeNote.getGenreAnnotationDeRaccourci(aCaractere);if(!!lAnnotation){return _getTableauNotations()[lAnnotation];}};TypeNote.prototype.getChaineAnnotationDeGenre=function(aGenre){return _getTableauNotations()[aGenre];};TypeNote.prototype.egal=function(aNote){return!!aNote&&this.toStr()===aNote.toStr();};TypeNote.prototype.dupliquer=function(){var lNote=new TypeNote();lNote.note=this.note;lNote.valeur=this.valeur;lNote.genre=this.genre;return lNote;};TypeNote.estCaractereNote=function(aChar,aAvecLettre,aAvecVirgule,aAvecMoins,aCaractereAnnotation){
  aAvecLettre=aAvecLettre===null||aAvecLettre===undefined?true:aAvecLettre;aAvecVirgule=aAvecVirgule===null||aAvecVirgule===undefined?true:aAvecVirgule;aAvecMoins=aAvecMoins===null||aAvecMoins===undefined?true:aAvecMoins;aCaractereAnnotation=aCaractereAnnotation===null||aCaractereAnnotation===undefined?GTraductions.getValeur('TypeNote.CaractereAnnotation'):aCaractereAnnotation;var lRegExp='0-9';if(aAvecLettre){var lCarAnnot='';for(var x in aCaractereAnnotation){if(aCaractereAnnotation[x].toLowerCase&&aCaractereAnnotation[x]!==' '){lCarAnnot+=aCaractereAnnotation[x].toLowerCase();}}
  lRegExp+=lCarAnnot+lCarAnnot.toUpperCase();}
  if(aAvecVirgule){lRegExp+='.,';}
  if(aAvecMoins){lRegExp+='-';}
  return ToucheClavier.estCaractere(aChar,lRegExp);};TypeNote.formatStrToNote=function(aChaine,aOptions){var lNote=new TypeNote(aChaine);if(lNote.getGenre()>0){return lNote;}
  if(aChaine===''){return aOptions.sansNotePossible?lNote:null;}
  if(aChaine==='-'){return aOptions.min<0?lNote:null;}
  if(aOptions.avecAnnotation&&lNote.getChaineAnnotationDeCaractere(aChaine)){return lNote;}
  if(lNote.estUneValeur()){var lTest='0-9'+(aOptions.avecVirgule?',.':'')+(aOptions.min<0?'-':'');if(new RegExp('^['+lTest+']+$').test(aChaine)){return lNote;}}
  return null;};TypeNote.validerNote=function(aValeur,aOptions){var lDefault={avecVirgule:true,afficherAvecVirgule:true,avecAnnotation:true,sansNotePossible:true,min:0,max:100,titreMessageMinMax:'',messageMinMax:GTraductions.getValeur('InputNote.MinMax')};var lOptions=$.extend(lDefault,aOptions);if(!lOptions.avecVirgule){lOptions.afficherAvecVirgule=false;}
  var lResult;var lValueTemp=aValeur;if(lValueTemp.search(/^[0-9]*(,|\.)[0-9]+/)===0){var lRegExp=new RegExp('^([0-9]*(,|.)[0-9]{'+TypeNote.decimalNotation+'}).*$');lValueTemp=lValueTemp.replace(lRegExp,"$1");}
  var lNote=TypeNote.formatStrToNote(lValueTemp,lOptions);var lValeurMin;if(MethodesObjet.isFunction(lOptions.min)){lValeurMin=lOptions.min();} else{lValeurMin=lOptions.min;}
  var lValeurMax;if(MethodesObjet.isFunction(lOptions.max)){lValeurMax=lOptions.max();} else{lValeurMax=lOptions.max;}
  var lNoteMin=new TypeNote(lValeurMin),lNoteMax=new TypeNote(lValeurMax);if(!lNote||
  !lNote.estUneNoteValide(lNoteMin,lNoteMax,lOptions.avecAnnotation,lOptions.sansNotePossible)||
  lValueTemp==='-'){var lMessage=GChaine.Format(lOptions.messageMinMax,[
  lOptions.afficherAvecVirgule?lNoteMin.getNote():lNoteMin.getNoteSansDecimaleForcee(),lOptions.afficherAvecVirgule?lNoteMax.getNote():lNoteMax.getNoteSansDecimaleForcee()
  ]);lResult={estValide:false,titre:lOptions.titreMessageMinMax,message:lMessage};} else{lResult={estValide:true,note:lNote};}
  return lResult;};module.exports=TypeNote;},fn:"typenote.js"});;
  IE.fModule({f:function(exports,require,module,global){var EGenreArrondi={sans:0,superieur:1,inferieur:2,plusProche:3};module.exports=EGenreArrondi;},fn:"enumere_arrondi.js"});;
  IE.fModule({f:function(exports,require,module,global){
  var TypeChampsJSON=require('Enumere_ChampsJSON.js');var GTraductions=require('ObjetTraduction.js');var TypeHttpVariable=require('TypeHttpVariable.js').TypeHttpVariable;var TypeNote=require('TypeNote.js');var EGenreArrondi=require('Enumere_Arrondi.js');function TypeArrondi(aGenrePronote){this.precision=0;this.genre=EGenreArrondi.sans;this.precisionMini=1/Math.pow(10,TypeNote.decimalNotation);this.toType(aGenrePronote);}
  TypeArrondi.prototype.getPrecision=function(){return this.precision;};TypeArrondi.prototype.getGenre=function(){return this.genre;};TypeArrondi.prototype.setPrecision=function(aPrecision){this.precision=aPrecision;};TypeArrondi.prototype.setGenre=function(aGenre){this.genre=aGenre;};TypeArrondi.prototype.arrondir=function(aValeur){aValeur=Math.round(Number(aValeur/this.precisionMini).toFixed(TypeNote.decimalNotation))*this.precisionMini;switch(this.genre){case EGenreArrondi.superieur:return Math.ceil(Number(aValeur/this.precision).toFixed(TypeNote.decimalNotation))*this.precision;case EGenreArrondi.inferieur:return Math.floor(Number(aValeur/this.precision).toFixed(TypeNote.decimalNotation))*this.precision;case EGenreArrondi.plusProche:return Math.round(Number(aValeur/this.precision).toFixed(TypeNote.decimalNotation))*this.precision;default:return aValeur;}};TypeArrondi.prototype.toType=function(aGenrePronote){this.precision=[this.precisionMini,0.10,0.25,0.50,1,0.10,0.25,0.50,1][aGenrePronote];this.genre=parseInt(aGenrePronote)!==0?parseInt(aGenrePronote)<=4?EGenreArrondi.superieur:EGenreArrondi.plusProche:EGenreArrondi.sans;};TypeArrondi.prototype.toString=function(){switch(this.genre){case EGenreArrondi.sans:return 0;case EGenreArrondi.superieur:switch(this.precision){case 0.10:return 1;case 0.25:return 2;case 0.50:return 3;case 1:return 4;default:;return 0;}
  case EGenreArrondi.plusProche:switch(this.precision){case 0.10:return 5;case 0.25:return 6;case 0.50:return 7;case 1:return 8;default:;return 0;}
  default:return 0;}};TypeArrondi.prototype.strPrecision=function(){switch(this.precision){case this.precisionMini:return GTraductions.Arrondi[0];case 0.10:return GTraductions.Arrondi[1];case 0.25:return GTraductions.Arrondi[2];case 0.50:return GTraductions.Arrondi[3];case 1.00:return GTraductions.Arrondi[4];}
  return GTraductions.Arrondi[0];};TypeArrondi.prototype.dupliquer=function(){var lArrondi=new TypeArrondi(0);lArrondi.precision=this.precision;lArrondi.genre=this.genre;return lArrondi;};TypeArrondi.prototype.toJSON=function(){var lJSON={};lJSON[TypeChampsJSON.type]=TypeHttpVariable.TypeHttpArrondi;lJSON[TypeChampsJSON.valeur]=this.toString();return lJSON;};module.exports=TypeArrondi;},fn:"typearrondi.js"});;
  IE.fModule({f:function(exports,require,module,global){var MethodesObjet=require('MethodesObjet.js');var MethodesTableau=require('MethodesTableau.js');var TypeChampsJSON=require('Enumere_ChampsJSON.js');var TypeHttpVariable=require('TypeHttpVariable.js').TypeHttpVariable;function TypeEnsembleNombre(aValeur){this.clear();this.add(aValeur);}
  TypeEnsembleNombre.prototype.clear=function(){this._hash={};this._cacheItems=null;return this;};TypeEnsembleNombre.prototype.add=function(aValeur){var lProp,lNombre;this._cacheItems=null;if(MethodesObjet.isNumber(aValeur)){this._hash[aValeur]=true;} else if(aValeur instanceof TypeEnsembleNombre){for(lProp in aValeur._hash){this._hash[lProp]=true;}} else if(MethodesObjet.isArray(aValeur)){for(lProp in aValeur){lNombre=aValeur[lProp];if(MethodesObjet.isNumber(lNombre)){this._hash[lNombre]=true;}}}
  return this;};TypeEnsembleNombre.prototype.remove=function(aValeur){var lProp,lNombre;this._cacheItems=null;if(MethodesObjet.isNumber(aValeur)){delete this._hash[aValeur];} else if(aValeur instanceof TypeEnsembleNombre){for(lProp in aValeur._hash){delete this._hash[lProp];}} else if(MethodesObjet.isArray(aValeur)){for(lProp in aValeur){lNombre=aValeur[lProp];if(MethodesObjet.isNumber(lNombre)){delete this._hash[lNombre];}}}
  return this;};TypeEnsembleNombre.prototype.contains=function(aValeur){var lProp,lResult;if(MethodesObjet.isNumber(aValeur)){return this._hash[aValeur]!==undefined;}
  if(aValeur instanceof TypeEnsembleNombre){lResult=false;for(lProp in aValeur._hash){if(!this._hash[lProp]){return false;}
  lResult=true;}
  return lResult;}
  if(MethodesObjet.isArray(aValeur)){if(aValeur.length===0){return false;}
  for(lProp in aValeur){if(!this._hash[aValeur[lProp]]){return false;}}
  return true;}
  return false;};TypeEnsembleNombre.prototype.intersect=function(aValeur){var lProp,lNombre,lHash={};this._cacheItems=null;if(aValeur instanceof TypeEnsembleNombre){for(lProp in aValeur._hash){if(this._hash[lProp]){lHash[lProp]=true;}}
  this._hash=lHash;} else if(MethodesObjet.isArray(aValeur)){for(lProp in aValeur){lNombre=aValeur[lProp];if(this._hash[lNombre]){lHash[lNombre]=true;}}
  this._hash=lHash;} else{}
  return this;};TypeEnsembleNombre.prototype.get=function(aIndex){var lItems=this.items();if(aIndex<0||aIndex>lItems.length||!MethodesObjet.isNumber(aIndex)){return null;}
  return lItems[aIndex];};TypeEnsembleNombre.prototype.indexOf=function(aValeur){if(this._hash[aValeur]===undefined){return-1;}
  return MethodesTableau.binaryIndexOf(this.items(),aValeur);};TypeEnsembleNombre.prototype.items=function(){if(!this._cacheItems){this._cacheItems=[];var lProp;for(lProp in this._hash){this._cacheItems.push(parseInt(lProp,10));}
  this._cacheItems.sort(_sort);}
  return this._cacheItems;};TypeEnsembleNombre.prototype.count=function(){if(this._cacheItems){return this._cacheItems.length;}
  return Object.keys(this._hash).length;};TypeEnsembleNombre.prototype.each=function(aMethode,thisArg){var lItems=this.items(),i,lNb=lItems.length;for(i=0;i<lNb;i++){aMethode.call(thisArg,lItems[i],i);}
  return this;};TypeEnsembleNombre.prototype.dupliquer=function(){var lEnsemble=new TypeEnsembleNombre(),i;for(i in this._hash){lEnsemble._hash[i]=true;}
  return lEnsemble;};TypeEnsembleNombre.prototype.toString=function(){var lResult='',lIx,lNbDeSuite=0,lValeur,lItems=this.items();for(lIx=1;lIx<=lItems.length;lIx++){lValeur=lItems[lIx];if((lItems.length>lIx)&&(lValeur===lItems[lIx-1]+1)){lNbDeSuite++;} else{if(lResult.length>0){lResult+=',';}
  if(lNbDeSuite>0){lResult+=lItems[lIx-1-lNbDeSuite]+'..';}
  lResult+=lItems[lIx-1];lNbDeSuite=0;}}
  return'['+lResult+']';};TypeEnsembleNombre.prototype.fromString=function(aChaine){if(!aChaine||!aChaine.length||aChaine.length<2){return this;}
  aChaine=aChaine.substring(1,aChaine.length-1);var T1=aChaine.split(','),I,J,T2,V1,V2;for(I=0;I<T1.length;I++){T2=T1[I].split('..');V1=parseInt(T2[0],10);V2=parseInt(T2.length===1?V1:T2[1],10);for(J=V1;J<=V2;J++){this._hash[J]=true;}}
  return this;};TypeEnsembleNombre.prototype.toJSON=function(){var lJSON={};lJSON[TypeChampsJSON.type]=TypeHttpVariable.TypeHttpEnsembleNombre;lJSON[TypeChampsJSON.valeur]=this.toString();return lJSON;};function _sort(a,b){return a<b?-1:a>b?1:0;}
  module.exports=TypeEnsembleNombre;},fn:"typeensemblenombre.js"});;
  IE.fModule({f:function(exports,require,module,global){require('DeclarationJQuery.js');var MethodesObjet=require('MethodesObjet.js');var TypeChampsJSON=require('Enumere_ChampsJSON.js');var ObjetElement=require('ObjetElement.js');var ObjetListeElements=require('ObjetListeElements.js');var TypeHttpVariable=require('TypeHttpVariable.js').TypeHttpVariable;var TypeDomaine=require('TypeDomaine.js');var TypeArrondi=require('TypeArrondi.js');var TypeEnsembleNombre=require('TypeEnsembleNombre.js');var GChaine=require('_ObjetChaine.js').GChaine;var TypeNote=require('TypeNote.js');var ObjetJSON={};ObjetJSON.parse=function(data,aParametres){var lParametres=Object.assign({ignorerEntites:false,JSONCollection:null},aParametres);var lJSON=ObjetJSON.parseJSON(data);return ObjetJSON.parseVariables(lJSON,lParametres);};ObjetJSON.parseJSON=function(data){var lJSON;try{lJSON=JSON.parse(data);} catch(e){lJSON=''
  ;}
  return lJSON;};ObjetJSON.parseVariables=function(aJSON,aParametres){var lJSON;var lParametres=Object.assign({ignorerEntites:false,JSONCollection:null},aParametres);try{lJSON=_parseVariables(aJSON,lParametres);} catch(e){
  lJSON={};}
  return lJSON;};ObjetJSON.toJSON=function(aObjet,aParametres){var lJSON;try{if(aParametres&&aParametres.ignorerEntites&&!aParametres.JSONCollection){lJSON=aObjet;} else{lJSON=ObjetJSON.preparerJSON(aObjet,aParametres);}
  lJSON=JSON.stringify(lJSON);} catch(e){}
  return lJSON;};ObjetJSON.preparerJSON=function(aObjet,aParametres){var lJSON,lChaine;lChaine=JSON.stringify(aObjet);lJSON=JSON.parse(lChaine);if(aParametres&&aParametres.ignorerEntites&&!aParametres.JSONCollection){return lJSON;}
  lJSON=_toJSON(lJSON,{ignorerEntites:!!(aParametres&&aParametres.ignorerEntites),JSONCollection:aParametres&&aParametres.JSONCollection?aParametres.JSONCollection:null});return lJSON;};function _parseElement(aJSON,aParametres){var lElement=new ObjetElement().fromJSON(aJSON),lValeur,lProp;if(aJSON){if(lElement.Libelle){lElement.Libelle=aParametres.ignorerEntites?lElement.Libelle:GChaine.ajouterEntites(lElement.Libelle);}
  for(lProp in aJSON){if(lProp!==ObjetElement.const_JSON.libelle.JSON&&lProp!==ObjetElement.const_JSON.numero.JSON&&lProp!==ObjetElement.const_JSON.genre.JSON&&lProp!==ObjetElement.const_JSON.position.JSON&&lProp!==ObjetElement.const_JSON.actif.JSON){lValeur=aJSON[lProp];if(!_parseVariablesDeSource(lElement,lProp,lValeur,aParametres)){lElement[lProp]=lValeur;}}}}
  return lElement;}
  function _strToNote(aNote){if(!TypeNote){
  return null;}
  if(MethodesObjet.isArray(aNote)){var T=[],i;for(i in aNote){T[i]=new TypeNote(aNote[i]);}
  return T;}
  return new TypeNote(aNote);}
  function _parseVariable(aJSON,aParametres){if(!aJSON){return null;}
  var lType=aJSON[TypeChampsJSON.type],lValeur=aJSON[TypeChampsJSON.valeur],i,lNb;switch(lType){case TypeHttpVariable.TypeHttpElement:if(MethodesObjet.isArray(lValeur)){var lListeElements=new ObjetListeElements();if(lValeur&&lValeur.length){for(i=0,lNb=lValeur.length;i<lNb;i++){var lElement=_parseElement(lValeur[i],aParametres);lListeElements.AddElement(lElement);}}
  return lListeElements;}
  return _parseElement(lValeur,aParametres);case TypeHttpVariable.TypeHttpFichierBase64:if(aParametres&&aParametres.JSONCollection&&aParametres.JSONCollection.fichiers&&aParametres.JSONCollection.fichiers){var lFichierBase64=aParametres.JSONCollection.fichiers[lValeur];aParametres.JSONCollection.fichiers[lValeur]=null;return lFichierBase64;}
  ;return'';case TypeHttpVariable.TypeHttpCardinal:return GChaine.StrToCardinal(lValeur);case TypeHttpVariable.TypeHttpBoolean:return GChaine.StrToBoolean(lValeur);case TypeHttpVariable.TypeHttpString:return GChaine.ajouterEntites(lValeur);case TypeHttpVariable.TypeHttpColor:return lValeur;case TypeHttpVariable.TypeHttpDateTime:return GChaine.StrToDate(lValeur);case TypeHttpVariable.TypeHttpNote:return _strToNote(lValeur);case TypeHttpVariable.TypeHttpTraduction:return lValeur;case TypeHttpVariable.TypeHttpIP:return GChaine.strToIp(lValeur);case TypeHttpVariable.TypeHttpInteger:return GChaine.strToInteger(lValeur);case TypeHttpVariable.TypeHttpDouble:return GChaine.strToDouble(lValeur);case TypeHttpVariable.TypeHttpDomaine:case TypeHttpVariable.TypeHttpEnsemble:return new TypeDomaine(lValeur);case TypeHttpVariable.TypeHttpEnsembleCardinal:return new TypeDomaine(lValeur,TypeDomaine.CTailleOuverte);case TypeHttpVariable.TypeHttpArrondi:return new TypeArrondi(lValeur);case TypeHttpVariable.TypeHttpHtml:var lDiv=document.createElement('div');lDiv.insertAdjacentHTML('afterbegin',lValeur);return lDiv.innerHTML;case TypeHttpVariable.TypeHttpEnsembleNombre:return new TypeEnsembleNombre().fromString(lValeur);default:return lValeur;}}
  function _estVariable(aJSON){if(aJSON&&aJSON[TypeChampsJSON.type]&&aJSON[TypeChampsJSON.valeur]!==undefined&&aJSON[TypeChampsJSON.type]>=0){var lKeys=Object.keys(aJSON);if(lKeys.length===2&&((lKeys[0]===TypeChampsJSON.type&&lKeys[1]===TypeChampsJSON.valeur)||(lKeys[1]===TypeChampsJSON.type&&lKeys[0]===TypeChampsJSON.valeur))){return true;}
  return false;}
  return false;}
  function _estObjet(aValeur){return aValeur&&!aValeur.trim&&typeof aValeur==='object';}
  function _parseVariablesDeSource(aObjetResultat,aNomProprieteSource,aValeurSource,aParametres){var lEstVariable,lResult=true;if(MethodesObjet.isString(aValeurSource)){aObjetResultat[aNomProprieteSource]=aParametres.ignorerEntites?aValeurSource:GChaine.ajouterEntites(aValeurSource);} else if(_estObjet(aValeurSource)){lEstVariable=false;if(!aValeurSource.pop){lEstVariable=_estVariable(aValeurSource);}
  aObjetResultat[aNomProprieteSource]=lEstVariable?_parseVariable(aValeurSource,aParametres):_parseVariables(aValeurSource,aParametres);} else{lResult=false;}
  return lResult;}
  function _parseVariables(aJSON,aParametres){if(!aJSON){return aJSON;}
  var i;for(i in aJSON){_parseVariablesDeSource(aJSON,i,aJSON[i],aParametres);}
  return aJSON;}
  function _preparerVariableToJSON(aJSON,aParametres){if(!aJSON){return aJSON;}
  var lType=aJSON[TypeChampsJSON.type];switch(lType){case TypeHttpVariable.TypeHttpFichierBase64:if(aParametres&&aParametres.JSONCollection){if(!aParametres.JSONCollection.fichiers){aParametres.JSONCollection.fichiers=[];}
  aParametres.JSONCollection.fichiers.push(aJSON[TypeChampsJSON.valeur]);aJSON[TypeChampsJSON.valeur]=aParametres.JSONCollection.fichiers.length-1;return aJSON;}
  ;return aJSON;default:return aJSON;}}
  function _toJSON(aJSON,aParametres){if(!aJSON){return aJSON;}
  var i,lValeur;for(i in aJSON){lValeur=aJSON[i];if(lValeur){if(!!lValeur.trim&&!!lValeur.toLowerCase){if(!aParametres.ignorerEntites){aJSON[i]=GChaine.enleverEntites(lValeur);}} else if(_estVariable(lValeur)){aJSON[i]=_preparerVariableToJSON(lValeur,aParametres);} else if(lValeur!==true&&!lValeur.MAX_VALUE&&!lValeur.getDate&&typeof lValeur==='object'){aJSON[i]=_toJSON(lValeur,aParametres);}}}
  return aJSON;}
  module.exports=ObjetJSON;},fn:"objetjson.js"});;
  IE.fModule({f:function(exports,require,module,global){require('DeclarationJQuery.js');require('divers.js');require('jInputDisabled.js');require('jInputChecked.js');var ObjetInvocateur=require('Invocateur.js').ObjetInvocateur;var Invocateur=require('Invocateur.js').Invocateur;var MethodesObjet=require('MethodesObjet.js');var MethodesTableau=require('MethodesTableau.js');var ControleSaisieEvenement=require('ControleSaisieEvenement.js');var ObjetJSON=require('ObjetJSON.js');var GChaine=require('_ObjetChaine.js').GChaine;var ToucheClavier=require('ToucheClavier.js');var IEHtml=(function(){var uBalises={},uAttributs={},lNodeNames=[],lGUIDControleur1=1,lGUIDControleur2=1,lGUIDCollectionIdentite=1,C_id_event_iemodel='ie-model_verification',C_RegExp_Match=/^\/(.*)\/([gim]*)$/,lOutils,uInvocateur=new ObjetInvocateur();function _$refreshSelf_controleur(aForcerSynchrone){if(this.instance&&this.instance.isDestroyed&&this.instance.isDestroyed()){this.$promRefreshSelf=null;return Promise.resolve();}
  if(this.$asyncPromise!==false&&!aForcerSynchrone){if(this.$promRefreshSelf&&!this.$promRefreshSelf._isFullfilled){return this.$promRefreshSelf;}
  this.$promRefreshSelf=new Promise(function(aResolve){setTimeout(function(){this.$promRefreshSelf._isFullfilled=true;this.$promRefreshSelf=null;aResolve(this.$invocateur.evenement(C_id_event_iemodel));}.bind(this),0);}.bind(this));return this.$promRefreshSelf;}
  this.$invocateur.evenement(C_id_event_iemodel);return Promise.resolve();}
  function _$refresh_controleur(aHashCibles,aForcerSynchrone){if(this.$asyncPromise!==false&&!aForcerSynchrone){if(this.$promRefresh&&!this.$promRefresh._isFullfilled){return this.$promRefresh;}
  this.$promRefresh=new Promise(function(aResolve){setTimeout(function(){this.$promRefresh._isFullfilled=true;this.$promRefresh=null;aResolve(uInvocateur.evenement(C_id_event_iemodel,this.$GUID,aHashCibles));}.bind(this),0);}.bind(this));return this.$promRefresh;}
  uInvocateur.evenement(C_id_event_iemodel,this.$GUID,aHashCibles);return Promise.resolve();}
  function _initControleur(aControleur){if(!aControleur.$GUID){aControleur.$GUID=lGUIDControleur1+'_'+lGUIDControleur2;if(lGUIDControleur1===Number.MAX_VALUE){lGUIDControleur1=1;lGUIDControleur2+=1;} else{lGUIDControleur1+=1;}}
  if(!aControleur.$refreshSelf){aControleur.$refreshSelf=_$refreshSelf_controleur;}
  if(!aControleur.$refresh){aControleur.$refresh=_$refresh_controleur;}
  if(!aControleur.$invocateur){aControleur.$invocateur=new ObjetInvocateur();}
  return aControleur;}
  function _transfererFragmentDansHTML(aNodesFragment,aParent,aInsererAvantLeNode){var lTab=_sliceNodes(aNodesFragment);while(aNodesFragment&&aNodesFragment.firstChild){aNodesFragment.removeChild(aNodesFragment.firstChild);}
  for(var i=0;i<lTab.length;i++){if(aInsererAvantLeNode){aParent.insertBefore(lTab[i],aInsererAvantLeNode);} else{aParent.appendChild(lTab[i]);}}
  var lNode=lTab[0];if(_estNoeudCommentaire(lNode)&&lTab[1]){lNode=lTab[1];}
  return lNode;}
  function _sliceNodes(aNodes){var lResult=[],i;for(i=0;i<aNodes.length;i++){lResult.push(aNodes[i]);}
  return lResult;}
  function _preInjectionHTML(aElementParent,aIgnorerScroll){var lResult={elementParent:aElementParent,parentDocument:false,initOverflowParent:false};var lElement=aElementParent,lParent;while(!lResult.parentDocument&&lElement){lParent=null;if(lElement.nodeType===1){if(lElement.parentElement){lParent=lElement.parentElement;} else if(lElement.parentNode){lParent=lElement.parentNode;}}
  lElement=lParent;lResult.parentDocument=lElement===document;}
  if(lResult.parentDocument&&aIgnorerScroll!==true){var lOverflow=$(aElementParent).css('overflow');lResult.initOverflowParent=lOverflow==='auto'||lOverflow==='scroll';lOverflow=null;}
  return lResult;}
  function _finaliserInjectionHTML(aPreInjectionHtml,aContexte){if(aPreInjectionHtml.parentDocument){if(aPreInjectionHtml.initOverflowParent&&aPreInjectionHtml.elementParent){aPreInjectionHtml.elementParent.scrollLeft=0;aPreInjectionHtml.elementParent.scrollTop=0;}
  if(aContexte&&aContexte.eventsInjectionHtml&&aContexte.eventsInjectionHtml.length>0){var lMeasures=[];var lMutates=[];var lMeasureMutate={addMeasure:function(aMethode){lMeasures.push(aMethode);},addMutate:function(aMethode){lMutates.push(aMethode);}};var lExec=function(){lMeasures.forEach(function(aMethode){if(aMethode){aMethode();}});lMutates.forEach(function(aMethode){if(aMethode){aMethode();}});};aContexte.eventsInjectionHtml.forEach(function(aElement){if(aElement&&!aElement.after&&aElement.methode){aElement.methode(lMeasureMutate);}});lExec();lMeasures=[];lMutates=[];aContexte.eventsInjectionHtml.forEach(function(aElement){if(aElement&&aElement.after&&aElement.methode){aElement.methode(lMeasureMutate);}});lExec();delete aContexte.eventsInjectionHtml;}}}
  function _findFirstChild(aNode,aNiveau){var lNode=aNode,lNiveau=aNiveau;while(lNode&&lNiveau>0){lNode=lNode.firstChild;lNiveau-=1;}
  return lNode;}
  function _getPremiereBalise(aChaine){if(!aChaine||!aChaine.search){return'';}
  var lPosDebut=aChaine.search('<');if(lPosDebut<0){return'';}
  lPosDebut+=1;var lChaine=aChaine.slice(lPosDebut),lPosFinSup=lChaine.search('>'),lPosFinEsp=lChaine.search(' ');if(lPosFinSup<0&&lPosFinEsp<0){return'';}
  if(lPosFinSup<0){lPosFinSup=lChaine.length;}
  if(lPosFinEsp<0){lPosFinEsp=lChaine.length;}
  return aChaine.slice(lPosDebut,lPosDebut+Math.min(lPosFinSup,lPosFinEsp)).toLowerCase();}
  function _createSafeFragment(document){var list=[].concat(lNodeNames),safeFrag=document.createDocumentFragment();if(safeFrag.createElement){while(list.length){safeFrag.createElement(list.pop());}}
  return safeFrag;}
  function _injectEtCompilNode(aParametres){var lSafe=_createSafeFragment(document),lNodeParent,lNiveauFirstChild;lNodeParent=lSafe.appendChild(document.createElement('div'));if(aParametres.html&&aParametres.html.nodeType>0){switch(aParametres.html.nodeName.toLowerCase()){case'td':lNodeParent.appendChild(document.createElement('table'));lNodeParent.firstChild.appendChild(document.createElement('tbody'));lNodeParent.firstChild.firstChild.appendChild(document.createElement('tr'));lNodeParent=lNodeParent.firstChild.firstChild.firstChild;break;case'tr':lNodeParent.appendChild(document.createElement('table'));lNodeParent=lNodeParent.firstChild;lNodeParent.appendChild(document.createElement('tbody'));lNodeParent=lNodeParent.firstChild;break;case'ul':lNodeParent.appendChild(document.createElement('ul'));lNodeParent=lNodeParent.firstChild;break;default:lNodeParent.appendChild(document.createElement('div'));lNodeParent=lNodeParent.firstChild;}
  lNodeParent.appendChild(aParametres.html);} else{lNiveauFirstChild=1;switch(_getPremiereBalise(aParametres.html)){case'td':lNodeParent.insertAdjacentHTML('beforeend','<table><tbody><tr>'+aParametres.html+'</tr></tbody></table>');lNiveauFirstChild=3;break;case'tr':lNodeParent.insertAdjacentHTML('beforeend','<table><tbody>'+aParametres.html+'</tbody></table>');lNiveauFirstChild=2;break;case'li':lNodeParent.insertAdjacentHTML('beforeend','<ul>'+aParametres.html+'</ul>');break;default:lNodeParent.insertAdjacentHTML('beforeend','<div>'+aParametres.html+'</div>');}
  lNodeParent=_findFirstChild(lNodeParent,lNiveauFirstChild);}
  if(!aParametres.contexte){aParametres.contexte={};}
  aParametres.childNodes=lNodeParent.childNodes;_compile(aParametres.childNodes,aParametres.element,aParametres.controleur,aParametres.contexte,aParametres.invocateur,0);lNodeParent=null;lSafe=null;}
  function _injectHTML(aParametres){var lNode=null;if(aParametres.controleur){_initControleur(aParametres.controleur);}
  if(!aParametres.element||aParametres.element.nodeType===undefined){
  return null;}
  var lPreInjectionHtml=_preInjectionHTML(aParametres.element,aParametres.ignorerScroll);_injectEtCompilNode(aParametres);lNode=_transfererFragmentDansHTML(aParametres.childNodes,aParametres.element,aParametres.insererAvantLeNode);aParametres.childNodes=null;_finaliserInjectionHTML(lPreInjectionHtml,aParametres.contexte);return lNode;}
  function _hasAttribute(aNode,aNomAttribute){if(aNode.hasAttribute){return aNode.hasAttribute(aNomAttribute);} else{var lNode=aNode.getAttributeNode(aNomAttribute);return!!(lNode&&(lNode.specified||lNode.nodeValue));}}
  function _remplirDataModel(aContexteCourant){var lModele=aContexteCourant.node.getAttribute('ie-model');if(!lModele){return null;}
  var lModeleArg=_parseValueEvent(lModele,aContexteCourant.contexte);if(lModeleArg&&lModeleArg.nom){aContexteCourant.data.$modeleParsed=lModeleArg;aContexteCourant.data.$modeleValue=lModele;}}
  function _getModel(aContexteCourant){_remplirDataModel(aContexteCourant);var lModele=aContexteCourant.data.$modeleValue;if(!lModele){return null;}
  if(_hasAttribute(aContexteCourant.node,'ie-model')){aContexteCourant.node.removeAttribute('ie-model');if(!aContexteCourant.ignorerCommentaires){lOutils.addCommentaireDebug(aContexteCourant.node,'ie-model="'+lModele+'"');}}
  return lModele;}
  function _getControleSaisieEvent(aContexteCourant){if(!_hasAttribute(aContexteCourant.node,'ie-controlesaisie')){return false;}
  aContexteCourant.$controleSaisie=!!ControleSaisieEvenement
  ;aContexteCourant.node.removeAttribute('ie-controlesaisie');lOutils.addCommentaireDebug(aContexteCourant.node,'ie-controleSaisie');return true;}
  function _creerInstanceIdentite(aClass,aParametresIdentite){var lGUID=lGUIDCollectionIdentite;lGUIDCollectionIdentite+=1;aParametresIdentite.nomComplet='IEHtml.collectionIdentite['+lGUID+']';var lInstance=new aClass(aParametresIdentite);IEHtml.collectionIdentite[lGUID]=lInstance;return{instance:lInstance,callbackDestruction:function(){delete IEHtml.collectionIdentite[lGUID];}};}
  function _callbackRefresh(aControleur,aData,aCallback ,aGuidEmetteur,aHashGuidCible){if(aHashGuidCible&&aControleur&&!aHashGuidCible[aControleur.$GUID]){return;}
  if(aControleur&&aControleur.$off&&aControleur.$off()){return;}
  aCallback(aGuidEmetteur,aHashGuidCible);}
  function _abonnerRefresh(aCallback,aElementPourDestruction,aContexteCourant,aCallbackDestroy,aMutationObserverNoeudDetruit){var lCallbacks=[],lAjouterAbonnement=true,lId,lIdSelf;if(!aElementPourDestruction){
  return;}
  if(aContexteCourant.data){if(!aContexteCourant.data.$callbacksRefresh){aContexteCourant.data.$callbacksRefresh=[];} else{lAjouterAbonnement=false;}
  lCallbacks=aContexteCourant.data.$callbacksRefresh;}
  lCallbacks.push(function(){_callbackRefresh.call(this,aContexteCourant.controleur,aContexteCourant.data,aCallback);});if(lAjouterAbonnement){var lInvocateur=aContexteCourant.invocateur?aContexteCourant.invocateur:uInvocateur;lId=lInvocateur.abonner(C_id_event_iemodel,function(aGuidEmetteur,aHashGuidCible){if(aContexteCourant.controleur&&aContexteCourant.controleur.instance&&aContexteCourant.controleur.instance.isDestroyed&&aContexteCourant.controleur.instance.isDestroyed()){return;}
  var i,lNb=lCallbacks.length;for(i=0;i<lNb;i++){lCallbacks[i](aGuidEmetteur,aHashGuidCible);}},null,false);if(!aContexteCourant.invocateur){lIdSelf=aContexteCourant.controleur.$invocateur.abonner(C_id_event_iemodel,function(){if(aContexteCourant.controleur&&aContexteCourant.controleur.instance&&aContexteCourant.controleur.instance.isDestroyed&&aContexteCourant.controleur.instance.isDestroyed()){return;}
  var i,lNb=lCallbacks.length;for(i=0;i<lNb;i++){lCallbacks[i]();}},null,false);}
  var lDejaDetruit=false,lObserver=null;var lDestroy=function(){if(lDejaDetruit){return;}
  lInvocateur.desabonner([lId]);if(!aContexteCourant.invocateur){aContexteCourant.controleur.$invocateur.desabonner([lIdSelf]);}
  if(aContexteCourant.data){aContexteCourant.data.$destroy=true;}
  if(lObserver&&lObserver.disconnect){lObserver.disconnect();lObserver=null;}
  if(aCallbackDestroy){aCallbackDestroy();}
  lDejaDetruit=true;};$(aElementPourDestruction).on('destroyed',lDestroy);if(aMutationObserverNoeudDetruit){var lMutationObserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(lMutationObserver){lObserver=new lMutationObserver(function(mutations){MethodesTableau.parcourir(mutations,function(mutation){if(!lDejaDetruit&&mutation.type==='childList'){try{if(aMutationObserverNoeudDetruit()){lDestroy();return false;}} catch(e){}}});});}
  if(lObserver){lObserver.observe(aElementPourDestruction,{childList:true});}}}}
  function _getAccesParametres(aNomEnChaine,aContexteCourant,aAccepteErreur,aIgnorerNomOrigine){var lParsed=null,lResult={valide:false,estFonction:false,nom:aNomEnChaine,args:[]};if(aNomEnChaine){lParsed=_parseValueEvent(aNomEnChaine,aContexteCourant.contexte,aAccepteErreur);if(lParsed){aNomEnChaine=lParsed.nom;}}
  var lNomEnChaineOrigine=aNomEnChaine;if(aNomEnChaine&&(!aContexteCourant.data||!aContexteCourant.data.$modeleParsed)){if(!lParsed){
  return lResult;}}
  var lAncreControleur=aContexteCourant.controleur;var lTab;var lNom;var lTabRempli;if(aContexteCourant.data&&aContexteCourant.data.$modeleParsed){if(!lParsed||!lParsed.args||lParsed.args.length===0){lParsed=aContexteCourant.data.$modeleParsed;} else{lParsed.nom=aContexteCourant.data.$modeleParsed.nom;}
  if(aContexteCourant.data.$modeleParsed.nom){aNomEnChaine=lParsed.nom+(aNomEnChaine?'.'+aNomEnChaine:'');}}
  var lArgs=lResult.args=lParsed?lParsed.args:[];if(!aContexteCourant.controleur||!aNomEnChaine){
  return lResult;}
  lTab=aNomEnChaine.split('.');lNom=lTab.pop();lAncreControleur=MethodesObjet.get(aContexteCourant.controleur,lTab);var lEstFonction=lAncreControleur&&lAncreControleur[lNom]!==undefined&&MethodesObjet.isFunction(lAncreControleur[lNom]);if(!lEstFonction&&aContexteCourant.data&&aContexteCourant.data.$modeleParsed&&!aIgnorerNomOrigine){var lTabHorsModele=lNomEnChaineOrigine.split('.');var lNomHorsModel=lTabHorsModele.pop();var lAncreControleurHorsModele=MethodesObjet.get(aContexteCourant.controleur,lTabHorsModele);if(lAncreControleurHorsModele&&lAncreControleurHorsModele[lNom]!==undefined&&MethodesObjet.isFunction(lAncreControleurHorsModele[lNomHorsModel])){lEstFonction=true;lAncreControleur=lAncreControleurHorsModele;lTab=lTabHorsModele;lNom=lNomHorsModel;}}
  lTabRempli=lTab.length>0;if(lEstFonction){var lArgsCallback=lArgs||[],lIx,lAvecArgsBoucleREPEAT=false,lArray;for(lIx=0;lIx<lArgsCallback.length;lIx++){if(lArgsCallback[lIx]&&lArgsCallback[lIx].getterArray){lAvecArgsBoucleREPEAT=true;break;}}
  lResult.valide=true;lResult.controleur=aContexteCourant.controleur;lResult.getAncre=function(){return lTabRempli?MethodesObjet.get(aContexteCourant.controleur,lTab):aContexteCourant.controleur;};lResult.callback=function(aTabArguments){var lAncre=lTabRempli?MethodesObjet.get(aContexteCourant.controleur,lTab):aContexteCourant.controleur;if(!lAncre||!lAncre[lNom]||!lAncre[lNom].apply){
  return'';}
  var lArgs=lArgsCallback,lArgCallback;if(lAvecArgsBoucleREPEAT){lArgs=new Array(lArgsCallback.length);for(var lIx=0,lLength=lArgsCallback.length;lIx<lLength;lIx++){lArgCallback=lArgsCallback[lIx];if(lArgCallback&&lArgCallback.getterArray){lArray=lArgCallback.getterArray();lArgs[lIx]={indice:lArgCallback.indice,element:lArray[lArgCallback.indice],tableau:lArray,arguments:lArgCallback.arguments};} else{lArgs[lIx]=lArgsCallback[lIx];}}}
  try{return lAncre[lNom].apply(aContexteCourant,aTabArguments&&aTabArguments.length>0?lArgs.concat(aTabArguments):lArgs);} catch(e){}};lResult.estFonction=true;lResult.nom=lNom;return lResult;}
  lResult.valide=!!MethodesObjet.get(aContexteCourant.controleur.instance,lTab);lResult.getAncre=function(){return lTabRempli?MethodesObjet.get(aContexteCourant.controleur.instance,lTab):aContexteCourant.controleur.instance;};lResult.getAncreControleur=lAncreControleur&&lAncreControleur[lNom]!==undefined?function(){return lTabRempli?MethodesObjet.get(aContexteCourant.controleur,lTab):aContexteCourant.controleur;}:null;lResult.callback=function(){var lAncre=lTabRempli?MethodesObjet.get(aContexteCourant.controleur.instance,lTab):aContexteCourant.controleur.instance;if(!lAncre){
  return'';}
  return lAncre[lNom];};lResult.estFonction=false;lResult.nom=lNom;return lResult;}
  function _getAccesParametresModel(aNomEnChaine,aContexteCourant,aAccepteErreur){return _getAccesParametres(aNomEnChaine,aContexteCourant,aAccepteErreur,true);}
  function _addCommentaireDebug(aNode,aCommentaire){}
  function _estNoeudCommentaire(aNode){return!!aNode&&aNode.nodeType===8;}
  function _getContexteCourant(aControleur,aContexte,aNode,aData,aInvocateur){return{controleur:aControleur,instance:aControleur?aControleur.instance:null,contexte:aContexte,data:aData,node:aNode,invocateur:aInvocateur};}
  function _getAttributesDeNode(aNode){return _sliceNodes(aNode.attributes);}
  function _getMapDeNode(aNode){var lMap={},lName;for(var attr,nAttrs=_getAttributesDeNode(aNode),j=0,jj=nAttrs&&nAttrs.length;j<jj;j++){attr=nAttrs[j];if(attr.name){lName=attr.name.toLowerCase();lMap[lName]=attr.value;}}
  return lMap;}
  function _copyAttributs(aNodeSource,aNodeCible,aCallback){var lMap=_getMapDeNode(aNodeSource);var llName;var lJCible=$(aNodeCible);for(llName in lMap){try{if(!aCallback||aCallback(llName,lMap[llName],lMap)!==false){lJCible.attr(llName,lMap[llName]);}} catch(e){}}
  return lMap;}
  lOutils={parseValueEvent:_parseValueEvent,getModel:_getModel,creerInstanceIdentite:_creerInstanceIdentite,abonnerRefresh:_abonnerRefresh,getAccesParametres:_getAccesParametres,getAccesParametresModel:_getAccesParametresModel,hasAttribute:_hasAttribute,injectHTML:_injectHTML,getContexteCourant:_getContexteCourant,getControleSaisieEvent:_getControleSaisieEvent,getAttributesDeNode:_getAttributesDeNode,getMapDeNode:_getMapDeNode,copyAttributs:_copyAttributs,gererInputCB:_gererInputCB,gererInputText:_gererInputText,addCommentaireDebug:_addCommentaireDebug,composantsAttributs:uAttributs,caret:_caret,compile:_compile,surInjectionHtml:function(aContexteCourant,aMethode,aAfter){if(!aContexteCourant||!aContexteCourant.contexte){
  return;}
  if(!aContexteCourant.contexte.eventsInjectionHtml){aContexteCourant.contexte.eventsInjectionHtml=[];}
  if(MethodesObjet.isFunction(aMethode)){if(aAfter){aContexteCourant.contexte.eventsInjectionHtml.unshift({methode:aMethode,after:true});} else{aContexteCourant.contexte.eventsInjectionHtml.push({methode:aMethode,after:false});}} else{}},surNodeEtNodeAfter:function(aContexteCourant){var lInfosGetNode=this.getAccesParametres('node',aContexteCourant);if(lInfosGetNode&&lInfosGetNode.estFonction){this.surInjectionHtml(aContexteCourant,function(){lInfosGetNode.callback(Array.prototype.slice.call(arguments));});}
  var lInfosGetNodeAfter=this.getAccesParametres('nodeAfter',aContexteCourant);if(lInfosGetNodeAfter&&lInfosGetNodeAfter.estFonction){this.surInjectionHtml(aContexteCourant,function(){lInfosGetNodeAfter.callback(Array.prototype.slice.call(arguments));},true);}},replaceNode:function(aNodeAncien,aNodeNouveau){if(aNodeAncien&&aNodeNouveau&&aNodeAncien.parentNode&&aNodeAncien.parentNode.replaceChild){$.cleanData(aNodeAncien);aNodeAncien.parentNode.replaceChild(aNodeNouveau,aNodeAncien);}}};function _parseArg(aArg,aEstChaine,aContexte){if(aEstChaine){return aArg;}
  if(aContexte&&aContexte.repeat&&aContexte.repeat[aArg]){return aContexte.repeat[aArg];}
  if(aArg==='null'){return null;}
  if(aArg==='undefined'){return undefined;}
  if(aArg==='true'){return true;}
  if(aArg==='false'){return false;}
  var lNumber=parseInt(aArg,10);if(isNaN(lNumber)){lNumber=null;throw'erreur _parseArg';}
  return lNumber;}
  function _parseValueEvent(aValue,aContexte,aSortieEnErreur){if(!aValue){return null;}
  var lResult={nom:'',args:[]},lIPars=null,lEtat='rech_fonction',lChar,lNomFonction='',lArg='',LArgEstChaine=false,lLength=aValue.length,lSepDebut='(',lSepFin=')';try{for(lIPars=0;lIPars<lLength;lIPars++){lChar=aValue.charAt(lIPars);switch(lEtat){case'rech_fonction':if(lChar===lSepDebut||lIPars===lLength-1){lEtat='rech_param';if(lIPars===aValue.length-1){lNomFonction+=lChar;}
  lResult.nom=lNomFonction.trim();if(lResult.nom.length===0){return null;}
  lArg='';} else{lNomFonction+=lChar;}
  break;case'rech_param':if(lChar===lSepFin){if(lIPars<lLength-1){if(aValue.charAt(lIPars+1)!==';'){throw'erreur fermeture fonction';}}
  lArg=lArg.trim();if(LArgEstChaine||lArg.length>0||lResult.args.length>0){lResult.args.push(_parseArg(lArg,LArgEstChaine,aContexte));}
  lEtat='fin';break;}
  if(lChar===','){lResult.args.push(_parseArg(lArg.trim(),LArgEstChaine,aContexte));lArg='';LArgEstChaine=false;} else if(lChar==='\''){if(lArg.trim().length>0){}
  lArg='';lEtat='rech_chaine';} else{lArg+=lChar;}
  break;case'rech_chaine':if(lChar==='\''&&(aValue.charAt(lIPars+1)===')'||aValue.charAt(lIPars+1)===',')){lEtat='rech_param';LArgEstChaine=true;break;}
  lArg+=lChar;break;case'fin':if(lChar!==';'){throw'erreur fin fonction';}
  break;default:throw'cas non géré';}}} catch(e){
  if(aSortieEnErreur){return null;}}
  return lResult;}
  function _positionnerObjetSelonAccesseur(aChaineAccesseur,aObjet){if(!aObjet){return null;}
  var lTab=aChaineAccesseur.split('.'),lResult=aObjet,i;for(i=0;i<lTab.length;i++){lResult=lResult[lTab[i]];if(!lResult){return null;}}
  return lResult;}
  function _caret(aElement,begin,end){var range;if(!aElement){return;}
  if(typeof begin==='number'){end=(typeof end==='number')?end:begin;var lValue=aElement.value;begin=Math.min(begin,lValue.length);end=Math.min(end,lValue.length);if(aElement.setSelectionRange){aElement.setSelectionRange(begin,end);} else if(aElement.createTextRange){range=aElement.createTextRange();range.collapse(true);range.moveEnd('character',end);range.moveStart('character',begin);range.select();}} else{if(aElement.setSelectionRange){begin=aElement.selectionStart;end=aElement.selectionEnd;} else if(document.selection&&document.selection.createRange){range=document.selection.createRange();begin=0-range.duplicate().moveStart('character',-100000);end=begin+range.text.length;}
  return{begin:begin,end:end};}}
  function _verificationInputModel(aContexteCourant,aParametres,aPatternValidateRegex){if(aParametres.data.$ignoreRefresh){return;}
  var lValue;if(aParametres.getterValueInit){if(aParametres.declencherExitChange){if(aParametres.getterValue){lValue=aParametres.getterValue();} else{return;}} else{lValue=aParametres.getterValueInit();}} else{if(!aParametres.getterValue){
  return;}
  lValue=aParametres.getterValue();}
  var lValueInput;if(aParametres.saveValues.value!==lValue){if(aParametres.estCB){aParametres.eventActif=false;$(aParametres.node).inputChecked(lValue);aParametres.eventActif=true;aParametres.saveValues.value=aParametres.saveValues.inputValue=lValue;} else{aParametres.eventActif=false;lValueInput=lValue;if(aParametres.toDisplay){lValueInput=aParametres.toDisplay(lValueInput);}
  if(aParametres.contentEditable){aParametres.node.innerHTML=lValueInput;} else{aParametres.node.value=lValueInput;}
  aParametres.eventActif=true;if(aPatternValidateRegex){var lAncreControleur=_positionnerObjetSelonAccesseur(aParametres.data.$modeleParsed.nom,aParametres.controleur);if(lAncreControleur){aContexteCourant.$patternOK=aPatternValidateRegex(lValue);}}
  aParametres.saveValues.value=lValue;aParametres.saveValues.inputValue=lValueInput;}} else{if(aParametres.estCB&&
  aContexteCourant.data&&
  aContexteCourant.data.estRadioBouton&&
  lValue!==$(aContexteCourant.node).is(':checked')){$(aParametres.node).inputChecked(lValue);}
  if(aParametres.toDisplay){lValueInput=aParametres.toDisplay(lValue);if(aParametres.saveValues.inputValue!==lValueInput){aParametres.eventActif=false;if(aParametres.contentEditable){aParametres.node.innerHTML=lValueInput;} else{aParametres.node.value=lValueInput;}
  aParametres.eventActif=true;}}}
  if(aParametres.getterDisabled){lValue=!!aParametres.getterDisabled();if(lValue!==aParametres.saveDisabled){$(aParametres.node).inputDisabled(lValue);aParametres.saveDisabled=lValue;}}
  if(aParametres.getterReadOnly){lValue=!!aParametres.getterReadOnly();if(lValue!==aParametres.saveReadOnly){$(aParametres.node).prop('readonly',lValue);aParametres.saveReadOnly=lValue;}}}
  function _affecterGetterSetterInputModel(aParametres,aContexteCourant,aEstCB){var lInfosGetValue,lInfosGetValueInit,lInfosSetValue,lInfosGetDisabled,lInfosGetReadOnly,lInfosGetSetModele,lInfosExitChange,lInfosInterrompreEvent,lInfosNode,lInfosNodeAfter,lValue,lAncre;lInfosGetValueInit=_getAccesParametresModel('getValueInit',aContexteCourant);if(lInfosGetValueInit.estFonction){aParametres.getterValueInit=function(){var lValue=lInfosGetValueInit.callback([aParametres.node]);if(aEstCB){return!!lValue;}
  return lValue===undefined||lValue===null?'':lValue.toString();};}
  lInfosGetValue=_getAccesParametresModel('getValue',aContexteCourant);lInfosGetSetModele=_getAccesParametres('',aContexteCourant);if(lInfosGetValue.estFonction){aParametres.getterValue=function(){var lValue=lInfosGetValue.callback([aParametres.node]);if(aEstCB){return!!lValue;}
  return lValue===undefined||lValue===null?'':lValue.toString();};} else if(!aParametres.getterValueInit){lAncre=lInfosGetSetModele.getAncre();if(!lInfosGetSetModele.valide||!lAncre){
  return false;}
  lValue=lAncre[lInfosGetSetModele.nom];if(lValue){if(aEstCB&&lValue!==true){
  return false;}
  if(!aEstCB&&!MethodesObjet.isString(lAncre[lInfosGetSetModele.nom])){
  return false;}}
  aParametres.getterValue=function(){var lValue=lInfosGetSetModele.callback();if(aEstCB){return!!lValue;}
  return lValue===undefined||lValue===null?'':lValue.toString();};}
  lInfosSetValue=_getAccesParametresModel('setValue',aContexteCourant);if(lInfosSetValue.estFonction){aParametres.setterValue=function(aValue,aParametresSetter){return lInfosSetValue.callback([aValue,aParametresSetter]);};} else if(!aParametres.getterValueInit){lAncre=lInfosGetSetModele.getAncre();if(!lInfosGetSetModele.valide||!lAncre){
  return false;}
  aParametres.setterValue=function(aValue){var lAncre=lInfosGetSetModele.getAncre();if(!lAncre){
  return;}
  lAncre[lInfosGetSetModele.nom]=aValue;};}
  lInfosGetDisabled=_getAccesParametresModel('getDisabled',aContexteCourant);if(lInfosGetDisabled.estFonction){aParametres.getterDisabled=lInfosGetDisabled.callback.bind(null,[aParametres.node,aContexteCourant.data]);}
  lInfosGetReadOnly=_getAccesParametresModel('getReadOnly',aContexteCourant);if(lInfosGetReadOnly.estFonction){aParametres.getterReadOnly=lInfosGetReadOnly.callback.bind(null,[aParametres.node,aContexteCourant.data]);}
  lInfosExitChange=_getAccesParametresModel('exitChange',aContexteCourant);if(lInfosExitChange.estFonction){aParametres.infosExitChange=lInfosExitChange;}
  if(aParametres.getterValueInit&&!aParametres.infosExitChange){
  aParametres.getterValueInit=null;}
  lInfosInterrompreEvent=_getAccesParametresModel('interrompreEvent',aContexteCourant);if(lInfosInterrompreEvent.estFonction){aParametres.interrompreEvent=lInfosInterrompreEvent;}
  lInfosNode=_getAccesParametresModel('node',aContexteCourant);if(lInfosNode.estFonction){aParametres.infosNode=lInfosNode;}
  lInfosNodeAfter=_getAccesParametresModel('nodeAfter',aContexteCourant);if(lInfosNodeAfter.estFonction){aParametres.infosNodeAfter=lInfosNodeAfter;}
  var lInfoskeyupEnter=_getAccesParametresModel('keyupEnter',aContexteCourant);if(lInfoskeyupEnter.estFonction){aParametres.infoskeyupEnter=lInfoskeyupEnter;}
  return true;}
  function _estNodeContentEditable(aNode){return!!aNode&&aNode.isContentEditable&&aNode.getAttribute('contenteditable')==='true';}
  function _gererInputModele(aContexteCourant,aJNode,aEstCB,aAttributType,aMaxLength){var lModele=null,lMask,lMatchMask,lPattern,lMatchPattern,lPatternValidateRegex,lSaveValues={},lTrim=false,lAvecAttrTrim=false,lValue=aEstCB?false:'',lDisabled=false,lReadOnly=false,lInfosToDisplay=null,lInfosFromDisplay=null,lFuncExitChange=null,lEstTexteBrut=false,lRefresh=aContexteCourant.contexte.refresh,lParametres={node:aContexteCourant.node,controleur:aContexteCourant.controleur,data:aContexteCourant.data,estCB:aEstCB,saveValues:lSaveValues,eventActif:true,saveDisabled:false,getterValue:null,getterValueInit:null,setterValue:null,getterDisabled:null,getterReadOnly:null,toDisplay:null,fromDisplay:null,declencherExitChange:false,contentEditable:_estNodeContentEditable(aContexteCourant.node)};if(lParametres.contentEditable&&aMaxLength>0){
  aMaxLength=0;}
  if(_hasAttribute(aContexteCourant.node,'ie-etatsaisie')){aContexteCourant.etatSaisie=true;aContexteCourant.node.removeAttribute('ie-etatsaisie');lOutils.addCommentaireDebug(aContexteCourant.node,'ie-etatsaisie');}
  if(aContexteCourant.controleur){lModele=_getModel(aContexteCourant);if(lModele){Object.assign(lParametres,{modele:lModele,modeleArg:aContexteCourant.data.$modeleParsed});if(!_affecterGetterSetterInputModel(lParametres,aContexteCourant,aEstCB)){return;}
  if(lParametres.infosExitChange){aContexteCourant.data.forceExitChange=function(aParametresExit){if(lFuncExitChange){lFuncExitChange(aParametresExit);}};}
  lValue=lParametres.getterValueInit?lParametres.getterValueInit():lParametres.getterValue();if(lParametres.getterDisabled){lDisabled=lParametres.saveDisabled=!!lParametres.getterDisabled();aJNode.inputDisabled(lDisabled);}
  if(lParametres.getterReadOnly){lReadOnly=lParametres.saveReadOnly=!!lParametres.getterReadOnly();aJNode.prop('readonly',lReadOnly);}
  if(aEstCB){lValue=!!lValue;lSaveValues.value=lSaveValues.inputValue=lValue;aJNode.inputChecked(lValue);} else{lValue=lValue||'';lSaveValues.value=lSaveValues.inputValue=lValue;lAvecAttrTrim=_hasAttribute(aContexteCourant.node,'ie-trim');if(lAvecAttrTrim){lOutils.addCommentaireDebug(aContexteCourant.node,'ie-trim');aContexteCourant.node.removeAttribute('ie-trim');}
  lTrim=(aAttributType!=='password'&&lAvecAttrTrim)||aContexteCourant.estIndicatifTelephone;if(lParametres.contentEditable){lEstTexteBrut=true;} else if(aContexteCourant.estTelephone||aContexteCourant.estIndicatifTelephone||aAttributType==='password'||aAttributType==='email'){lEstTexteBrut=true;} else if(_hasAttribute(aContexteCourant.node,'ie-textbrut')){lEstTexteBrut=true;aContexteCourant.node.removeAttribute('ie-textbrut');lOutils.addCommentaireDebug(aContexteCourant.node,'ie-textbrut');}
  lInfosToDisplay=_getAccesParametresModel('toDisplay',aContexteCourant);lInfosFromDisplay=_getAccesParametresModel('fromDisplay',aContexteCourant);lParametres.toDisplay=function(aChaine){if(!lEstTexteBrut){aChaine=GChaine.enleverEntites(aChaine);}
  if(aContexteCourant.estIndicatifTelephone){aChaine='+ '+aChaine.replace(IEHtml.REGEXP_INDICATIF_TELEPHONE,'').slice(0,IEHtml.TAILLEMAX_INDICATIF_TELEPHONE);}
  if(aContexteCourant.estTelephone&&GChaine&&GChaine.formatTelephone){aChaine=GChaine.formatTelephone(aChaine.replace(IEHtml.REGEXP_TELEPHONE,''));}
  if(lInfosToDisplay&&lInfosToDisplay.estFonction){aChaine=lInfosToDisplay.callback([aChaine,aContexteCourant.data]);}
  return aChaine;};lParametres.fromDisplay=function(aChaine){if(lInfosFromDisplay&&lInfosFromDisplay.estFonction){aChaine=lInfosFromDisplay.callback([aChaine,aContexteCourant.data]);}
  if(!lEstTexteBrut){aChaine=GChaine.ajouterEntites(aChaine);}
  if(lTrim&&aChaine.trim){aChaine=aChaine.trim();}
  if(aContexteCourant.estIndicatifTelephone){aChaine=aChaine.replace(/\+| /g,'').replace(IEHtml.REGEXP_INDICATIF_TELEPHONE,'').slice(0,IEHtml.TAILLEMAX_INDICATIF_TELEPHONE);}
  if(aContexteCourant.estTelephone){aChaine=aChaine.replace(/ /g,'').replace(IEHtml.REGEXP_TELEPHONE,'');}
  return aChaine;};lValue=lSaveValues.inputValue=lParametres.toDisplay(lValue);if(lParametres.contentEditable){aContexteCourant.node.innerHTML=lValue;} else{aContexteCourant.node.value=lValue;}
  lPattern=aContexteCourant.node.getAttribute('ie-pattern');lMatchPattern=lPattern&&lPattern.match?lPattern.match(C_RegExp_Match):null;if(lMatchPattern){var lRegExp=new RegExp(lMatchPattern[1],lMatchPattern[2]);lPatternValidateRegex=function(value){return!value||lRegExp.test(value);};aContexteCourant.$patternOK=lPatternValidateRegex(lSaveValues.inputValue);}
  if(lPattern){lOutils.addCommentaireDebug(aContexteCourant.node,'ie-pattern="'+lPattern+'"');aContexteCourant.node.removeAttribute('ie-pattern');}}}}
  if(!aEstCB){lMask=aContexteCourant.node.getAttribute('ie-mask');if(lMask){lOutils.addCommentaireDebug(aContexteCourant.node,'ie-mask="'+lMask+'"');aContexteCourant.node.removeAttribute('ie-mask');if(lParametres.contentEditable){
  lMask='';}}
  if(lMask&&!lModele){lSaveValues.value=aContexteCourant.node.value;}
  lMatchMask=lMask&&lMask.match?lMask.match(C_RegExp_Match):null;}
  if(lModele){_abonnerRefresh(function(){_verificationInputModel(aContexteCourant,lParametres,lPatternValidateRegex);},aContexteCourant.node,aContexteCourant);}
  if(lModele||(!aEstCB&&(lMatchMask||aMaxLength))){aJNode.on(aEstCB?'IEChecked change input':'input change paste cut keydown keypress keyup',function(aEvent){if(!lParametres.eventActif){return;}
  var lNewValue=null,lNewInputValue=null,lValueInput,lCaret=null;if(aEstCB){lNewValue=$(this).is(':checked');} else{lValueInput=lParametres.contentEditable?this.innerHTML:this.value;lNewValue=lValueInput;lNewInputValue=lNewValue;if(lParametres.interrompreEvent&&lParametres.interrompreEvent.callback([aEvent])){return false;}
  if(aMaxLength>0&&lNewValue.length>aMaxLength&&!lParametres.contentEditable){var lTop=$(this).scrollTop();this.value=lNewValue=lNewValue.slice(0,aMaxLength);$(this).scrollTop(lTop);}
  if(lMatchMask&&lNewValue.length>0){var lSanitize='',lCharMask='',lRegExpMask=new RegExp(lMatchMask[1],lMatchMask[2]);for(var lIx=0;lIx<lNewValue.length;lIx++){lCharMask=lNewValue.charAt(lIx);if(!lRegExpMask.test(lCharMask)){lSanitize+=lCharMask;}}
  if(lParametres.fromDisplay){lNewValue=lParametres.fromDisplay(lNewValue);}
  if(lSanitize!==lNewValue){var lNomProp=lParametres.contentEditable?'innerHTML':'value';if(lSanitize===lSaveValues.value){if(lParametres.toDisplay){this[lNomProp]=lParametres.toDisplay(lSaveValues.value);} else{this[lNomProp]=lSaveValues.value;}
  return false;}
  lNewValue=lSanitize;lNewInputValue=lSanitize;if(lParametres.toDisplay){this[lNomProp]=lNewInputValue=lParametres.toDisplay(lNewValue);} else{this[lNomProp]=lNewValue;}}} else if(lParametres.fromDisplay){lNewValue=lParametres.fromDisplay(lNewValue);}
  if(lParametres.toDisplay){lNewInputValue=lParametres.toDisplay(lNewValue);if((lTrim&&lNewInputValue.trim()!==lValueInput.trim())||(!lTrim&&lNewInputValue!==lValueInput)){lCaret=null;if(aContexteCourant.estTelephone){lCaret=_caret(this);if(lValueInput.length<lSaveValues.inputValue.length){lCaret.begin=Math.max(0,lCaret.begin-(lSaveValues.inputValue.length-lNewInputValue.length)+1);if(lNewInputValue.charAt(lCaret.begin-1)===' '){lCaret.begin-=1;}
  lCaret.change=true;} else{if(lNewInputValue.length<lSaveValues.inputValue.length){lCaret.begin-=lValueInput.length-lNewInputValue.length+1;}
  if(lNewInputValue===lSaveValues.inputValue){lCaret.begin-=lValueInput.length-lNewInputValue.length;} else if(lNewInputValue.charAt(lCaret.begin-1)===' '){lCaret.begin+=1;} else if(lNewInputValue.length>lSaveValues.inputValue.length&&
  lCaret.begin>lSaveValues.inputValue.length){lCaret.begin=lNewInputValue.length;}
  lCaret.change=true;}}
  if(lParametres.contentEditable){this.innerHTML=lNewInputValue;} else{this.value=lNewInputValue;}
  if(lCaret&&lCaret.change){_caret(this,lCaret.begin);}}}}
  if(lSaveValues.value!==lNewValue){var lPatternOK,lCloneSave;if(lModele){lPatternOK=true;if(lPatternValidateRegex){lPatternOK=lPatternValidateRegex(lNewValue);aContexteCourant.$patternOK=lPatternOK;}
  lCloneSave=MethodesObjet.dupliquer(lSaveValues);}
  lParametres.declencherExitChange=true;lSaveValues.value=lNewValue;lSaveValues.inputValue=lNewInputValue;if(aContexteCourant.etatSaisie){if(aContexteCourant.controleur&&aContexteCourant.controleur.instance&&aContexteCourant.controleur.instance.SetEtatSaisie){aContexteCourant.controleur.instance.SetEtatSaisie(true);} else{Invocateur.evenement(ObjetInvocateur.events.etatSaisie,true);}}
  if(lModele){var lParametresSetValue={node:this,event:aEvent,value:lNewValue,inputValue:lNewInputValue,textBrut:lEstTexteBrut,oldValues:lCloneSave,patternOK:lPatternOK,selectionTexte:false};if(lParametres.setterValue){lParametres.setterValue(lNewValue,lParametresSetValue);}
  aContexteCourant.data.$ignoreRefresh=true;try{lRefresh();} finally{delete aContexteCourant.data.$ignoreRefresh;}
  if(aContexteCourant.data.$destroy===true){return;}
  _verificationInputModel(aContexteCourant,lParametres);if(lParametresSetValue.selectionTexte&&!aEstCB){aContexteCourant.node.select();}}}});}
  if(lTrim){aJNode.on('change blur',function(){var lValue=lParametres.contentEditable?this.innerHTML:this.value;var lValueTrim=lValue.trim();if(lValueTrim!==lValue){lSaveValues.value=lValueTrim;lSaveValues.inputValue=lValueTrim;if(lParametres.contentEditable){this.innerHTML=lValueTrim;} else{this.value=lValueTrim;}}});}
  if(lParametres.infosExitChange){lFuncExitChange=function(aParamsExit){var lParametresExitChange=Object.assign({selectionTexte:false,data:aContexteCourant.data,event:null},aParamsExit);lParametres.infosExitChange.callback([lSaveValues.value,lParametresExitChange]);_verificationInputModel(aContexteCourant,lParametres,lPatternValidateRegex);lRefresh();if(lParametresExitChange.selectionTexte&&!aEstCB){aContexteCourant.node.select();}};aJNode.on('change blur focusout',function(aEvent){if(!lParametres.declencherExitChange){return;}
  lParametres.declencherExitChange=false;lFuncExitChange(aEvent);});}
  if(lParametres.infosNode){lOutils.surInjectionHtml(aContexteCourant,function(){lParametres.infosNode.callback(Array.prototype.slice.call(arguments));});}
  if(lParametres.infosNodeAfter){lOutils.surInjectionHtml(aContexteCourant,function(){lParametres.infosNodeAfter.callback(Array.prototype.slice.call(arguments));},true);}
  if(lParametres.infoskeyupEnter){aJNode.on('keyup',function(aEvent){if(aEvent.which===ToucheClavier.RetourChariot){lParametres.infoskeyupEnter.callback([aEvent]);lRefresh();}});}}
  function _gererInputCB(aContexteCourant,aAttributType){_gererInputModele(aContexteCourant,$(aContexteCourant.node),true,aAttributType);}
  function _gererMaxLengthInputText(aContexteCourant,aNode,aJNode,aEstInput,aAttributType){var lAttrMaxLength=aNode.getAttribute('maxlength'),lMaxLength=0;if(aEstInput){if(aContexteCourant.estIndicatifTelephone||aContexteCourant.estTelephone){return;}
  if(IEHtml.MAX_LENGTH_Default===0){return;}
  if(!lAttrMaxLength&&(aAttributType==='text'||aAttributType===''||aAttributType==='number'||aAttributType==='email'||aAttributType==='url')){aJNode.attr('maxlength',IEHtml.MAX_LENGTH_Default);} else if(parseInt(lAttrMaxLength,10)===0){aNode.removeAttribute('maxlength');}} else{lMaxLength=lAttrMaxLength?parseInt(lAttrMaxLength,10):IEHtml.MAX_LENGTH_Default;if(isNaN(lMaxLength)){lMaxLength=IEHtml.MAX_LENGTH_Default;}
  if(lMaxLength>0){lOutils.addCommentaireDebug(aNode,'maxlength:'+lMaxLength);}
  if(lAttrMaxLength){aNode.removeAttribute('maxlength');}}
  return lMaxLength;}
  function _gererInputText(aContexteCourant,aEstInput,aAttributType){var lJNode=$(aContexteCourant.node);if(aEstInput&&_hasAttribute(aContexteCourant.node,'ie-indicatiftel')){aContexteCourant.estIndicatifTelephone=true;lJNode.addClass('ie-indicatiftel');lOutils.addCommentaireDebug(aContexteCourant.node,'ie-indicatiftel');aContexteCourant.node.removeAttribute('ie-indicatiftel');} else if(aEstInput&&_hasAttribute(aContexteCourant.node,'ie-telephone')){aContexteCourant.estTelephone=true;lJNode.addClass('ie-telephone');lOutils.addCommentaireDebug(aContexteCourant.node,'ie-telephone');aContexteCourant.node.removeAttribute('ie-telephone');}
  var lMaxLength=_gererMaxLengthInputText(aContexteCourant,aContexteCourant.node,lJNode,aEstInput,aAttributType);_gererInputModele(aContexteCourant,lJNode,false,aAttributType,lMaxLength);lJNode=null;}
  function _getDataDeNode(aNode){var lNodeValue=aNode.getAttribute('ie-data'),lData=null;if(lNodeValue&&lNodeValue.length>2&&lNodeValue.charAt(0)==='{'&&lNodeValue.charAt(lNodeValue.length-1)==='}'){try{lData=ObjetJSON.parse(lNodeValue,{ignorerEntites:true});} catch(e){lData=null;}}
  return lData;}
  function _traiterIF(aNode,aNodeParent,aControleur,aContexte,aData){var lValueAttr=aNode.getAttribute('ie-if');aNode.removeAttribute('ie-if');if(!lValueAttr){return true;}
  if(!aControleur){return true;}
  var lContexteCourant=_getContexteCourant(aControleur,aContexte,aNode,Object.assign({},aData));_remplirDataModel(lContexteCourant);var lInfos=_getAccesParametres(lValueAttr,lContexteCourant),lValue=!!lInfos.callback(),lOldValue=lValue,lChaineData='ie-if',lNodeComm=document.createComment(lChaineData),lCloneModele=aNode.cloneNode(true);aNode.parentNode.insertBefore(lNodeComm,aNode);var lInvocateur=new ObjetInvocateur();_abonnerRefresh(function(aGuidEmetteur,aHashGuidCible){var lValue=!!lInfos.callback();if(lOldValue!==lValue){lOldValue=lValue;if(lValue){var lParams={element:aNodeParent,html:lCloneModele.cloneNode(true),controleur:aControleur,contexte:aContexte,invocateur:lInvocateur};var lPreInjectionHtml=_preInjectionHTML(aNodeParent,null);_injectEtCompilNode(lParams);_transfererFragmentDansHTML(lParams.childNodes,aNodeParent,lNodeComm.nextSibling);_finaliserInjectionHTML(lPreInjectionHtml,aContexte);lParams.childNodes=null;} else{while(lNodeComm.nextSibling&&_estNoeudCommentaire(lNodeComm.nextSibling)){$(lNodeComm.nextSibling).remove();}
  if(lNodeComm.nextSibling){$(lNodeComm.nextSibling).remove();}}} else{lInvocateur.evenement(C_id_event_iemodel,aGuidEmetteur,aHashGuidCible);}},aNodeParent,lContexteCourant,null,function(){if(aNodeParent&&aNodeParent.contains&&!aNodeParent.contains(lNodeComm)){return true;}
  return false;});if(!lValue){$(aNode).remove();}
  return lValue;}
  function _addNodeDeREPEAT(aNodeParent,aControleur,aCloneModele,aNomVariableBoucle,aIndice,aInfosAcces,aNodeComm,aContexte,aArrayNodes,aInvocateur,aInitialisationRepeat){var lNodeAvant;lNodeAvant=aNodeComm;if(aIndice>0){lNodeAvant=aArrayNodes[aIndice-1];}
  if(!aContexte.repeat){aContexte.repeat={};}
  var lContexte=Object.assign({},aContexte),lContexteBoucles={};if(!lContexte.eventsInjectionHtml){lContexte.eventsInjectionHtml=aContexte.eventsInjectionHtml=[];}
  lContexteBoucles[aNomVariableBoucle]={indice:aIndice,arguments:aInfosAcces.args,getterArray:function(){return aInfosAcces.callback()||[];}};lContexte.repeat=Object.assign(lContexteBoucles,aContexte.repeat);if(aInitialisationRepeat){var lNodeClone=aCloneModele.cloneNode(true);aNodeParent.insertBefore(lNodeClone,lNodeAvant.nextSibling);aArrayNodes[aIndice]=_compileNode(lNodeClone,aNodeParent,aControleur,lContexte,aInvocateur);} else{var lParams={element:aNodeParent,html:aCloneModele.cloneNode(true),controleur:aControleur,contexte:lContexte,invocateur:aInvocateur};_injectEtCompilNode(lParams);aArrayNodes[aIndice]=_transfererFragmentDansHTML(lParams.childNodes,aNodeParent,lNodeAvant.nextSibling);lParams.childNodes=null;}}
  function _getDiffTab(aTabOld,aTabNew){var lLength=Math.max(aTabOld.length,aTabNew.length),i,lResult=[];for(i=0;i<lLength;i++){if(aTabOld[i]!==aTabNew[i]){lResult[i]={supprimer:true,ajouter:aTabNew[i]!==null&&aTabNew[i]!==undefined};}}
  return lResult;}
  function _traiterREPEAT(aNode,aNodeParent,aControleur,aContexte,aData){var lValueAttr=aNode.getAttribute('ie-repeat');aNode.removeAttribute('ie-repeat');if(!lValueAttr){return true;}
  if(!aControleur){return true;}
  var lTab=lValueAttr.split('in');if(lTab.length!==2){return true;}
  lValueAttr=lTab[1].trim();var lNomVariableBoucle=lTab[0].trim();if(!aContexte.repeat){aContexte.repeat={};}
  if(aContexte.repeat[lNomVariableBoucle]){return true;}
  var lContexteCourant=_getContexteCourant(aControleur,aContexte,aNode,aData);var lInfos=_getAccesParametres(lValueAttr,lContexteCourant),lArrayValue=lInfos.callback()||[],lChaineData='ie-repeat',lNodeComm=document.createComment(lChaineData),lArrayNodes=[],lArrayComms=[],lCloneModele=aNode.cloneNode(true);aNode.parentNode.insertBefore(lNodeComm,aNode);var lInvocateur=new ObjetInvocateur();_abonnerRefresh(function(aGuidEmetteur,aHashGuidCible){var lNewArrayValue=lInfos.callback()||[],i,lDiff=_getDiffTab(lArrayValue,lNewArrayValue),lArrayRemove,lAvecModif=false,lPreInjectionHtml;if(lDiff.length>0){lArrayRemove=[];for(i=0;i<lDiff.length;i++){if(lDiff[i]&&lDiff[i].supprimer){lAvecModif=true;if(!lPreInjectionHtml){lPreInjectionHtml=_preInjectionHTML(aNodeParent,null);}
  lArrayRemove.push(lArrayNodes[i]);lArrayNodes[i]=null;if(i>0&&lArrayComms[i]){lArrayRemove.push(lArrayComms[i]);lArrayComms[i]=null;}}}
  if(lArrayRemove.length>0){$(lArrayRemove).remove();}
  for(i=0;i<lDiff.length;i++){if(lDiff[i]&&lDiff[i].ajouter){lAvecModif=true;if(!lPreInjectionHtml){lPreInjectionHtml=_preInjectionHTML(aNodeParent,null);}
  _addNodeDeREPEAT(aNodeParent,aControleur,lCloneModele,lNomVariableBoucle,i,lInfos,lNodeComm,aContexte,lArrayNodes,lInvocateur);}}
  lArrayValue=lNewArrayValue;if(lAvecModif&&lPreInjectionHtml){_finaliserInjectionHTML(lPreInjectionHtml,aContexte);}}
  lInvocateur.evenement(C_id_event_iemodel,aGuidEmetteur,aHashGuidCible);},aNodeParent,lContexteCourant,null,function(){if(aNodeParent&&aNodeParent.contains&&!aNodeParent.contains(lNodeComm)){return true;}
  return false;});$(aNode).remove();for(var i=0;i<lArrayValue.length;i++){_addNodeDeREPEAT(aNodeParent,aControleur,lCloneModele,lNomVariableBoucle,i,lInfos,lNodeComm,aContexte,lArrayNodes,lInvocateur,true);}
  return false;}
  function _compileNode(aNode,aNodeParent,aControleur,aContexte,aInvocateur,aProfondeur){var lResultBalise,lNodeType,lNodeName,lNode=aNode,lProfondeur=aProfondeur||0,lData=null,lAvecAttributData=false,lAttrValue,lJSONDebugData,lNameAttribut,lAvecCompilFils=true,lContexteCourant=_getContexteCourant(aControleur,aContexte,aNode,null,aInvocateur),lParametresCompile;if(lProfondeur>1000){
  return;}
  lNodeType=lNode.nodeType;lNodeName=lNode.nodeName;if(lNodeType===1&&!!lNodeName){lNodeName=lNodeName?lNodeName.toLowerCase():'';if(!aContexte.refresh){aContexte.refresh=function(){if(aControleur&&aControleur.$refresh){return aControleur.$refresh(null,true);}
  return IEHtml.refresh();};}
  if(!aContexte.refreshSelf){aContexte.refreshSelf=function(){if(aControleur&&aControleur.$refreshSelf){return aControleur.$refreshSelf(true);}
  return Promise.resolve();};}
  lJSONDebugData=null;lData=_getDataDeNode(lNode);lAvecAttributData=!!lData;if(!lData){lData={};}
  var lAvecIeRepeat=false;if(_hasAttribute(aNode,'ie-repeat')){lAvecIeRepeat=true;if(!_traiterREPEAT(aNode,aNodeParent,aControleur,aContexte,lData)){return;}}
  if(_hasAttribute(aNode,'ie-if')){
  if(!lAvecIeRepeat&&!_traiterIF(aNode,aNodeParent,aControleur,aContexte,lData)){return;}}
  lContexteCourant.data=lData;_getModel(lContexteCourant);var lAvecTransformationNoeud=!!uBalises[lNodeName],lNomBaliseTransform=lNodeName;if(!lAvecTransformationNoeud){for(lNameAttribut in uBalises){if(_hasAttribute(lNode,lNameAttribut)){lAvecTransformationNoeud=true;lNomBaliseTransform=lNameAttribut;lNode.removeAttribute(lNameAttribut);break;}}}
  if(lAvecTransformationNoeud){lResultBalise=uBalises[lNomBaliseTransform](lContexteCourant,lOutils);lAvecCompilFils=!lResultBalise||lResultBalise.avecCompileFils!==false;if(lResultBalise&&lResultBalise.node){lNode=lResultBalise.node;lContexteCourant.node=lNode;lNodeName=lNode.nodeName?lNode.nodeName.toLowerCase():'';}}
  var lEstNodeInput=lNodeName==='input';var lAttributType='';if(lEstNodeInput){lAttributType=(lNode.getAttribute('type')||'').toLowerCase();}
  if(lEstNodeInput&&(lAttributType==='radio'||lAttributType==='checkbox')){if(!lResultBalise||!lResultBalise.ignorerGererInputCB){_gererInputCB(lContexteCourant,lAttributType);}} else if(lEstNodeInput||lNodeName==='textarea'||_estNodeContentEditable(lNode)){if(!lResultBalise||!lResultBalise.ignorerInputText){_gererInputText(lContexteCourant,lEstNodeInput,lAttributType);}}
  if(lData&&!$.isEmptyObject(lData)){$(lNode).IEData(lData);if(lAvecAttributData){if(lJSONDebugData){lOutils.addCommentaireDebug(lNode,'ie-data="'+lJSONDebugData+'"');}
  lNode.removeAttribute('ie-data');}}
  for(lNameAttribut in uAttributs){if(_hasAttribute(lNode,lNameAttribut)){lParametresCompile={};try{lAttrValue=lNode.getAttribute(lNameAttribut);lNode.removeAttribute(lNameAttribut);uAttributs[lNameAttribut](lContexteCourant,lNodeName,lAttrValue,lOutils,lParametresCompile);if(lAvecCompilFils){lAvecCompilFils=lParametresCompile.avecCompileFils!==false;}} catch(e){}}}}
  if(lAvecCompilFils&&lNode.childNodes&&lNode.childNodes.length>0){_compile(lNode.childNodes,lNode,aControleur,aContexte,aInvocateur,lProfondeur+1);}
  return lContexteCourant.node;}
  function _compile(aNodeList,aNodeParent,aControleur,aContexte,aInvocateur,aProfondeur){var lProfondeur=aProfondeur||0;if(lProfondeur>1000){
  return;}
  var lChildNodes=_sliceNodes(aNodeList),lNode,i;for(i=0;i<lChildNodes.length;i++){lNode=lChildNodes[i];_compileNode(lNode,aNodeParent,aControleur,aContexte,aInvocateur,lProfondeur);}}
  return{initControleur:_initControleur,addBalise:function(aBalise,aFonction){aBalise=aBalise.toLowerCase();uBalises[aBalise]=aFonction;lNodeNames.push(aBalise);},addAttribut:function(aAttribut,aFonction){aAttribut=aAttribut.toLowerCase();uAttributs[aAttribut]=aFonction;},ieData:function(aObjet){if(!aObjet){return'';}
  var lChaine=ObjetJSON.toJSON(aObjet,{ignorerEntites:true});if(!lChaine){return'';}
  return' ie-data="'+lChaine.replace(/"/g,'&quot;')+'" ';},refresh:function(aGuidEmmeteur,aHashGuidCible,aRefreshAsynchrone){if(aRefreshAsynchrone){return new Promise(function(aResolve){setTimeout(function(){uInvocateur.evenement(C_id_event_iemodel,aGuidEmmeteur,aHashGuidCible);aResolve();},0);});} else{uInvocateur.evenement(C_id_event_iemodel,aGuidEmmeteur,aHashGuidCible);return Promise.resolve();}},injectHTML:function(aElement,aHtml,aControleur,aIgnorerScroll,aInsererAvantNode,aAvecCommentaireConstructeur,aCommentaireHtmlDebug){return _injectHTML({element:aElement,insererAvantLeNode:aInsererAvantNode,html:aHtml,controleur:aControleur,ignorerScroll:aIgnorerScroll,avecCommentaireConstructeur:aAvecCommentaireConstructeur!==false,commentaireHtmlDebug:aCommentaireHtmlDebug});},injectHTMLParams:_injectHTML,toArg:function(aArgs){if(aArgs===undefined){return'';}
  var lArray=aArgs;if(!Array.isArray(lArray)){lArray=[aArgs];}
  var lArg='',i,lTab=[];for(i=0;i<lArray.length;i++){lArg=lArray[i];if(lArg===null){lTab.push('null');} else if(lArg===undefined){lTab.push('undefined');} else if(MethodesObjet.isString(lArg)){lTab.push('\''+lArg+'\'');} else if(MethodesObjet.isObject(lArg)){
  lTab.push('null');} else{lTab.push(lArg);}}
  return lTab.join(',').replace(/"/g,'&quot;');},composeAttr:function(aAttribut,aNomFonction,aArgs){if(!aNomFonction||!aAttribut||!aNomFonction.replace){
  return'';}
  ;var lResult=' '+aAttribut+'="'+aNomFonction.replace(/"/g,'&quot;');if(arguments.length>2){lResult+='('+this.toArg(aArgs)+')';}
  return lResult+'" ';},outils:lOutils,collectionIdentite:{},C_id_event_iemodel:C_id_event_iemodel,MAX_LENGTH_Default:0,REGEXP_INDICATIF_TELEPHONE:/[^0-9]/ig,TAILLEMAX_INDICATIF_TELEPHONE:3,REGEXP_TELEPHONE:/[^0-9]/ig};}());$.fn.IEHtml=function(aHtml,aParametres){var lParametres={html:aHtml,ignorerScroll:false,controleur:null,sansCompile:false,avecCommentaireConstructeur:true,commentaireHtmlDebug:''};Object.assign(lParametres,aParametres);return this.empty().each(function(){if(lParametres.sansCompile){this.innerHTML=aHtml;} else{while(this&&this.firstChild){this.removeChild(this.firstChild);}
  IEHtml.injectHTMLParams(Object.assign({element:this},lParametres));}});};$.fn.IEHtmlAppend=function(aHtml,aParametres){var lParametres={ignorerScroll:false,controleur:null,sansCompile:false};Object.assign(lParametres,aParametres);return this.each(function(){if(lParametres.sansCompile){this.innerHTML+=aHtml;} else{IEHtml.injectHTML(this,aHtml,lParametres.controleur,lParametres.ignorerScroll);}});};$.fn.IEData=function(aData){if(arguments.length>0){return this.each(function(){$(this).data('ieData',aData);});}
  return $(this).data('ieData');};$.fn.eventValidation=function(aCallback){return this.each(function(){$(this).on({click:function(aEvent){if(aEvent.pageX===0&&aEvent.pageY===0){return;}
  return aCallback.call(this,aEvent);},keyup:function(aEvent){if(aEvent.which===ToucheClavier.Espace||aEvent.which===ToucheClavier.RetourChariot){return aCallback.call(this,aEvent);}}});});};Invocateur.abonner(ObjetInvocateur.events.refreshIEHtml,function(){IEHtml.refresh();});module.exports=IEHtml;},fn:"iehtml.js"});;
  IE.fModule({f:function(exports,require,module,global){require('divers.js');var GLog=require('IELog.js');var MethodesObjet=require('MethodesObjet.js');var IEHtml=require('IEHtml.js');function _ObjetHtml(){}
  _ObjetHtml.prototype.elementExiste=function(aElement){return aElement&&(this.estElement(aElement)||this.estDocument(aElement)||document.getElementById(aElement))?true:false;};_ObjetHtml.prototype.estElement=function(aElement){return aElement&&(aElement.nodeType===1);};_ObjetHtml.prototype.estDocument=function(aElement){return aElement&&(aElement.nodeType===9);};_ObjetHtml.prototype.nettoyerHtml=function(aHtml){var lDiv=document.createElement('div');lDiv.insertAdjacentHTML('afterbegin',aHtml);return lDiv.innerHTML;};_ObjetHtml.prototype.viderNode=function(aNode){if(aNode&&aNode.getElementsByTagName){$.cleanData(aNode.getElementsByTagName('*'));}
  while(aNode&&aNode.firstChild){aNode.removeChild(aNode.firstChild);}};_ObjetHtml.prototype.htmlToDOM=function(aHtml){var lFrag=document.createDocumentFragment(),lDiv=document.createElement('div'),lNoeudDOM;lFrag.appendChild(lDiv);lDiv.insertAdjacentHTML('afterbegin',aHtml);if(lDiv.childNodes.length>1){lNoeudDOM=Array.from(lDiv.childNodes);} else{lNoeudDOM=lDiv.firstChild;}
  this.viderNode(lDiv);lDiv=null;lFrag=null;return lNoeudDOM;};_ObjetHtml.prototype.insererElementDOM=function(aElementPere,aElement,aInsererEnPremier){if(GHtml.estElement(aElement)&&GHtml.estElement(aElementPere)){if(aInsererEnPremier&&aElementPere.firstChild){aElementPere.insertBefore(aElement,aElementPere.firstChild);} else{aElementPere.appendChild(aElement);}}};_ObjetHtml.prototype.addHtml=function(aId,aHtml,aParametres){var lElement=this.getElement(aId);if(this.elementExiste(lElement)&&lElement.appendChild){var lParametres=Object.assign({},aParametres);if(lParametres.instance&&lParametres.instance.controleur){lParametres.controleur=lParametres.instance.controleur;}
  if(lParametres.sansCompile){lElement.insertAdjacentHTML('beforeend',aHtml);} else{IEHtml.injectHTML(lElement,aHtml,lParametres.controleur,lParametres.ignorerScroll,null,false);}}};_ObjetHtml.prototype.supprimerElementDOM=function(aId){var lElement=GHtml.getElement(aId);if(lElement){$(lElement).remove();}};_ObjetHtml.prototype.getElement=function(aId){var E=this.estElement(aId)||this.estDocument(aId)?aId:document.getElementById(aId);return E||null;};_ObjetHtml.prototype.getHtml=function(aId){var E=this.getElement(aId);if(E){return E.innerHTML;}};_ObjetHtml.prototype.getValue=function(aId){var E=this.getElement(aId);var lChaine=require('_ObjetChaine.js').GChaine;if(E){return lChaine.ajouterEntites(E.value);}
  return'';};_ObjetHtml.prototype.getClass=function(aId){var E=this.getElement(aId);return E&&E.className?E.className:'';};_ObjetHtml.prototype.addClass=function(aId,aClass){this.modifierClass(aId,null,aClass);};_ObjetHtml.prototype.delClass=function(aId,aClass){this.modifierClass(aId,aClass,null);};_ObjetHtml.prototype.modifierClass=function(aId,aClassSuppression,aClasseAjout){if((!aClassSuppression&&!aClasseAjout)||!this.elementExiste(aId)){return;}
  var lJElement=GHtml.estElement(aId)?$(aId):$('#'+aId.escapeJQ());if(aClassSuppression){lJElement.removeClass(aClassSuppression);}
  if(aClasseAjout){lJElement.addClass(aClasseAjout);}};_ObjetHtml.prototype.getDisplay=function(aId){var E=this.getElement(aId);if(E){if(E.style&&E.style.display==='none'){return false;} else if(!E.parentNode){return true;} else{return this.getDisplay(E.parentNode);}}
  return false;};_ObjetHtml.prototype.extraireNombreDId=function(aId,aIndiceAvant,aSeparateur){var lOptions,T,lResult,lId=aId;if(!MethodesObjet.isString(lId)){if(this.estElement(lId)&&lId.id){lId=lId.id;} else{return null;}}
  lOptions={separateur:aSeparateur||'_',indiceAvant:aIndiceAvant||0};T=lId.split(lOptions.separateur);lResult=parseInt(T[Math.max(0,T.length-1-lOptions.indiceAvant)],10);return MethodesObjet.isNumber(lResult)?lResult:null;};_ObjetHtml.prototype.setClass=function(aId,aClass){var E=this.getElement(aId);if(E){E.className=aClass;}};_ObjetHtml.prototype.setHtml=function(aId,aHtml,aIgnorerScroll){
  var E=this.getElement(aId);if(E){var lParametres=Object.assign({},aIgnorerScroll);if(aIgnorerScroll===true){lParametres.ignorerScroll=true;}
  if(lParametres.instance&&lParametres.instance.controleur){lParametres.controleur=lParametres.instance.controleur;}
  if($.fn.IEHtml&&(!lParametres.instance||!lParametres.instance.IGNORER_IEHTML)){$(E).IEHtml(aHtml,lParametres);} else{if(E.getElementsByTagName){$.cleanData(E.getElementsByTagName("*"));}
  E.innerHTML=aHtml;if(aIgnorerScroll!==true){var lOverflow=$(E).css('overflow');if(lOverflow==='auto'||lOverflow==='scroll'){E.scrollLeft=0;E.scrollTop=0;}}}}};function _valeurToProp(aValeur){if(aValeur===null||aValeur===undefined){return'';}
  if(MethodesObjet.isString(aValeur)){var lChaine=require('_ObjetChaine.js').GChaine;return lChaine.enleverEntites(aValeur);}
  if(MethodesObjet.isNumber(aValeur)){return aValeur+'';}
  return aValeur;}
  _ObjetHtml.prototype.setTitle=function(aId,aTitle){var E=this.getElement(aId);if(E){E.title=_valeurToProp(aTitle);}};_ObjetHtml.prototype.setValue=function(aId,aValue){var E=this.getElement(aId);if(E){E.value=_valeurToProp(aValue);}};_ObjetHtml.prototype.setDisabled=function(aId,aDisabled){var E=this.getElement(aId);if(E){$(E).inputDisabled(aDisabled);}};_ObjetHtml.prototype.setAvecMain=function(aId,aDisabled){var E=this.getElement(aId);if(E){$(E).toggleClass('AvecMain',!aDisabled);}};_ObjetHtml.prototype.setDisplay=function(aId,aVisible){var E=this.getElement(aId);if(E&&E.style){E.style.display=aVisible?'':'none';}};_ObjetHtml.prototype.setFocus=function(aId,aFocus,aAvecDecalage){function _focus(aElement){if(!GHtml.elementExiste(aElement)){return;}
  try{if(aFocus||aFocus===null||aFocus===undefined){aElement.focus();} else{aElement.blur();}} catch(e){GLog.addLog('Erreur _ObjetHtml.prototype.setFocus : '+e.toString()+' ((fv) remarqué uniquement sur IE avec un delai)');}}
  if(GHtml.elementExiste(aId)){try{if(this.getDisplay(aId)){var lElement=this.getElement(aId);if(lElement){var lAvecDecalage=aAvecDecalage,lDecalage=200;if(aAvecDecalage>=0&&MethodesObjet.isNumber(aAvecDecalage)){lAvecDecalage=true;lDecalage=aAvecDecalage;}
  if(lAvecDecalage){setTimeout(_focus.bind(null,lElement),lDecalage);} else{_focus(lElement);}}}} catch(e){}}};_ObjetHtml.prototype.setFocusEdit=function(aId){if(this.elementExiste(aId)){try{if(this.getDisplay(aId)){var E=this.getElement(aId);if(E){E.focus();if(window.GNavigateur&&window.GNavigateur.IsIE){E.select();}
  E.value=E.value;}}} catch(e){}}};_ObjetHtml.prototype.setImage=function(aId,aSrc){var E=this.getElement(aId);if(E){E.src=aSrc;}};_ObjetHtml.prototype.setAlt=function(aId,aValue){var E=this.getElement(aId);if(E){E.alt=aValue;}};_ObjetHtml.prototype.setTexte=function(aId,aTexte){var E=this.getElement(aId);if(E){this.viderNode(E);E.appendChild(document.createTextNode(aTexte));}};_ObjetHtml.prototype.composeBlanc=function(){return'<span style="font-size : 1px">&nbsp;</span>';};_ObjetHtml.prototype.setCheckBox=function(aId,aValue){
  if(aValue===undefined){aValue=false;}
  var E=this.getElement(aId);if(E){$(E).inputChecked(aValue);}};_ObjetHtml.prototype.toArg=function(aArgs){if(IEHtml){return IEHtml.toArg(aArgs);}
  ;return'';};_ObjetHtml.prototype.composeAttr=function(){if(IEHtml){return IEHtml.composeAttr.apply(IEHtml,arguments);}
  ;return'';};_ObjetHtml.prototype.deselectionTexte=function(){try{if(window.getSelection&&window.getSelection()&&window.getSelection().removeAllRanges){window.getSelection().removeAllRanges();}} catch(e){}};var GHtml=new _ObjetHtml();module.exports={_ObjetHtml:_ObjetHtml,GHtml:GHtml};},fn:"_objethtml.js"});;
  IE.fModule({f:function(exports,require,module,global){var EGenreCurseur={Defaut:0,Main:1,Sablier:2,Aide:3,Move:4,Retaillage:5,Interdiction:6};module.exports=EGenreCurseur;},fn:"enumere_curseur.js"});;
  IE.fModule({f:function(exports,require,module,global){var MethodesObjet=require('MethodesObjet.js');var GHtml=require('_ObjetHtml.js').GHtml;var Support=require('ObjetSupport.js');var EGenreBordure={gauche:1,haut:2,droite:4,bas:8};EGenreBordure.avecBordure=function(aBordures,aGenreBordure){return aGenreBordure>0&&aBordures>0?!!(aBordures&aGenreBordure):false;};function _ObjetStyle(){}
  _ObjetStyle.prototype.composeCouleur=function(aCouleurFond,aCouleurTexte,aCouleurBordure,aLargeurBordure,aListeBordures){return this.composeCouleurFond(aCouleurFond)+this.composeCouleurTexte(aCouleurTexte)+this.composeCouleurBordure(aCouleurBordure,aLargeurBordure,aListeBordures);};_ObjetStyle.prototype.composeCouleurBordure=function(aCouleurBordure,aLargeurBordure,aListeBordures,aStyle){if(aCouleurBordure&&MethodesObjet.isString(aCouleurBordure)){var lStyle=aStyle||'solid';if(!$.isNumeric(aLargeurBordure)){aLargeurBordure=1;}
  if(!aListeBordures){return' border: '+aLargeurBordure+'px '+lStyle+' '+aCouleurBordure+';';}
  var H=[];H.push(aListeBordures&EGenreBordure.gauche?' border-left: '+aLargeurBordure+'px '+lStyle+' '+aCouleurBordure+';':'');H.push(aListeBordures&EGenreBordure.haut?' border-top: '+aLargeurBordure+'px '+lStyle+' '+aCouleurBordure+';':'');H.push(aListeBordures&EGenreBordure.droite?' border-right: '+aLargeurBordure+'px '+lStyle+' '+aCouleurBordure+';':'');H.push(aListeBordures&EGenreBordure.bas?' border-bottom: '+aLargeurBordure+'px '+lStyle+' '+aCouleurBordure+';':'');return H.join('');}
  return'';};_ObjetStyle.prototype.composeCouleurFond=function(aCouleurFond){if(!aCouleurFond){return'';}
  if(MethodesObjet.isString(aCouleurFond)){return' background-color:'+aCouleurFond+';';}
  ;return'';};_ObjetStyle.prototype.composeCouleurTexte=function(aCouleurTexte){if(!aCouleurTexte){return'';}
  if(MethodesObjet.isString(aCouleurTexte)){return' color:'+aCouleurTexte+';';}
  ;return'';};_ObjetStyle.prototype.composeBordureArrondi=function(){return'';};_ObjetStyle.prototype.composeHeight=function(aValeur,aFormat){if(aValeur&&aValeur.indexOf&&aValeur.indexOf('%')>0){aValeur=parseFloat(aValeur);aFormat='%';}
  if(!MethodesObjet.isNumber(aValeur)){return'';}
  if(!aFormat){aFormat='px';}
  return'height:'+aValeur+aFormat+';';};_ObjetStyle.prototype.composeWidth=function(aValeur,aFormat){if(aValeur&&aValeur.indexOf&&aValeur.indexOf('%')>0){aValeur=parseFloat(aValeur);aFormat='%';}
  if(!MethodesObjet.isNumber(aValeur)){return'';}
  if(!aFormat){aFormat='px';}
  return'width:'+aValeur+aFormat+';';};_ObjetStyle.prototype.composeHeightCalc=function(aValeur){if(!MethodesObjet.isNumber(aValeur)){
  return'';}
  return'height: calc(100% - '+aValeur+'px);';};_ObjetStyle.prototype.composeWidthCalc=function(aValeur){if(!MethodesObjet.isNumber(aValeur)){
  return'';}
  return'width: calc(100% - '+aValeur+'px);';};_ObjetStyle.prototype.composeMarge=function(aHaut,aBas,aGauche,aDroit){var lResult='';if($.isNumeric(aHaut)){lResult+='margin-top: '+aHaut+'px; ';}
  if($.isNumeric(aBas)){lResult+='margin-bottom: '+aBas+'px; ';}
  if($.isNumeric(aGauche)){lResult+='margin-left: '+aGauche+'px; ';}
  if($.isNumeric(aDroit)){lResult+='margin-right: '+aDroit+'px; ';}
  return lResult;};_ObjetStyle.prototype.composeBoxShadow=function(aParametres){var lParametres={x:0,y:9,blur:18,spread:0,r:50,g:50,b:50,opacity:0.35};$.extend(lParametres,aParametres);var lValeur='';if($.isNumeric(lParametres.x)&&lParametres.x>0){lValeur+=lParametres.x+'px';} else{lValeur+='0px';}
  lValeur+=' ';if($.isNumeric(lParametres.y)&&lParametres.y>0){lValeur+=lParametres.y+'px';} else{lValeur+='0px';}
  lValeur+=' ';if($.isNumeric(lParametres.blur)&&lParametres.blur>0){lValeur+=lParametres.blur+'px';} else{lValeur+='0px';}
  lValeur+=' ';if($.isNumeric(lParametres.spread)&&lParametres.spread!==0){lValeur+=lParametres.spread+'px';} else{lValeur+='0px';}
  if(lParametres.opacity>0){lValeur+=' rgba('+lParametres.r+', '+lParametres.g+', '+lParametres.b+', '+lParametres.opacity+')';} else{lValeur+=' rgb('+lParametres.r+', '+lParametres.g+', '+lParametres.b+')';}
  if(Support.supportBoxShadow[Support.GenreNavigateur.Standard]){return'box-shadow: '+lValeur+';';} else if(Support.supportBoxShadow[Support.GenreNavigateur.Webkit]){return'-webkit-box-shadow: '+lValeur+';';} else if(Support.supportBoxShadow[Support.GenreNavigateur.Moz]){return'-moz-box-shadow: '+lValeur+';';} else{return'';}};_ObjetStyle.prototype.composeTransitions=function(aPropriete,aDureeEnS,aDelaiEnS,aTiming){if(!MethodesObjet.isString(aPropriete)||!MethodesObjet.isString(aDureeEnS)){return'';}
  if(Support.supportTransitions[Support.GenreNavigateur.Standard]){return'transition-property: '+aPropriete+';'+'transition-duration:'+aDureeEnS+';'+(MethodesObjet.isString(aDelaiEnS)?'transition-delay:'+aDelaiEnS+';':'')+(MethodesObjet.isString(aTiming)?'transition-timing-function:'+aTiming+';':'');} else if(Support.supportTransitions[Support.GenreNavigateur.Webkit]){return'-webkit-transition-property: '+aPropriete+';'+'-webkit-transition-duration:'+aDureeEnS+';'+(MethodesObjet.isString(aDelaiEnS)?'-webkit-transition-delay:'+aDelaiEnS+';':'')+(MethodesObjet.isString(aTiming)?'-webkit-transition-timing-function:'+aTiming+';':'');} else if(Support.supportTransitions[Support.GenreNavigateur.Moz]){return'-moz-transition-property: '+aPropriete+';'+'-moz-transition-duration:'+aDureeEnS+';'+(MethodesObjet.isString(aDelaiEnS)?'-moz-transition-delay:'+aDelaiEnS+';':'')+(MethodesObjet.isString(aTiming)?'-moz-transition-timing-function:'+aTiming+';':'');} else if(Support.supportTransitions[Support.GenreNavigateur.Opera]){return'-o-transition-property: '+aPropriete+';'+'-o-transition-duration:'+aDureeEnS+';'+(MethodesObjet.isString(aDelaiEnS)?'-o-transition-delay:'+aDelaiEnS+';':'')+(MethodesObjet.isString(aTiming)?'-o-transition-timing-function:'+aTiming+';':'');} else{return'';}};_ObjetStyle.prototype.whichTransitionEvent=function(){var t;var lElement=document.createElement('fakeelement');var lTransitions={'WebkitTransition':'webkitTransitionEnd','transition':'transitionEnd','OTransition':'oTransitionEnd','MSTransition':'msTransitionEnd','MozTransition':'transitionend'};for(t in lTransitions){if(lElement.style[t]!==undefined){return lTransitions[t];}}};_ObjetStyle.prototype.setTransitions=function(aId,aPropriete,aDureeEnS,aDelaiEnS,aTiming){if(!MethodesObjet.isString(aPropriete)||!MethodesObjet.isString(aDureeEnS)){return'';}
  var lStyle=this.getStyle(aId);if(lStyle){var lChaine=aPropriete+' '+aDureeEnS+' '+(MethodesObjet.isString(aDelaiEnS)?aDelaiEnS+' ':'')+(MethodesObjet.isString(aTiming)?aTiming+' ':'');if(Support.supportTransitions[Support.GenreNavigateur.Standard]){lStyle.transition=lChaine;} else if(Support.supportTransitions[Support.GenreNavigateur.Webkit]){lStyle.webkitTransition=lChaine;} else if(Support.supportTransitions[Support.GenreNavigateur.Moz]){lStyle.MozTransition=lChaine;} else if(Support.supportTransitions[Support.GenreNavigateur.Opera]){lStyle.OTransition=lChaine;}}};_ObjetStyle.prototype.getStyle=function(aId){var E=GHtml.getElement(aId);if(E){return E.style;}};_ObjetStyle.prototype.setCouleurBordure=function(aId,aCouleur){var E=GHtml.getElement(aId);if(E){E.style.borderColor=aCouleur;}};_ObjetStyle.prototype.setCouleurBordureHaut=function(aId,aCouleur){var E=GHtml.getElement(aId);if(E){E.style.borderTopColor=aCouleur;}};_ObjetStyle.prototype.setCouleurBordureBas=function(aId,aCouleur){var E=GHtml.getElement(aId);if(E&&E.style){E.style.borderBottomColor=aCouleur;}};_ObjetStyle.prototype.setCouleurBordureGauche=function(aId,aCouleur){var E=GHtml.getElement(aId);if(E){E.style.borderLeftColor=aCouleur;}};_ObjetStyle.prototype.setCouleurBordureDroit=function(aId,aCouleur){var E=GHtml.getElement(aId);if(E){E.style.borderRightColor=aCouleur;}};_ObjetStyle.prototype.setCouleur=function(aId,aCouleurFond,aCouleurTexte,aCouleurBordure){if(aCouleurFond||aCouleurFond===''){this.setCouleurFond(aId,aCouleurFond);}
  if(aCouleurTexte||aCouleurTexte===''){this.setCouleurTexte(aId,aCouleurTexte);}
  if(aCouleurBordure||aCouleurBordure===''){this.setCouleurBordure(aId,aCouleurBordure);}};_ObjetStyle.prototype.setCouleurFond=function(aId,aCouleurFond){var S=this.getStyle(aId);if(S){S.backgroundColor=aCouleurFond;}};_ObjetStyle.prototype.setCouleurTexte=function(aId,aCouleurTexte){var S=this.getStyle(aId);if(S){S.color=aCouleurTexte;}};_ObjetStyle.prototype.setVisible=function(aId,aVisible){var S=this.getStyle(aId);if(S){S.visibility=aVisible?'visible':'hidden';}};_ObjetStyle.prototype.setGras=function(aId,aGras){var E=GHtml.getElement(aId);if(E&&GHtml.estElement(E)){E.style.fontWeight=(aGras?'bold':'normal');}};_ObjetStyle.prototype.getZindex=function(aId){var S=this.getStyle(aId);if(S&&S.zIndex){return parseInt(S.zIndex);}};_ObjetStyle.prototype.setZindex=function(aId,aZindex){var S=this.getStyle(aId);if(S){S.zIndex=aZindex;}};_ObjetStyle.prototype.setDisplay=function(aId,aDisplay){var S=this.getStyle(aId);if(S){S.display=aDisplay?'':'none';}};_ObjetStyle.prototype.composeDegradeVertical=function(aCouleurDebut,aCouleurFin){var lResult=this.composeCouleurFond(aCouleurDebut);if(Support.supportFilterIE){lResult+=' FILTER: progid:DXImageTransform.Microsoft.Gradient(gradientType=0,startColorStr='+aCouleurDebut+',endColorStr='+aCouleurFin+');';} else if(Support.supportGradient[Support.GenreNavigateur.Standard]){lResult+=' background: linear-gradient(to bottom, '+aCouleurDebut+', '+aCouleurFin+');';} else if(Support.supportGradient[Support.GenreNavigateur.IE]){lResult+=' background: -ms-linear-gradient(top, '+aCouleurDebut+', '+aCouleurFin+');';} else if(Support.supportGradient[Support.GenreNavigateur.Moz]){lResult+=' background: -moz-linear-gradient(top, '+aCouleurDebut+', '+aCouleurFin+');';} else if(Support.supportGradient[Support.GenreNavigateur.Webkit]){lResult+=' background: -webkit-gradient(linear, left top, left bottom, from('+aCouleurDebut+'), to('+aCouleurFin+'));';}
  return lResult;};_ObjetStyle.prototype.composeContenuDegradeVertical=function(aCouleurDebut,aCouleurFin){return this.composeContenuDegrade(180,aCouleurDebut,aCouleurFin);};_ObjetStyle.prototype.composeContenuDegrade=function(aAngle,aCouleurDebut,aCouleurFin){var lResult='';if(Support.supportGradient[Support.GenreNavigateur.Standard]){lResult+='linear-gradient('+aAngle+'deg, '+aCouleurDebut+', '+aCouleurFin+')';} else if(Support.supportGradient[Support.GenreNavigateur.IE]){lResult+='-ms-linear-gradient('+aAngle+'deg, '+aCouleurDebut+', '+aCouleurFin+')';} else if(Support.supportGradient[Support.GenreNavigateur.Moz]){lResult+='-moz-linear-gradient('+aAngle+'deg, '+aCouleurDebut+', '+aCouleurFin+')';} else if(Support.supportGradient[Support.GenreNavigateur.Webkit]){lResult+='-webkit-gradient('+aAngle+'deg, left top, left bottom, from('+aCouleurDebut+'), to('+aCouleurFin+'))';} else{lResult+=aCouleurDebut;}
  return lResult;};var GStyle=new _ObjetStyle();module.exports={EGenreBordure:EGenreBordure,_ObjetStyle:_ObjetStyle,GStyle:GStyle};},fn:"_objetstyle.js"});;
  IE.fModule({f:function(exports,require,module,global){
  var MethodesObjet=require('MethodesObjet.js');var GHtml=require('_ObjetHtml.js').GHtml;var EGenreCurseur=require('Enumere_Curseur.js');var Support=require('ObjetSupport.js')
  ;MethodesObjet.heritagePrototype(ObjetStyle_Espace,require('_ObjetStyle.js')._ObjetStyle);function ObjetStyle_Espace(){this.inheritedCreate();}
  ObjetStyle_Espace.prototype.composeTaillePolice=function(aTaillePolice){return' font-size:'+aTaillePolice+'px;';};ObjetStyle_Espace.prototype.composeOpacite=function(aOpacite){if(!$.isNumeric(aOpacite)||aOpacite<0||aOpacite>1){
  return'';}
  aOpacite=Math.borner(aOpacite,0,1);if(Support.supportOpacity[Support.GenreNavigateur.Standard]){return'opacity: '+aOpacite+';';} else if(Support.supportOpacity[Support.GenreNavigateur.Webkit]){return'-webkit-opacity: '+aOpacite+';';} else if(Support.supportOpacity[Support.GenreNavigateur.Moz]){return'-moz-opacity: '+aOpacite+';';} else if(Support.supportFilterIE){return'FILTER: progid:DXImageTransform.Microsoft.Alpha(opacity='+parseInt(aOpacite*100)+')'+';';} else{return'';}};ObjetStyle_Espace.prototype.setStyle=function(aId,aStyle){var E=GHtml.getElement(aId);if(E){if(E.style&&E.style.setAttribute){E.style.setAttribute('cssText',aStyle);} else if(E.setAttribute){E.setAttribute('style',aStyle);}}};ObjetStyle_Espace.prototype.setBordure=function(aId,aCouleurBordure,aLargeurBordure,aStyleBordure){if(!$.isNumeric(aLargeurBordure)){aLargeurBordure=1;}
  if(!aStyleBordure){aStyleBordure='solid';}
  var S=this.getStyle(aId);if(S){S.border=aLargeurBordure+'px '+aStyleBordure+' '+aCouleurBordure;}};ObjetStyle_Espace.prototype.setEpaisseurBordure=function(aId,aEpaisseur){var E=GHtml.getElement(aId);if(E){E.style.borderWidth=aEpaisseur;}};ObjetStyle_Espace.prototype.setEpaisseurBordureBas=function(aId,aEpaisseur){var E=GHtml.getElement(aId);if(E){E.style.borderBottomWidth=aEpaisseur;}};ObjetStyle_Espace.prototype.setEpaisseurBordureGauche=function(aId,aEpaisseur){var E=GHtml.getElement(aId);if(E){E.style.borderLeftWidth=aEpaisseur;}};ObjetStyle_Espace.prototype.setEpaisseurBordureDroit=function(aId,aEpaisseur){var E=GHtml.getElement(aId);if(E){E.style.borderRightWidth=aEpaisseur;}};ObjetStyle_Espace.prototype.setEpaisseurMargeHaut=function(aId,aEpaisseur){var E=GHtml.getElement(aId);if(E){E.style.marginTop=aEpaisseur;}};ObjetStyle_Espace.prototype.setCurseur=function(aId,aGenreCurseur){var lCursor;switch(aGenreCurseur){case EGenreCurseur.Main:{lCursor='pointer';break;}
  case EGenreCurseur.Sablier:{lCursor='wait';break;}
  case EGenreCurseur.Aide:{lCursor='help';break;}
  case EGenreCurseur.Move:{lCursor='move';break;}
  default:{lCursor='default';break;}}
  var S=this.getStyle(aId);if(S){S.cursor=lCursor;}};ObjetStyle_Espace.prototype.getDisplay=function(aId){var S=this.getStyle(aId);return S.display==='';};ObjetStyle_Espace.prototype.setTexteSouligne=function(aId,aSouligne){var S=this.getStyle(aId);if(S){S.textDecoration=aSouligne?'underline':'none';}};ObjetStyle_Espace.prototype.getVisible=function(aId){var E=GHtml.getElement(aId);return E.style?E.style.visibility==='visible':false;};ObjetStyle_Espace.prototype.setImageFond=function(aId,aImage){var S=this.getStyle(aId);if(S){S.backgroundImage='url('+aImage+')';S.backgroundAttachment='fixed';}};ObjetStyle_Espace.prototype.setOpacity=function(aId,aOpacite,aAvecOpacityFilter){if(!$.isNumeric(aOpacite)||aOpacite<0||aOpacite>1){
  return'';}
  aOpacite=Math.min(1,Math.max(0,aOpacite));var lStyle=this.getStyle(aId);if(lStyle){if(Support.supportOpacity[Support.GenreNavigateur.Standard]){lStyle.opacity=aOpacite;} else if(Support.supportOpacity[Support.GenreNavigateur.Webkit]){lStyle.webkitOpacity=aOpacite;} else if(Support.supportOpacity[Support.GenreNavigateur.Moz]){lStyle.MozOpacity=aOpacite;} else if(aAvecOpacityFilter&&Support.supportFilterIE){lStyle.filter='alpha(opacity='+parseInt(aOpacite*100)+')';}}};ObjetStyle_Espace.prototype.setTransforms=function(aId,aTransforms){if(!aTransforms){return;}
  var lStyle=this.getStyle(aId);if(lStyle){if(Support.supportTransforms[Support.GenreNavigateur.Standard]){lStyle.transformProperty=aTransforms;} else if(Support.supportTransforms[Support.GenreNavigateur.Webkit]){lStyle.WebkitTransform=aTransforms;} else if(Support.supportTransforms[Support.GenreNavigateur.Moz]){lStyle.MozTransform=aTransforms;} else if(Support.supportTransforms[Support.GenreNavigateur.IE]){lStyle.msTransform=aTransforms;}}};ObjetStyle_Espace.prototype.nonVisible=function(aId){var lElement=GHtml.getElement(aId);if(!GHtml.estElement(lElement)){return true;}
  return $.expr.filters.hidden(lElement);};var GStyle=new ObjetStyle_Espace();require('_ObjetStyle.js').GStyle=GStyle;Object.assign(module.exports,{ObjetStyle_Espace:ObjetStyle_Espace,GStyle:GStyle});},fn:"objetstyle_espace.js"});;
  IE.fModule({f:function(exports,require,module,global){if(IE.estMobile){module.exports=require('ObjetStyle_Mobile.js').GStyle;} else{module.exports=require('ObjetStyle_Espace.js').GStyle;}},fn:"gstyle.js"});;
  IE.fModule({f:function(exports,require,module,global){require('NamespaceIE.js');require('jquery.js');require('jquery.min.js');require('DeclarationJQueryUI.js');require('jquery-mousewheel/jquery.mousewheel.min.js');require('DeclarationJScrollPane.js');require('MethodesObjet.js');require('GStyle.js')
  ;require('produit/css/ImagesQCM.css')
  ;},fn:"declarationclient.js"});;



  GApplication = {};
  GApplication.getDebug = function(){return false;};

  GParametres = {};
  GParametres.baremeNotation = {};
  GParametres.baremeNotation.getValeur = function(){return parseInt('20,00');};

  GThemesCouleurs = {};


  GCouleur = {
    noir: '#000000',
    grisClair: '#E2E2E2',
    blanc: '#FFFFFF'
  };
  GCouleur.themeNeutre  = {
    light  : '#F8F8F8',
    legere : '#F6F6F6',
    claire : '#E2E2E2',
    moyen1 : '#D9DBDC',
    moyen2 : '#C5C5C5',
    foncee : '#6B6E77',
    sombre : '#515459'
  };

  GCouleur.themeCouleur = {
    claire : '#000000',
    moyen1 : '#000000',
    foncee : '#000000'
  };

  GCouleur.fenetre      = {
    fond          : '#F8F8F8',
    bordure       : '#C5C5C5',
    nonEditable   : '#F6F6F6',
    cumul         : '#C5C5C5',
    texte         : '#6B6E77',
    intermediaire : '#E2E2E2'
  };

  GCouleur.nonEditable = {
    fond    : '#E2E2E2',
    texte   : '#EFEFEF',
    bordure : '#C5C5C5'
  };


  GStyle = require('_ObjetStyle.js').GStyle;
  GStyle.composeTransitions = function (aPropriete, aDureeEnS, aDelaiEnS, aTiming) {
      return '-webkit-transition-property: ' + aPropriete + ';' + '-webkit-transition-duration:' + aDureeEnS + ';'
              + (aDelaiEnS ? '-webkit-transition-delay:' + aDelaiEnS + ';' : '') + (aTiming ? '-webkit-transition-timing-function:' + aTiming + ';' : '');
  };
  GStyle.composeBoxShadow = function (aParametres) {
    // valeurs par defaut pour se rapprocher le + possible dans l'image Ombre
    var lParametres = {
      x       : 4,
      y       : 4,
      blur    : 2, //6,
      spread  : 0, //-6,
      r       : 0,
      g       : 0,
      b       : 0,
      opacity : 0.2
    };

    $.extend (lParametres, aParametres);

    var lValeur = '';

    if ($.isNumeric(lParametres.x) && lParametres.x > 0)
      lValeur += lParametres.x + 'px';
    else
      lValeur += '0';

    lValeur += ' ';
    if ($.isNumeric(lParametres.y) && lParametres.y > 0)
      lValeur += lParametres.y + 'px';
    else
      lValeur += '0';

    lValeur += ' ';
    if ($.isNumeric(lParametres.blur) && lParametres.blur > 0) {
      lValeur += lParametres.blur + 'px';
    }
    else {
      lValeur += '0';
    }

    lValeur += ' ';
    if ($.isNumeric(lParametres.spread) && lParametres.spread !== 0)
      lValeur += lParametres.spread + 'px';


    if (lParametres.opacity > 0) {
      lValeur += ' rgba(' + lParametres.r + ', ' + lParametres.g + ', ' + lParametres.b + ', ' + lParametres.opacity + ')';
    }
    else {
      lValeur += ' rgb(' + lParametres.r + ', ' + lParametres.g + ', ' + lParametres.b + ')';
    }

    return '-webkit-box-shadow: ' + lValeur + ';';
  };





  IE.fModule({f:function(exports,require,module,global){require('DeclarationJQuery.js');var GStyle=require('GStyle.js');$.fn.jIEDraggable=function(aOptions){var lOptions,lRestore,lStart,lStop;if($.fn.draggable){lRestore=null;lStart=function(){GStyle.setTransitions(this,'opacity','0.2s');lRestore=null;if(this&&this.style){lRestore={};if(lOptions.axis!=="y"&&$(this).css("right")!=="auto"){lRestore.width=this.style.width;lRestore.right=this.style.right;}
  if(lOptions.axis!=="x"&&$(this).css("bottom")!=="auto"){lRestore.height=this.style.height;lRestore.bottom=this.style.bottom;}}};lStop=function(){$(this).css('opacity',1);if(lRestore){try{if(lRestore.width!==undefined){this.style.width=lRestore.width;}
  if(lRestore.right!==undefined){this.style.right=lRestore.right;}
  if(lRestore.height!==undefined){this.style.height=lRestore.height;}
  if(lRestore.bottom!==undefined){this.style.bottom=lRestore.bottom;}} catch(e){}
  lRestore=null;}};lOptions={containment:'document',opacity:0.5,start:lStart,stop:lStop};$.extend(lOptions,aOptions);if(lOptions.handle){$(lOptions.handle).addClass('IE_draggable');} else{this.addClass('IE_draggable');}
  if(aOptions.start){lOptions.start=function(){lStart.call(this);aOptions.start.call(this);};}
  if(aOptions.stop){lOptions.stop=function(){lStop.call(this);aOptions.stop.call(this);};}
  return this.draggable(lOptions);}
  ;return this;};module.exports={};},fn:"jiedraggable.js"});;
  IE.fModule({f:function(exports,require,module,global){var GLog=require('IELog.js');var GHtml=require('_ObjetHtml.js').GHtml;var Invocateur=require('Invocateur.js').Invocateur;var ZoneFenetre={idZoneFenetre:"zone_fenetre"};ZoneFenetre.getElementZoneFenetre=function(){var lId=ZoneFenetre.idZoneFenetre;var lElement=GHtml.getElement(lId);if(!GHtml.estElement(lElement)){lElement=GHtml.htmlToDOM('<div id="'+lId+'" class="NePasImprimer"></div>');var lDivFrere=window.GApplication&&window.GApplication.getIdConteneur?GHtml.getElement(GApplication.getIdConteneur()):null;if(lDivFrere&&lDivFrere.parentNode){lDivFrere.parentNode.insertBefore(lElement,lDivFrere);} else{document.body.appendChild(lElement);}
  Invocateur.evenement('creationZoneFenetre',lElement);if($.fn.jIEDesactiverMenuContextuel){$(lElement).jIEDesactiverMenuContextuel();}}
  return lElement;};ZoneFenetre.ajouterFenetre=function(aId,aZIndex){if(GHtml.elementExiste(aId)){ZoneFenetre.enleverFenetre(aId);GLog.addLog('ZoneFenetre.prototype.ajouterFenetre : la fenetre '+aId+' existe déjà!');}
  var lZIndex=aZIndex||1100;GHtml.addHtml(ZoneFenetre.getElementZoneFenetre(),'<div id="'+aId+'" style="position:absolute; display:none; z-index:'+lZIndex+'"></div>');if($.fn.jIEInterdireSelectionTexte){$('#'+aId.escapeJQ()).jIEInterdireSelectionTexte();}};ZoneFenetre.enleverFenetre=function(aId){var lElement=GHtml.getElement(aId);if(GHtml.estElement(lElement)&&lElement.parentNode&&(lElement.parentNode.id===ZoneFenetre.idZoneFenetre)){$(lElement).remove();} else{GLog.addLog('erreur enleverFenetre de '+aId);}};ZoneFenetre.etendreEnFenetre=function(aClass,aParam){if(!aClass||!aClass.prototype){return;}
  var lParam=Object.assign({zIndex:1000},aParam);aClass.prototype.__estFenetreVolante=true;aClass.prototype.getZIndex=function(){return lParam.zIndex;};aClass.prototype.avecEventResizeNavigateur=function(){return false;};};module.exports=ZoneFenetre;},fn:"iezonefenetre.js"});;
  IE.fModule({f:function(exports,require,module,global){var GLog=require('IELog.js');var MethodesObjet=require('MethodesObjet.js');var GHtml=require('_ObjetHtml.js').GHtml;function _ObjetPosition(){}
  _ObjetPosition.prototype.getWidth=function(aId){var lElement=GHtml.getElement(aId);return GHtml.estElement(lElement)?lElement.offsetWidth:0;};_ObjetPosition.prototype.getHeight=function(aId){var lElement=GHtml.getElement(aId);return GHtml.estElement(lElement)?lElement.offsetHeight:0;};_ObjetPosition.prototype.getLeft=function(aId){var lLeft=0;try{GNavigateur.bloquerResize=true;var lElement=GHtml.getElement(aId);var lEstPopup=false;while(GHtml.estElement(lElement)&&!lEstPopup){lLeft+=lElement.offsetLeft-lElement.scrollLeft;lElement=lElement.offsetParent;}} finally{GNavigateur.bloquerResize=false;}
  return lLeft+document.body.scrollLeft;};_ObjetPosition.prototype.getTop=function(aId){var lTop=0;try{GNavigateur.bloquerResize=true;var lElement=GHtml.getElement(aId);while(GHtml.estElement(lElement)){lTop+=lElement.offsetTop-lElement.scrollTop;lElement=lElement.offsetParent;}} finally{GNavigateur.bloquerResize=false;}
  return lTop+document.body.scrollTop;};_ObjetPosition.prototype.setWidth=function(aId,aWidth,aAjuster,aFormat){try{if(aWidth===undefined||aWidth===null||isNaN(aWidth)){GLog.addLog('setWidth invalide : '+aWidth);return;}
  var lElement=GHtml.getElement(aId);if(!lElement||!lElement.style){return;}
  var lWidthEnString=MethodesObjet.isString(aWidth);aFormat=!aFormat&&!lWidthEnString?'px':aFormat;if(lWidthEnString&&aWidth==='auto'){lElement.style.width=aWidth;} else{aWidth=Math.max(0,aWidth);lElement.style.width=aWidth+aFormat;}
  if(aAjuster&&(aFormat==='px')&&GHtml.getDisplay(lElement)){var lWidth=this.getWidth(lElement);if(aWidth!==lWidth){lElement.style.width=Math.max(0,aWidth-(lWidth-aWidth))+aFormat;}}} catch(e){}};_ObjetPosition.prototype.setHeight=function(aId,aHeight,aAjuster,aFormat){try{if(aHeight===undefined||aHeight===null||isNaN(aHeight)){GLog.addLog('setHeight invalide : '+aHeight);return;}
  var lElement=GHtml.getElement(aId);if(!lElement||!lElement.style){return;}
  var lHeightEnString=MethodesObjet.isString(aHeight);aFormat=!aFormat&&!lHeightEnString?'px':aFormat;if(lHeightEnString&&aHeight==='auto'){lElement.style.height=aHeight;} else{aHeight=Math.max(0,aHeight);lElement.style.height=aHeight+aFormat;}
  if(aAjuster&&(aFormat==='px')&&GHtml.getDisplay(lElement)){var lHeight=this.getHeight(lElement);if(aHeight!==lHeight){lElement.style.height=Math.max(0,aHeight-(lHeight-aHeight))+aFormat;}}} catch(e){}};_ObjetPosition.prototype.setLeft=function(aId,aLeft,aAjuster,aFormat){aFormat=!aFormat?'px':aFormat;try{if(aLeft===undefined||aLeft===null||isNaN(aLeft)){GLog.addLog('setLeft invalide : '+aLeft);return;}
  var lElement=GHtml.getElement(aId);if(!lElement||!lElement.style){return;}
  aLeft=isNaN(aLeft)?0:aLeft;lElement.style.left=aLeft+aFormat;if(aAjuster&&(aFormat==='px')&&GHtml.getDisplay(lElement)){var lLeft=this.getLeft(lElement);if(aLeft!==lLeft){lElement.style.left=aLeft-(lLeft-aLeft)+aFormat;}}} catch(e){}};_ObjetPosition.prototype.setTop=function(aId,aTop,aAjuster,aFormat){aFormat=!aFormat?'px':aFormat;try{if(aTop===undefined||aTop===null||isNaN(aTop)){GLog.addLog('setTop invalide : '+aTop);return;}
  var lElement=GHtml.getElement(aId);if(!lElement||!lElement.style){return;}
  aTop=isNaN(aTop)?0:aTop;lElement.style.top=aTop+aFormat;if(aAjuster&&(aFormat==='px')&&GHtml.getDisplay(lElement)){var lTop=this.getTop(lElement);if(aTop!==lTop){lElement.style.top=aTop-(lTop-aTop)+aFormat;}}} catch(e){}};_ObjetPosition.prototype.setPosition=function(aId,aLeft,aTop,aAjuster,aFormat){this.setLeft(aId,aLeft,aAjuster,aFormat);this.setTop(aId,aTop,aAjuster,aFormat);};_ObjetPosition.prototype.centrer=function(aId,aIdPere,aClient){var lLeft,lTop,lWidth,lHeight;if(!aIdPere){lLeft=window.pageXOffset||0;lTop=window.pageYOffset||0;if(document.documentElement){lLeft=lLeft||document.documentElement.scrollLeft;lTop=lTop||document.documentElement.scrollTop;}
  if(GNavigateur.isTactile&&window.innerHeight){lWidth=window.innerWidth;lHeight=window.innerHeight;} else if(!aClient){lWidth=GNavigateur.EcranL;lHeight=GNavigateur.EcranH;} else{lWidth=GNavigateur.ClientL;lHeight=GNavigateur.ClientH;}} else{lLeft=this.getLeft(aIdPere);lTop=this.getTop(aIdPere);lWidth=this.getWidth(aIdPere);lHeight=this.getHeight(aIdPere);}
  var lWidthId=this.getWidth(aId),lHeightId=this.getHeight(aId);if(lWidthId*lHeightId){this.setPosition(aId,Math.max(0,lLeft+(lWidth-lWidthId)/2),Math.max(0,lTop+(lHeight-lHeightId)/2),true);}};_ObjetPosition.prototype.setScrollTop=function(aId,aScrollTop){var E=GHtml.getElement(aId);if(E&&GHtml.estElement(E)){E.scrollTop=aScrollTop;}};_ObjetPosition.prototype.setTaille=function(aId,aWidth,aHeight,aFormat){this.setWidth(aId,aWidth,aFormat);this.setHeight(aId,aHeight,aFormat);};_ObjetPosition.prototype.positionDansZone=function(aPosition,aId){var X1=this.getLeft(aId);var X2=X1+this.getWidth(aId);var Y1=this.getTop(aId);var Y2=Y1+this.getHeight(aId);return aPosition&&(aPosition.x>X1)&&(aPosition.x<X2)&&(aPosition.y>Y1)&&(aPosition.y<Y2);};_ObjetPosition.prototype.estEnCollision=function(aId1,aId2){var E1=GHtml.getElement(aId1);var E2=GHtml.getElement(aId2);if(!!E1&&!!E2){var x1=this.getLeft(aId1);var y1=this.getTop(aId1);var h1=this.getHeight(aId1);var w1=this.getWidth(aId1);var b1=y1+h1;var r1=x1+w1;var x2=this.getLeft(aId2);var y2=this.getTop(aId2);var h2=this.getHeight(aId2);var w2=this.getWidth(aId2);var b2=y2+h2;var r2=x2+w2;return!(b1<y2||y1>b2||r1<x2||x1>r2);}
  return false;};_ObjetPosition.prototype.getPositionEventJQuery=function(aEvent){if(!aEvent){
  return{x:0,y:0};}
  if(aEvent.pageX!==undefined){return{x:Math.round(aEvent.pageX),y:Math.round(aEvent.pageY)};}
  if(aEvent.originalEvent&&aEvent.originalEvent.changedTouches&&aEvent.originalEvent.changedTouches[0]){return{x:aEvent.originalEvent.changedTouches[0].pageX||0,y:aEvent.originalEvent.changedTouches[0].pageY||0};}
  ;return{x:0,y:0};};module.exports._ObjetPosition=_ObjetPosition;module.exports.GPosition=new _ObjetPosition();},fn:"_objetposition.js"});;
  IE.fModule({f:function(exports,require,module,global){var GLog=require('IELog.js');var MethodesObjet=require('MethodesObjet.js');var lHtml=require('_ObjetHtml.js');var ZoneFenetre=require('IEZoneFenetre.js')
  ;MethodesObjet.heritagePrototype(ObjetHtml_Espace,lHtml._ObjetHtml);function ObjetHtml_Espace(){this.inheritedCreate();this._demarrerOmbreFocus();}
  ObjetHtml_Espace.prototype.estTextNode=function(aElement){return aElement&&(aElement.nodeType===3);};ObjetHtml_Espace.prototype.elementExisteByName=function(aElement){return(typeof aElement==='object')||document.getElementsByName(aElement)?true:false;};ObjetHtml_Espace.prototype.estNoeudDeType=function(aElement,aTypeParent){var lElement=this.getElement(aElement);return this.estElement(lElement)&&(lElement.nodeName.toUpperCase()===aTypeParent.toUpperCase());};ObjetHtml_Espace.prototype.getParent=function(aElement){var lElement=this.getElement(aElement);if(this.estElement(lElement)){if(lElement.parentElement){return lElement.parentElement;}
  if(lElement.parentNode){return lElement.parentNode;}}
  return null;};ObjetHtml_Espace.prototype.creerElementDOM=function(aTypeBalise){var lElement=document.createElement(aTypeBalise);if(!lElement){
  return null;}
  if(aTypeBalise==='table'){lElement.setAttribute('border',0);lElement.setAttribute('cellPadding',0);lElement.setAttribute('cellSpacing',0);}
  return lElement;};ObjetHtml_Espace.prototype.getTextesDeNode=function(aId){var lElement=this.getElement(aId);var lResult=[],i;try{if(GHtml.estTextNode(lElement)){lResult.push(lElement.nodeValue);} else if(GHtml.estElement(lElement)&&lElement.childNodes){for(i=0;i<lElement.childNodes.length;i++){lResult=lResult.concat(GHtml.getTextesDeNode(lElement.childNodes[i]));}}} catch(e){GLog.addLog('erreur getTextesDeNode : '+e,null,GLog.genre.Erreur);}
  return lResult;};ObjetHtml_Espace.prototype.getElementEnFocus=function(){try{return document.activeElement;} catch(e){return null;}};ObjetHtml_Espace.prototype.getValueInt=function(aId){return parseInt(this.getValue(aId),10);};ObjetHtml_Espace.prototype.getCheckBox=function(aId){var E=this.getElement(aId);if(E){return E.checked;}};ObjetHtml_Espace.prototype.setLien=function(aId,aValue){var E=this.getElement(aId);if(E&&(E.tagName.toUpperCase()==='A')){E.href=aValue;}};ObjetHtml_Espace.prototype.setUrl=function(aUrl){var lArray=window.location.href.split('?');var lUrl=lArray[0]+aUrl;if(lArray.length>1){lUrl+='?'+lArray[1];}
  window.location.href=lUrl;};ObjetHtml_Espace.prototype.setSelectionEdit=function(aId,aBegin,aEnd){if(this.elementExiste(aId)){try{if(this.getDisplay(aId)){var E=this.getElement(aId);if(E){var begin=MethodesObjet.isNumber(aBegin)?aBegin:0,end=MethodesObjet.isNumber(aEnd)?aEnd:E.value.length;if(E.setSelectionRange){E.setSelectionRange(begin,end);} else if(E.createTextRange){var range=E.createTextRange();range.collapse(true);range.moveEnd('character',end);range.moveStart('character',begin);range.select();}}}} catch(e){}}};ObjetHtml_Espace.prototype.setCursorAtEnd=function(aId){try{var E=this.getElement(aId);if(E&&E.value!==undefined){var end=E.value.length;this.setSelectionEdit(E,end,end);}} catch(e){}};ObjetHtml_Espace.prototype.setTabIndex=function(aId,aTabIndex){var E=this.getElement(aId);if(E){E.tabIndex=aTabIndex;}};ObjetHtml_Espace.prototype.setSelection=function(aId,aSelection){var E=this.getElement(aId);if(E){E.selectedIndex=aSelection;}};ObjetHtml_Espace.prototype.setReadOnly=function(aId,aReadOnly){var E=this.getElement(aId);if(E){E.readOnly=aReadOnly;}};ObjetHtml_Espace.prototype.setPassword=function(aId,aPassword){var lType=aPassword?'password':'text',E;try{E=this.getElement(aId);if(E&&E.type){E.type=lType;}} catch(e){var newElm=document.createElement('span');newElm.innerHTML='<input id="'+E.id+'" type="'+lType+'" name="'+E.name+'" class="'+E.className+'" size="'+E.size+'" onchange="'+E.onchange+'" onKeyup="'+E.onkeyup+'">';newElm=newElm.firstChild;E.parentNode.replaceChild(newElm,E);}};ObjetHtml_Espace.prototype.inverserCheckBox=function(aId){this.setCheckBox(aId,!this.getCheckBox(aId));};ObjetHtml_Espace.prototype.detruireCellule=function(aId){this.setHtml(aId,'');var GStyle=require('_ObjetStyle.js').GStyle;var GPosition=require('_ObjetPosition.js').GPosition;GPosition.setPosition(aId,0,0);GStyle.setVisible(aId,false);};ObjetHtml_Espace.prototype.viderCellule=function(aId){this.setHtml(aId,'');};ObjetHtml_Espace.prototype.composePostIt=function(aMessage){return aMessage?'<div style="width: 18px; height: 18px; top: -2; overflow: hidden"><div class="Image_PostIt" title="'+aMessage+'" onmouseover="GPosition.setLeft (this, -72)" onmouseout="GPosition.setLeft (this, 0)">&nbsp;</div></div>':'&nbsp;';};ObjetHtml_Espace.prototype.retaillerImage=function(aId,aWidth,aHeight){if(document.images[aId].width>document.images[aId].height){document.images[aId].width=aWidth;} else{document.images[aId].height=aHeight;}};ObjetHtml_Espace.prototype._demarrerOmbreFocus=function(){$(document).off('focusin._OmbreFocus focusout._OmbreFocus').on({'focusin._OmbreFocus':function(aEvent){if(aEvent.originalEvent&&aEvent.originalEvent.__ombreFocusAffectee__){return;}
  var lCouleur=$(this).data('couleurFocus');if(!lCouleur){var lConteneurFenetre=$('#'+ZoneFenetre.idZoneFenetre.escapeJQ()).get(0);lCouleur=lConteneurFenetre&&$.contains(lConteneurFenetre,this)?GCouleur.fenetre.cumul:GCouleur.cumul;}
  $(this).css('outline',(lCouleur||GCouleur.noir)+' dotted 1px');if(aEvent.originalEvent){aEvent.originalEvent.__ombreFocusAffectee__=true;}},'focusout._OmbreFocus':function(){$(this).css('outline','none');}},'.OmbreFocus');};var GHtml=new ObjetHtml_Espace();lHtml.GHtml=GHtml;module.exports={ObjetHtml_Espace:ObjetHtml_Espace,GHtml:GHtml};},fn:"objethtml_espace.js"});;
  IE.fModule({f:function(exports,require,module,global){if(IE.estMobile){module.exports=require('ObjetHtml_Mobile.js').GHtml;} else{module.exports=require('ObjetHtml_Espace.js').GHtml;}},fn:"ghtml.js"});;
  IE.fModule({f:function(exports,require,module,global){var GLog=require('IELog.js');var MethodesObjet=require('MethodesObjet.js');var GHtml=require('GHtml.js');var GStyle=require('GStyle.js');var lPosition=require('_ObjetPosition.js');var GPosition=lPosition.GPosition
  ;MethodesObjet.heritagePrototype(ObjetPosition_Espace,lPosition._ObjetPosition);function ObjetPosition_Espace(){}
  ObjetPosition_Espace.prototype.setBackgroundPosition=function(aId,aLeft,aTop,aFormat){aFormat=!aFormat?'px':aFormat;var lElement=GHtml.getElement(aId);if(lElement&&lElement.style){var lLeft=aLeft||0;var lTop=aTop||0;lElement.style.backgroundPosition=lLeft+aFormat+' '+lTop+aFormat;}};function _avecChevauchement(aPosition,aPositionSource){return(aPosition.x<(aPositionSource.x+aPositionSource.width))&&((aPosition.x+aPosition.width)>aPositionSource.x)&&(aPosition.y<(aPositionSource.y+aPositionSource.height))&&((aPosition.y+aPosition.height)>aPositionSource.y);}
  function _getPositionElement(aElement){var lX=GPosition.getLeft(aElement),lY=GPosition.getTop(aElement),lWidth=GPosition.getWidth(aElement),lHeight=GPosition.getHeight(aElement);return{x:lX,y:lY,width:lWidth,height:lHeight};}
  function _modifierPositionSiChevauchement(aPositionMobile,aPositionSource){if((aPositionMobile.x+aPositionMobile.width)>GNavigateur.EcranL){aPositionMobile.x=GNavigateur.EcranL-aPositionMobile.width;}
  if((aPositionMobile.y+aPositionMobile.height)>GNavigateur.EcranH){aPositionMobile.y=GNavigateur.EcranH-aPositionMobile.height;}
  if(_avecChevauchement(aPositionMobile,aPositionSource)){aPositionMobile.x=aPositionSource.x+aPositionSource.width+6;if(aPositionMobile.x+aPositionMobile.width>GNavigateur.EcranL){aPositionMobile.x=Math.max(aPositionSource.x-aPositionMobile.width,1);}}
  if(aPositionMobile.x+aPositionMobile.width>GNavigateur.EcranL){aPositionMobile.x=GNavigateur.EcranL-aPositionMobile.width;}
  if(aPositionMobile.x<6){aPositionMobile.x=6;}
  if(_avecChevauchement(aPositionMobile,aPositionSource)){aPositionMobile.y=aPositionSource.y+aPositionSource.height+6;if(aPositionMobile.y+aPositionMobile.height>GNavigateur.EcranH){aPositionMobile.y=Math.max(aPositionSource.y-aPositionMobile.height,1);}}
  if(aPositionMobile.y+aPositionMobile.height>GNavigateur.EcranH){aPositionMobile.y=GNavigateur.EcranH-aPositionMobile.height;}}
  ObjetPosition_Espace.prototype.deplacerSiChevauchement=function(aIdMobile,aIdReference){var lPosition=_getPositionElement(aIdMobile),lPositionSource=_getPositionElement(aIdReference);_modifierPositionSiChevauchement(lPosition,lPositionSource);this.setPosition(aIdMobile,Math.max(0,lPosition.x),Math.max(0,lPosition.y),true);};ObjetPosition_Espace.prototype.placerFiche=function(aId,aIdSource,aVisible,aDecalage){var lPositionSource=_getPositionElement(aIdSource);this.placerFicheSource(aId,lPositionSource.x,lPositionSource.x+lPositionSource.width,lPositionSource.y,lPositionSource.y+lPositionSource.height,aVisible,aDecalage);};function _ramenerPositionDansLAffichage(aPosition){if(aPosition.x+aPosition.width>GNavigateur.EcranL){aPosition.x=GNavigateur.EcranL-aPosition.width;}
  if(aPosition.y+aPosition.height>GNavigateur.EcranH){aPosition.y=GNavigateur.EcranH-aPosition.height;}}
  ObjetPosition_Espace.prototype.placerFicheSource=function(aId,aX1Source,aX2Source,aY1Source,aY2Source,aVisible,aDecalage){var lVisible=aVisible===null||aVisible===undefined?GStyle.getVisible(aId):aVisible,lDecalage=$.extend({x:6,y:0},aDecalage);var lPosition=_getPositionElement(aId),lPositionSource={x:aX1Source,y:aY1Source,width:aX2Source-aX1Source,height:aY2Source-aY1Source};_ramenerPositionDansLAffichage(lPosition);if(!lVisible||_avecChevauchement(lPosition,lPositionSource)){lPosition.x=lPositionSource.x+lPositionSource.width;if(lPosition.x+lPosition.width+lDecalage.x>GNavigateur.EcranL){lPosition.x=Math.max(aX1Source-lPosition.width-lDecalage.x,1);} else{lPosition.x+=lDecalage.x;}
  if(!lVisible){lPosition.y=lPositionSource.y;if(lPosition.y+lPosition.height+lDecalage.y>GNavigateur.EcranH){lPosition.y=Math.max(lPositionSource.y+lPositionSource.height-lPosition.height-lDecalage.y,1);} else{lPosition.y+=lDecalage.y;}}}
  _modifierPositionSiChevauchement(lPosition,lPositionSource);_ramenerPositionDansLAffichage(lPosition);if(lPosition.x<10){lPosition.x=10;}
  this.setPosition(aId,Math.max(0,lPosition.x),Math.max(0,lPosition.y),true);};ObjetPosition_Espace.prototype.placer=function(aId,aLeft,aTop,aEcartBordEcran){var lX1=MethodesObjet.isNumber(aLeft)?aLeft:GNavigateur.SourisX;var lX2=lX1+this.getWidth(aId);var lY1=MethodesObjet.isNumber(aTop)?aTop:GNavigateur.SourisY;var lY2=lY1+this.getHeight(aId);var lEcartBordEcran=$.extend({x:2,y:2},aEcartBordEcran);if(lX2+lEcartBordEcran.x>GNavigateur.EcranL){lX1=GNavigateur.EcranL-this.getWidth(aId)-lEcartBordEcran.x;}
  if(lY2+lEcartBordEcran.y>GNavigateur.EcranH){lY1=GNavigateur.EcranH-this.getHeight(aId)-lEcartBordEcran.y;}
  this.setPosition(aId,Math.max(lEcartBordEcran.x,lX1),Math.max(lEcartBordEcran.y,lY1),true);};ObjetPosition_Espace.prototype.sourisEstSurZone=function(aId){return this.positionDansZone({x:GNavigateur.SourisX,y:GNavigateur.SourisY},aId);};ObjetPosition_Espace.prototype.getScrollTop=function(aId){var E=GHtml.getElement(aId);return E?E.scrollTop:0;};ObjetPosition_Espace.prototype.setSelect=function(aId){try{var E=GHtml.getElement(aId);if(E){E.select();}} catch(e){}};ObjetPosition_Espace.prototype.declencherResizeCommun=function(aIds,aModificateurs,aPourcentages){var lTabElements=[],i,lElements,lModificateur,lPourcent,lTaille,lDiv,lElement,lPourDiv=false;for(i=0;i<aIds.length;i++){lElement=GHtml.getElement(aIds[i]);if(GHtml.estNoeudDeType(lElement,'td')){lElements=_getParentsDeTd(lElement);if(lElements){if(GNavigateur.isTactile){GPosition.setHeight(lElements.td,100,false,'%');GPosition.setHeight(lElements.table,100,false,'%');GPosition.setHeight(lElements.div,100,false,'%');} else{lTabElements.push(lElements);lElements.parent=lElements.div;lElements.elementResize=lElements.td;GPosition.setHeight(lElements.div,1);GPosition.setHeight(lElements.table,1);GPosition.setHeight(lElements.td,1);}}} else if(GHtml.estNoeudDeType(lElement,'div')){lDiv=GHtml.getParent(lElement);lPourDiv=true;if(GHtml.estNoeudDeType(lDiv,'div')){if(GNavigateur.isTactile){GPosition.setHeight(lElement,100,false,'%');} else{lTabElements.push({elementResize:lElement,parent:lDiv});GPosition.setHeight(lElement,0);}}}}
  if(GNavigateur.isTactile){return;}
  for(i=0;i<lTabElements.length;i++){lModificateur=aModificateurs&&aModificateurs[i]?aModificateurs[i]:0;lPourcent=aPourcentages&&aPourcentages[i]>0&&aPourcentages[i]<=100?aPourcentages[i]:100;if(lPourDiv){if(i===0){lTabElements[i].styleHeight=lTabElements[i].parent.style.height;}
  lTabElements[i].parent.style.height='0px';lTaille=Math.max(0,GPosition.getHeight(GHtml.getParent(lTabElements[i].parent))+lModificateur);} else{if(i===0){lTabElements[i].styleHeight='auto';}
  lTaille=Math.max(0,GPosition.getHeight(GHtml.getParent(lTabElements[i].div))-GPosition.getHeight(lTabElements[i].table)+GPosition.getHeight(lTabElements[i].td)+lModificateur);}
  lTabElements[i].height=lTaille*lPourcent/100;}
  for(i=0;i<lTabElements.length;i++){GPosition.setHeight(lTabElements[i].elementResize,lTabElements[i].height);if(lTabElements[i].styleHeight!==undefined){lTabElements[i].parent.style.height=lTabElements[i].styleHeight;}}};function _getHauteurFilsDeDiv(aDiv){var i,lFils,lResult=0;for(i=0;i<aDiv.childNodes.length;i++){lFils=aDiv.childNodes[i];if(GHtml.elementExiste(lFils)&&(lFils.offsetHeight!==0)){lResult+=$(lFils).outerHeight();}}
  return lResult;}
  ObjetPosition_Espace.prototype.declencherResizeFreres=function(aIds,aModificateurs,aPourcentages){var lTabElements=[];var lTable=null;var lDiv=null,lPourDiv=false,i,lElements,lTaille,lModificateur,lPourcent,lElement;for(i=0;i<aIds.length;i++){lElement=GHtml.getElement(aIds[i]);if(GHtml.estNoeudDeType(lElement,'td')){lElements=_getParentsDeTd(lElement);if(lElements){if(GNavigateur.isTactile){GPosition.setHeight(lElements.td,aPourcentages&&aPourcentages[i]?aPourcentages[i]:100,false,'%');GPosition.setHeight(lElements.table,100,false,'%');GPosition.setHeight(lElements.div,100,false,'%');} else{lTabElements.push(lElements.td);if(i===0){lTable=lElements.table;lDiv=lElements.div;GPosition.setHeight(lElements.div,1);GPosition.setHeight(lElements.table,1);}
  GPosition.setHeight(lElements.td,1);}}} else if(GHtml.estNoeudDeType(lElement,'div')){lDiv=GHtml.getParent(lElement);lPourDiv=true;if(GHtml.estNoeudDeType(lDiv,'div')){if(GNavigateur.isTactile){GPosition.setHeight(lElement,100,false,'%');} else{lTabElements.push(lElement);GPosition.setHeight(lElement,0);}}}}
  if(GNavigateur.isTactile){return;}
  if(!lDiv){
  return;}
  var lStyleHeightDiv;lTaille=0;if(!lPourDiv){var lHeightTDs=0;for(i=0;i<lTabElements.length;i++){lHeightTDs+=GPosition.getHeight(lTabElements[i]);}
  lTaille=GPosition.getHeight(GHtml.getParent(lDiv))-GPosition.getHeight(lTable)+lHeightTDs;lStyleHeightDiv='auto';} else{lStyleHeightDiv=lDiv.style.height;GPosition.setHeight(lDiv,$(GHtml.getParent(lDiv)).height(),true);lTaille=$(lDiv).height()-_getHauteurFilsDeDiv(lDiv);}
  for(i=0;i<lTabElements.length;i++){lModificateur=aModificateurs&&aModificateurs[i]?aModificateurs[i]:0;lPourcent=aPourcentages&&aPourcentages[i]>0&&aPourcentages[i]<=100?aPourcentages[i]:100;GPosition.setHeight(lTabElements[i],Math.max(0,lTaille*lPourcent/100+lModificateur));}
  lDiv.style.height=lStyleHeightDiv;};ObjetPosition_Espace.prototype.declencherResize=function(aId,aModificateur,aForcerTailleEnTactile){var lModificateur=aModificateur||0;var lElement=GHtml.getElement(aId);if(!GHtml.elementExiste(lElement)){return;}
  if(GHtml.estNoeudDeType(lElement,'td')){var lElements=_getParentsDeTd(lElement);if(lElements){if(GNavigateur.isTactile&&!aForcerTailleEnTactile){GPosition.setHeight(lElements.td,100,false,'%');GPosition.setHeight(lElements.table,100,false,'%');GPosition.setHeight(lElements.div,100,false,'%');return;}
  GPosition.setHeight(lElements.div,1);GPosition.setHeight(lElements.table,1);GPosition.setHeight(lElements.td,1);_appliquerRetaillageTd(lElements.td,lElements.table,lElements.div,lModificateur);}} else if(GHtml.estNoeudDeType(lElement,'div')){var lParentDiv=GHtml.getParent(lElement);if(GHtml.estNoeudDeType(lParentDiv,'div')){if(GNavigateur.isTactile&&!aForcerTailleEnTactile){GPosition.setHeight(lElement,100,false,'%');GPosition.setHeight(lParentDiv,100,false,'%');return;}
  GPosition.setHeight(lParentDiv,0);GPosition.setHeight(lParentDiv,$(GHtml.getParent(lParentDiv)).height(),true);GPosition.setHeight(lElement,0);var lTailleTotale=$(lParentDiv).height();GPosition.setHeight(lElement,Math.max(0,lTailleTotale-_getHauteurFilsDeDiv(lParentDiv)+lModificateur));lParentDiv.style.height='auto';}} else{GLog.addLog(aId+' : ni DIV ni TD');}};function _appliquerRetaillageTd(aTd,aTable,aDiv,aModificateur){var lHeightDiv=GPosition.getHeight(GHtml.getParent(aDiv));GPosition.setHeight(aTd,Math.max(0,lHeightDiv-GPosition.getHeight(aTable)+GPosition.getHeight(aTd)+aModificateur));aDiv.style.height='auto';}
  function _getParentsDeTd(aId){var lElement=GHtml.getElement(aId);if(GHtml.estNoeudDeType(lElement,'td')){var lTable=lElement;while((!lTable)||!GHtml.estNoeudDeType(lTable,'table')){lTable=GHtml.getParent(lTable);}
  var lDiv=GHtml.getParent(lTable);if(GHtml.estNoeudDeType(lDiv,'div')){return{td:lElement,table:lTable,div:lDiv};}}
  return null;}
  lPosition.GPosition=new ObjetPosition_Espace();module.exports.ObjetPosition_Espace=ObjetPosition_Espace;module.exports.GPosition=lPosition.GPosition;},fn:"objetposition_espace.js"});;
  IE.fModule({f:function(exports,require,module,global){if(IE.estMobile){module.exports=require('ObjetPosition_Mobile.js').GPosition;} else{module.exports=require('ObjetPosition_Espace.js').GPosition;}},fn:"gposition.js"});;
  IE.fModule({f:function(exports,require,module,global){var EEvent={SurError:1,SurResize:2,SurPreResize:3,SurPostResize:4,SurClick:5,SurScroll:6,SurKeyDown:7,SurKeyUp:8,SurKeyPress:9,SurMouseMove:10,SurMouseDown:11,SurSelectStart:12,SurMouseUp:13,SurFinDeplacement:14,SurBlur:15,SurChange:16,SurDblClick:17,SurFocus:18,SurFocusIn:19,SurFocusOut:20,SurLoad:21,SurUnload:22,SurMouseOut:23,SurMouseOver:24,SurFinResize:25};module.exports=EEvent;},fn:"enumere_event.js"});;
  IE.fModule({f:function(exports,require,module,global){require('produit/css/Wai.css');var GUID=require('GUID.js');var GLog=require('IELog.js');var GTraductions=require('ObjetTraduction.js');var EGenreObjet={Aide:1,Tableau:2,AvecValidation:3,BarreOnglets:4,NavigationHorizontal:5,NavigationVertical:6,NavigationHorizontalAvecValidation:7,NavigationVerticalAvecValidation:8,CalendrierNavigation:9,CalendrierPrecedent:10,CalendrierSuivant:11,DetailEvenement:12,TitreDetailEvenement:13,MenuContextuel:14,NavigationMenuContextuel:15,AvecMenuContextuel:16,ItemDesactiver:17,AvecEdition:18,Tabulation:19,Supprimer:20,Fenetre:21,NouvelElement:22,BarreOngletsPrincipal:23,SousOnglets:24,ValidezEvenement:25,RetourDebutFenetre:26,FenetreChoix:27,ObjetSaisieVide:28};var EGenreRole={Application:1,Window:2,Textbox:3,Link:5,Combobox:6,Option:7,Checkbox:8,Radio:10,Radiogroup:11,Button:12,Progressbar:13,Tree:17,Treeitem:19,Presentation:20,Group:21,Grid:22,Tab:24,Tabpanel:25,Tablist:26,Rowheader:30,Columnheader:31,List:32,Listitem:33,Menu:34,Menubar:35,Menuitem:36,Alert:37,Alertdialog:38,Dialog:39,Gridcell:40,Log:41,Marquee:42,Menuitemcheckbox:43,Menuitemradio:44,Scrollbar:45,Slider:46,Spinbutton:47,Status:48,Timer:49,Tooltip:50,Listbox:51,Treegrid:52,Article:53,Definition:54,Directory:55,Document:56,Heading:57,Img:58,Math:59,Note:60,Region:61,Row:62,Separator:63,Toolbar:64,Banner:65,Complementary:66,Contentinfo:67,Form:68,Main:69,Navigation:70,Search:71};var EGenreAttribut={activedescendant:0,atomic:1,autocomplete:2,busy:3,checked:4,controls:5,describedby:6,disabled:7,dropeffect:8,expanded:9,flowto:10,grabbed:11,haspopup:12,hidden:13,invalid:14,label:15,labelledby:16,level:17,live:18,multiline:19,multiselectable:20,orientation:21,owns:22,posinset:23,pressed:24,readonly:25,relevant:26,required:27,selected:28,setsize:29,sort:30,valuemax:31,valuemin:32,valuenow:33,valuetext:34};function ObjetWAI(){var i;this.idMessagesAide=GUID.getId();this.InfoWai=[];this.InfoWai[EGenreObjet.Aide]=GTraductions.getValeur('Navigation.Aide');this.InfoWai[EGenreObjet.Tableau]=GTraductions.getValeur('Navigation.Tableau');this.InfoWai[EGenreObjet.AvecValidation]=GTraductions.getValeur('Navigation.AvecValidation');this.InfoWai[EGenreObjet.BarreOnglets]=GTraductions.getValeur('Navigation.BarreOnglets');this.InfoWai[EGenreObjet.NavigationHorizontal]=GTraductions.getValeur('Navigation.NavigationHorizontal');this.InfoWai[EGenreObjet.NavigationVertical]=GTraductions.getValeur('Navigation.NavigationVertical');this.InfoWai[EGenreObjet.NavigationHorizontalAvecValidation]=GTraductions.getValeur('Navigation.NavigationHorizontalAvecValidation');this.InfoWai[EGenreObjet.NavigationVerticalAvecValidation]=GTraductions.getValeur('Navigation.NavigationVerticalAvecValidation');this.InfoWai[EGenreObjet.CalendrierNavigation]=GTraductions.getValeur('Navigation.CalendrierNavigation');this.InfoWai[EGenreObjet.CalendrierPrecedent]=GTraductions.getValeur('Navigation.CalendrierPrecedent');this.InfoWai[EGenreObjet.CalendrierSuivant]=GTraductions.getValeur('Navigation.CalendrierSuivant');this.InfoWai[EGenreObjet.ValidezEvenement]=GTraductions.getValeur('Navigation.ValidezEvenement');this.InfoWai[EGenreObjet.TitreDetailEvenement]=GTraductions.getValeur('Navigation.TitreDetailEvenement');this.InfoWai[EGenreObjet.MenuContextuel]=GTraductions.getValeur('Navigation.MenuContextuel');this.InfoWai[EGenreObjet.NavigationMenuContextuel]=GTraductions.getValeur('Navigation.NavigationMenuContextuel');this.InfoWai[EGenreObjet.ItemDesactiver]=GTraductions.getValeur('Navigation.ItemDesactiver');this.InfoWai[EGenreObjet.AvecEdition]=GTraductions.getValeur('Navigation.AvecEdition');this.InfoWai[EGenreObjet.Tabulation]=GTraductions.getValeur('Navigation.Tabulation');this.InfoWai[EGenreObjet.Supprimer]=GTraductions.getValeur('Navigation.Supprimer');this.InfoWai[EGenreObjet.Fenetre]=GTraductions.getValeur('Navigation.Fenetre');this.InfoWai[EGenreObjet.NouvelElement]=GTraductions.getValeur('Navigation.NouvelElement');this.InfoWai[EGenreObjet.BarreOngletsPrincipal]=GTraductions.getValeur('Navigation.BarreOngletsPrincipal');this.InfoWai[EGenreObjet.SousOnglets]=GTraductions.getValeur('Navigation.SousOnglets');this.InfoWai[EGenreObjet.RetourDebutFenetre]=GTraductions.getValeur('Navigation.RetourDebutFenetre');this.InfoWai[EGenreObjet.FenetreChoix]=GTraductions.getValeur('Navigation.FenetreChoix');this.InfoWai[EGenreObjet.ObjetSaisieVide]=GTraductions.getValeur('Navigation.ObjetSaisieVide');this.idInfoWai=[];var lThis=this;$(window).one('load',function(){$('body').append('<div id="'+lThis.idMessagesAide+'" role="presentation" aria-hidden="true" style="display:none;"></div>');for(i in EGenreObjet){lThis.idInfoWai[EGenreObjet[i]]=GUID.getId();$('#'+lThis.idMessagesAide.escapeJQ()).append('<span id="'+lThis.idInfoWai[EGenreObjet[i]]+'" class="wai_hidden" role="tooltip" aria-hidden="true">'+lThis.InfoWai[EGenreObjet[i]]+'</span>');}});this.WaiRole=[];this.WaiRole[EGenreRole.Window]='window';this.WaiRole[EGenreRole.Alert]='alert';this.WaiRole[EGenreRole.Alertdialog]='alertdialog';this.WaiRole[EGenreRole.Button]='button';this.WaiRole[EGenreRole.Checkbox]='checkbox';this.WaiRole[EGenreRole.Dialog]='dialog';this.WaiRole[EGenreRole.Gridcell]='gridcell';this.WaiRole[EGenreRole.Link]='link';this.WaiRole[EGenreRole.Log]='log';this.WaiRole[EGenreRole.Marquee]='marquee';this.WaiRole[EGenreRole.Menuitem]='menuitem';this.WaiRole[EGenreRole.Menuitemcheckbox]='menuitemcheckbox';this.WaiRole[EGenreRole.Menuitemradio]='menuitemradio';this.WaiRole[EGenreRole.Option]='option';this.WaiRole[EGenreRole.Progressbar]='progressbar';this.WaiRole[EGenreRole.Radio]='radio';this.WaiRole[EGenreRole.Scrollbar]='scrollbar';this.WaiRole[EGenreRole.Slider]='slider';this.WaiRole[EGenreRole.Spinbutton]='spinbutton';this.WaiRole[EGenreRole.Status]='status';this.WaiRole[EGenreRole.Tab]='tab';this.WaiRole[EGenreRole.Tabpanel]='tabpanel';this.WaiRole[EGenreRole.Textbox]='textbox';this.WaiRole[EGenreRole.Timer]='timer';this.WaiRole[EGenreRole.Tooltip]='tooltip';this.WaiRole[EGenreRole.Treeitem]='treeitem';this.WaiRole[EGenreRole.Combobox]='combobox';this.WaiRole[EGenreRole.Grid]='grid';this.WaiRole[EGenreRole.Listbox]='listbox';this.WaiRole[EGenreRole.Menu]='menu';this.WaiRole[EGenreRole.Menubar]='menubar';this.WaiRole[EGenreRole.Radiogroup]='radiogroup';this.WaiRole[EGenreRole.Tablist]='tablist';this.WaiRole[EGenreRole.Tree]='tree';this.WaiRole[EGenreRole.Treegrid]='treegrid';this.WaiRole[EGenreRole.Article]='article';this.WaiRole[EGenreRole.Columnheader]='columnheader';this.WaiRole[EGenreRole.Definition]='definition';this.WaiRole[EGenreRole.Directory]='directory';this.WaiRole[EGenreRole.Document]='document';this.WaiRole[EGenreRole.Group]='group';this.WaiRole[EGenreRole.Heading]='heading';this.WaiRole[EGenreRole.Img]='img';this.WaiRole[EGenreRole.List]='list';this.WaiRole[EGenreRole.Listitem]='listitem';this.WaiRole[EGenreRole.Math]='math';this.WaiRole[EGenreRole.Note]='note';this.WaiRole[EGenreRole.Presentation]='presentation';this.WaiRole[EGenreRole.Region]='region';this.WaiRole[EGenreRole.Row]='row';this.WaiRole[EGenreRole.Rowheader]='rowheader';this.WaiRole[EGenreRole.Separator]='separator';this.WaiRole[EGenreRole.Toolbar]='toolbar';this.WaiRole[EGenreRole.Application]='application';this.WaiRole[EGenreRole.Banner]='banner';this.WaiRole[EGenreRole.Complementary]='complementary';this.WaiRole[EGenreRole.Contentinfo]='contentinfo';this.WaiRole[EGenreRole.Form]='form';this.WaiRole[EGenreRole.Main]='main';this.WaiRole[EGenreRole.Navigation]='navigation';this.WaiRole[EGenreRole.Search]='search';this.WaiAttribut=[];this.WaiAttribut[EGenreAttribut.activedescendant]='aria-activedescendant';this.WaiAttribut[EGenreAttribut.atomic]='aria-atomic';this.WaiAttribut[EGenreAttribut.autocomplete]='aria-autocomplete';this.WaiAttribut[EGenreAttribut.busy]='aria-busy';this.WaiAttribut[EGenreAttribut.checked]='aria-checked';this.WaiAttribut[EGenreAttribut.controls]='aria-controls';this.WaiAttribut[EGenreAttribut.describedby]='aria-describedby';this.WaiAttribut[EGenreAttribut.disabled]='aria-disabled';this.WaiAttribut[EGenreAttribut.dropeffect]='aria-dropeffect';this.WaiAttribut[EGenreAttribut.expanded]='aria-expanded';this.WaiAttribut[EGenreAttribut.flowto]='aria-flowto';this.WaiAttribut[EGenreAttribut.grabbed]='aria-grabbed';this.WaiAttribut[EGenreAttribut.haspopup]='aria-haspopup';this.WaiAttribut[EGenreAttribut.hidden]='aria-hidden';this.WaiAttribut[EGenreAttribut.invalid]='aria-invalid';this.WaiAttribut[EGenreAttribut.label]='aria-label';this.WaiAttribut[EGenreAttribut.labelledby]='aria-labelledby';this.WaiAttribut[EGenreAttribut.level]='	aria-level';this.WaiAttribut[EGenreAttribut.live]='aria-live';this.WaiAttribut[EGenreAttribut.multiline]='aria-multiline';this.WaiAttribut[EGenreAttribut.multiselectable]='aria-multiselectable';this.WaiAttribut[EGenreAttribut.orientation]='aria-orientation';this.WaiAttribut[EGenreAttribut.owns]='aria-owns';this.WaiAttribut[EGenreAttribut.posinset]='aria-posinset';this.WaiAttribut[EGenreAttribut.pressed]='aria-pressed';this.WaiAttribut[EGenreAttribut.readonly]='aria-readonly';this.WaiAttribut[EGenreAttribut.relevant]='aria-relevant';this.WaiAttribut[EGenreAttribut.required]='aria-required';this.WaiAttribut[EGenreAttribut.selected]='aria-selected';this.WaiAttribut[EGenreAttribut.setsize]='aria-setsize';this.WaiAttribut[EGenreAttribut.sort]='aria-sort';this.WaiAttribut[EGenreAttribut.valuemax]='aria-valuemax';this.WaiAttribut[EGenreAttribut.valuemin]='aria-valuemin';this.WaiAttribut[EGenreAttribut.valuenow]='aria-valuenow';this.WaiAttribut[EGenreAttribut.valuetext]='aria-valuetext';}
  ObjetWAI.prototype.getInfo=function(AEnum){return this.InfoWai[AEnum];};ObjetWAI.prototype.getRole=function(AEnum){return'role="'+this.WaiRole[AEnum]+'"';};ObjetWAI.prototype.getAttribut=function(aEnum){return this.WaiAttribut[aEnum];};ObjetWAI.prototype.composeSpanRetour=function(aId){return'<span tabindex="0" class="wai_hidden" onfocus="'+aId+'.FocusSurPremierElement ()">'+this.getInfo(EGenreObjet.RetourDebutFenetre)+'</span>';};ObjetWAI.prototype.composeSpan=function(AParametre,AId){var LId=AId?'id="'+AId+'" tabIndex="-1" ':'';return typeof(AParametre)==='string'?'<span '+LId+'class="wai_hidden">'+AParametre+'</span>':'<span '+LId+'class="wai_hidden">'+this.getInfo(AParametre)+'</span>';};ObjetWAI.prototype.composeRole=function(AParametre){return typeof(AParametre)==='string'?'':this.getRole(AParametre);};ObjetWAI.prototype.composeAttribut=function(aParametre){if(aParametre.valeur&&typeof(aParametre.valeur)!=='string'){GLog.addLog('ObjetWAI.prototype.composeAttribut: mauvais type de parametre '+aParametre.genre+' => '+aParametre.valeur);}
  if(!aParametre.valeur||typeof(aParametre.valeur)!=='string'){return'';}
  var lValeur=aParametre.valeur.split("'").join("");lValeur=lValeur.split('"').join("");return typeof(aParametre.genre)==='string'?'':' '+this.getAttribut(aParametre.genre)+'="'+lValeur+'"';};ObjetWAI.prototype.remplace=function(AChaine,ACherche,ARemplace){return AChaine.replace(ACherche,ARemplace);};ObjetWAI.prototype.ajoutePoint=function(AChaine){return AChaine.trim().substring(AChaine.length-1,AChaine.length)==='.'?AChaine:AChaine+'. ';};ObjetWAI.prototype.formatHeure=function(AChaine){var result=AChaine;if(typeof(AChaine)==='string'){var LTemp=AChaine.split(GTraductions.getValeur('date.separateurHeure'));var LHeure=parseInt(LTemp[0]);var LMin=LTemp[1]?parseInt(LTemp[1]):0;result=LHeure+' '+((LHeure===1)?GTraductions.getValeur('WAI.heure'):GTraductions.getValeur('WAI.heures'));if(LMin!==0){result+=' '+(LMin+' '+(LMin===1)?GTraductions.getValeur('WAI.minute'):GTraductions.getValeur('WAI.minutes'));}}
  return result;};var GObjetWAI=new ObjetWAI();module.exports={GObjetWAI:GObjetWAI,ObjetWAI:ObjetWAI,EGenreObjet:EGenreObjet,EGenreRole:EGenreRole,EGenreAttribut:EGenreAttribut};},fn:"objetwai.js"});;
  IE.fModule({f:function(exports,require,module,global){var TypeThemeBouton={primaire:'themeBoutonPrimaire',secondaire:'themeBoutonSecondaire',neutre:'themeBoutonNeutre'};module.exports=TypeThemeBouton;},fn:"type_themebouton.js"});;
  IE.fModule({f:function(exports,require,module,global){require('Espace/Css/IEHtml.Bouton_Espace.css');require('Mobile/Css/IEHtml.Bouton_Mobile.css');var IEHtml=require('IEHtml.js');var GLog=require('IELog.js');var GHtml=require('GHtml.js');var ControleSaisieEvenement=require('ControleSaisieEvenement.js');var GObjetWAI=require('ObjetWAI.js').GObjetWAI;var EGenreRole=require('ObjetWAI.js').EGenreRole;var ToucheClavier=require('ToucheClavier.js');var TypeThemeBouton=require('Type_ThemeBouton.js');var MethodesObjet=require('MethodesObjet.js');IEHtml.addBalise('ie-bouton',function(aContexteCourant,aOutils){function _getCss(aSurvol){var lStyle={};var lColor=(lOptions.disabled?lOptions.couleurTexteInactif:aSurvol?lOptions.couleurTexteSurvol:lOptions.couleurTexte)||'';if(lColor){lStyle.color=lColor;}
  lColor=(lOptions.disabled?lOptions.couleurFondInactif:aSurvol?lOptions.couleurFondSurvol:lOptions.couleurFond)||'';if(lColor){lStyle.backgroundColor=lColor;}
  if(lOptions.tailleBordure>=0&&MethodesObjet.isNumber(lOptions.tailleBordure)){lStyle.borderWidth=lOptions.tailleBordure+'px';}
  lColor=(lOptions.disabled?lOptions.couleurBordureInactif:aSurvol?lOptions.couleurBordureSurvol:lOptions.couleurBordure)||'';if(lColor){lStyle.borderColor=lColor;}
  return lStyle;}
  function _estToucheValider(aNumeroTouche){return aNumeroTouche===ToucheClavier.Espace||aNumeroTouche===ToucheClavier.RetourChariot;}
  var lInnerHtml=aContexteCourant.node.innerHTML;var lBouton=GHtml.htmlToDOM('<button '+GObjetWAI.composeRole(EGenreRole.Button)+'>'+'</button>');var lJBouton=$(lBouton);var lOptions={disabled:false,theme:TypeThemeBouton.secondaire,tailleBordure:null,fontWeight:''};if(lInnerHtml==='...'){lOptions.theme=TypeThemeBouton.neutre;}
  if($(aContexteCourant.node).hasClass(TypeThemeBouton.primaire)){lOptions.theme=TypeThemeBouton.primaire;}
  var lImage=aContexteCourant.node.getAttribute('ie-image')||'';if(lImage){aContexteCourant.node.removeAttribute('ie-image');}
  var lImageIcon=aContexteCourant.node.getAttribute('ie-icon')||'';if(lImageIcon){aContexteCourant.node.removeAttribute('ie-icon');}
  if(lImage||lImageIcon){var lWidthDefaut=70;if(aContexteCourant.node.style.width){var lWidth=Math.round($(aContexteCourant.node).innerWidth());if(lWidth>0){lWidthDefaut=Math.max(10,lWidth-2-2);}}
  lOptions=Object.assign(lOptions,{theme:TypeThemeBouton.neutre,widthBoutonImage:lWidthDefaut,heightTexteBoutonImage:25,heightImageBoutonImage:35});}
  var lDisabled=false,lModele=aOutils.getModel(aContexteCourant);if(lModele&&aContexteCourant.data.$modeleParsed){var lInfosEvent=aOutils.getAccesParametresModel('event',aContexteCourant),lInfosGetDisabled=aOutils.getAccesParametresModel('getDisabled',aContexteCourant),lInfosGetOptions=aOutils.getAccesParametresModel('getOptions',aContexteCourant),lAvecControleSaisie=aOutils.getControleSaisieEvent(aContexteCourant),lKeyUpValiderAIgnorer=false;if(lInfosEvent.estFonction){var lRefresh=aContexteCourant.contexte.refresh;lJBouton.eventValidation(function(aEvent){if(lOptions.disabled){return;}
  if(aEvent.type==='keyup'){if(lKeyUpValiderAIgnorer){lKeyUpValiderAIgnorer=false;return;}}
  var lAction=function(){var lResult=lInfosEvent.callback([aEvent,this,aContexteCourant.data]);lRefresh();return lResult;};if(lAvecControleSaisie){ControleSaisieEvenement(lAction);} else{return lAction();}}).on({'focusin':function(){if(window.GNavigateur&&
  window.GNavigateur.ShiftTouche!==null){lKeyUpValiderAIgnorer=_estToucheValider(window.GNavigateur.CodeTouche);if(lKeyUpValiderAIgnorer){$(window).off('keydown.IEHTMLBoutonKeyupAIgnorer').one('keydown.IEHTMLBoutonKeyupAIgnorer',function(){lKeyUpValiderAIgnorer=false;});}}},'focusout':function(){lKeyUpValiderAIgnorer=false;}});}
  if(lInfosGetDisabled.valide){var lGetter=function(){return!!lInfosGetDisabled.callback([lBouton,aContexteCourant.data]);};if(lInfosGetDisabled.estFonction||!lGetter()||lGetter()===true){lDisabled=!!lGetter();aOutils.abonnerRefresh(function(){var lDisabled=!!lGetter();if(lDisabled!==lOptions.disabled){lOptions.disabled=lDisabled;$(lBouton).inputDisabled(lDisabled);}},lBouton,aContexteCourant);} else{GLog.addLog('echec getDisabled de ie-bouton, propriété incorrecte du model "'+lModele+'"');}}
  if(lInfosGetOptions.estFonction){var lOptionsPerso=lInfosGetOptions.callback([lBouton,aContexteCourant.data]);if(lOptionsPerso){Object.assign(lOptions,lOptionsPerso);}}
  aOutils.surNodeEtNodeAfter(aContexteCourant);}
  aOutils.copyAttributs(aContexteCourant.node,lBouton,function(aName){switch(aName){case'disabled':lDisabled=true;break;}});var lClassDefaut='';if(!lBouton.style.height&&!lImage&&!lImageIcon){lClassDefaut=' ieBoutonDefautSansImage';}
  switch(lOptions.theme){case TypeThemeBouton.primaire:if(!lJBouton.hasClass(TypeThemeBouton.secondaire)&&!lJBouton.hasClass(TypeThemeBouton.neutre)){lJBouton.addClass(TypeThemeBouton.primaire);}
  break;case TypeThemeBouton.neutre:if(!lJBouton.hasClass(TypeThemeBouton.secondaire)&&!lJBouton.hasClass(TypeThemeBouton.primaire)){lJBouton.addClass(TypeThemeBouton.neutre);}
  break;}
  if(!lDisabled&&lOptions.disabled){lJBouton.attr('disabled','');} else if(lDisabled){$(lBouton).inputDisabled(true);}
  lOptions.disabled=lDisabled;var lCss={'font-weight':lOptions.fontWeight};if(lImage||lImageIcon){lInnerHtml=['<div class="ieBoutonContenuAvecImage" style="min-height:',lOptions.heightImageBoutonImage,'px;height:',lOptions.heightImageBoutonImage,'px;">',(lImage?'<div class="'+lImage+'"'+(lOptions.disabled?' disabled="disabled"':'')+'></div>':'<i class="ieBoutonIcon '+lImageIcon+'"'+(lOptions.disabled?' disabled="disabled"':'')+'></i>'),'</div>','<div class="ieBoutonContenuAvecImage" style="height:',lOptions.heightTexteBoutonImage,'px; width:',lOptions.widthBoutonImage,'px;overflow:hidden;">','<div ie-ellipsis-multiline>',lInnerHtml,'</div>','</div>'
  ].join('');lCss.padding=1;}
  if(lOptions.minWidth>0){lCss['min-width']=lOptions.minWidth+'px';}
  var lClasse='ieBouton ';if(IE.estMobile){lClasse+=(lOptions.theme===TypeThemeBouton.primaire||$(aContexteCourant.node).hasClass('themeBoutonConnexion')?'btn':'btn-flat')+' waves-effect waves-light';} else{lClasse+='Texte10 OmbreFocus';}
  lJBouton.css(Object.assign(lCss,_getCss())).addClass(lClasse+' NoWrap'+lClassDefaut).on({mouseout:function(){if(window.GNavigateur&&window.GNavigateur.isTactile){return;}
  if(lOptions.disabled){return;}
  $(this).css(_getCss(false));},mouseover:function(){if(window.GNavigateur&&window.GNavigateur.isTactile){return;}
  if(lOptions.disabled){return;}
  $(this).css(_getCss(true));},IEDisabled:function(){var lJThis=$(this);lOptions.disabled=lJThis.is(':disabled');if(lOptions.disabled){lJThis.removeClass('AvecMain');} else{lJThis.addClass('AvecMain');}
  lJThis.css(_getCss());}});var lRacine=lJBouton.get(0);aOutils.replaceNode(aContexteCourant.node,lRacine);aContexteCourant.node=lJBouton.get(0);if(lInnerHtml){aOutils.injectHTML({element:lRacine,html:lInnerHtml,controleur:aContexteCourant.controleur,ignorerScroll:true,contexte:aContexteCourant.contexte});}
  aOutils.addCommentaireDebug(lRacine,'ie-bouton'+(lImage?' ie-image="'+lImage+'"':'')+(lImageIcon?' ie-icon="'+lImageIcon+'"':''));return{node:aContexteCourant.node,avecCompileFils:false};});module.exports=IEHtml;},fn:"iehtml.bouton.js"});;
  IE.fModule({f:function(exports,require,module,global){function Callback(aPere,aEvenement,aIdentifiant){this.pere=aPere;this.evenement=aEvenement;this.identifiant=aIdentifiant;}
  Callback.prototype.appel=function(){return this.executerEvenement.apply(this,arguments);};Callback.prototype.executerEvenement=function(){if(this.pere&&this.evenement){return this.evenement.apply(this.pere,arguments);}};module.exports=Callback;},fn:"callback.js"});;
  IE.fModule({f:function(exports,require,module,global){var EGenreDirection={SensInverse:-1,DeuxSenses:0,SensNormal:1};module.exports=EGenreDirection;},fn:"enumere_direction.js"});;
  IE.fModule({f:function(exports,require,module,global){var EGenreOrientationAffichage={Vertical:0,Horizontal:1};module.exports=EGenreOrientationAffichage;},fn:"enumere_orientationaffichage.js"});;
  IE.fModule({f:function(exports,require,module,global){
  function TUtilitaireEmail(){}
  TUtilitaireEmail.estValide=function(aEmail){return RegExp(TUtilitaireEmail.regExEmail,"i").test(aEmail.trim());};TUtilitaireEmail.regExEmail="^[a-z0-9'`]([.]?[a-z0-9-_'`])*@((?![-_])[a-z0-9-_]{0,62}[a-z0-9]\\.)+([a-z]{2,63}|xn--(?!-)[a-z0-9-]{2,58}[a-z])$";module.exports=TUtilitaireEmail;},fn:"utilitaireemail.js"});;
  IE.fModule({f:function(exports,require,module,global){var MethodesObjet=require('MethodesObjet.js');var lModuleChaine=require('_ObjetChaine.js');var GHtml=require('_ObjetHtml.js').GHtml;var ObjetTri=require('ObjetTri.js').ObjetTri;var GStyle=require('_ObjetStyle.js').GStyle
  ;MethodesObjet.heritagePrototype(ObjetChaine_Espace,lModuleChaine._ObjetChaine);var GChaine=new ObjetChaine_Espace();function ObjetChaine_Espace(){this.inheritedCreate();this._hauteurPolice=[];}
  ObjetChaine_Espace.prototype.AvecSautDeLigne=function(AChaine){return AChaine+'<br>';};ObjetChaine_Espace.prototype.AvecTexteGras=function(AChaine){return'<B>'+AChaine+'</B>';};ObjetChaine_Espace.prototype.AvecMajuscule=function(AChaine){return AChaine.substring(0,1).toUpperCase()+AChaine.substring(1);};ObjetChaine_Espace.prototype.ToStringHtml=function(aChaine,aSansConversionSautDeLigne){var lSeperateur=aSansConversionSautDeLigne?"":"<br>";return aChaine.replace(/\n/g,lSeperateur);};ObjetChaine_Espace.prototype.SansSautDeLigneHtml=function(AChaine,ASeparateur){return AChaine.replace("<br>",ASeparateur);};ObjetChaine_Espace.prototype.StrToPourcentage=function(AChaine){var lValeur=parseInt(AChaine.replace('%',''))/100;return lValeur;};ObjetChaine_Espace.prototype.normaliserIp=function(aIp){return this.ipToStr(this.strToIp(aIp));};ObjetChaine_Espace.prototype.GetLongueurCaractere=function(ACodeCaractere,ATaille,AGras){var G=AGras?1:0;var L=this.LongueurCaracteres[ATaille][G][ACodeCaractere];if(!L){L=this.LongueurCaracteres[ATaille][G][ACodeCaractere]=this.GetLongueurChaineDansDiv(String.fromCharCode(ACodeCaractere),ATaille,AGras,true);}
  return L;};ObjetChaine_Espace.prototype.GetHauteurPolice=function(ATaille){var lHauteur=this._hauteurPolice[ATaille];if(!lHauteur){var E=this._getConteneurCalculChaine();if(!E){return 0;}
  E.className='hide Texte'+ATaille;E.innerHTML='X';lHauteur=this._hauteurPolice[ATaille]=E.offsetHeight;}
  return lHauteur;};ObjetChaine_Espace.prototype.GetChaineDecoupee=function(AChaine,ATaille,AGras,ALongueur){var LListeChaines=[];while(AChaine.length){var LChaine=this.GetChaine(AChaine,ATaille,AGras,ALongueur);LListeChaines.push(LChaine);AChaine=AChaine.substring(LChaine.length);}
  return LListeChaines.join('<br>');};ObjetChaine_Espace.prototype.EstChaineTropLongue=function(AChaine,ATaille,AGras,ALongueur){return this.GetChaine(AChaine,ATaille,AGras,ALongueur).length!==AChaine.length;};ObjetChaine_Espace.prototype.DecouperChaineSiMasquee=function(AChaine){var LgChaine=AChaine.length;if(LgChaine>0){var I=0;var CaractereCourant=AChaine.charAt(I);while((CaractereCourant==='*')&&(I<LgChaine)){I++;CaractereCourant=AChaine.charAt(I);}
  if(I===LgChaine){return'***';}}
  return AChaine;};ObjetChaine_Espace.prototype.composerEmail=function(aEmail,aNotMailTo,aSansTabulation){return!aNotMailTo?'<a href="mailto:'+aEmail+'"'+(aSansTabulation?' tabindex="-1"':'')+' target="_blank">'+GChaine.miseEnFormeEmail(aEmail)+'</a>':'<span class="LienAccueil AvecMain">'+GChaine.miseEnFormeEmail(aEmail)+'</span>';};ObjetChaine_Espace.prototype.estChaineHTMLEgal=function(aChaine1,aChaine2){if(aChaine1===aChaine2){return true;}
  var lDiv=GHtml.creerElementDOM('div');lDiv.innerHTML=aChaine1;var lTemp=lDiv.innerHTML;lDiv.innerHTML=aChaine2;return(lTemp===lDiv.innerHTML);};ObjetChaine_Espace.prototype.chaineToEntier=function(aChaine,aMin,aMax){var lEntier=parseInt(aChaine);return isNaN(lEntier)?aMin:Math.borner(Math.floor(lEntier),aMin,aMax);};ObjetChaine_Espace.prototype.getNomFichier=function(aFichier){var N=aFichier.lastIndexOf('.');return aFichier.substring(0,N);};ObjetChaine_Espace.prototype.getExtFichier=function(aFichier){var N=aFichier.lastIndexOf('.');return aFichier.substring(N+1,aFichier.length);};ObjetChaine_Espace.prototype.toNumeroTelephone=function(aChaine,aSansEspaces){var lRegex=aSansEspaces?/[^0-9]+/g:/[^0-9 ]+/g;var lChaine=aChaine.replace(lRegex,'');return lChaine.trim();};ObjetChaine_Espace.prototype.toIndicatifTelephone=function(aChaine){var lRegex=/[^0-9 +]/g;var lChaine=aChaine.replace(lRegex,'');return lChaine.trim();};ObjetChaine_Espace.prototype.estEmailValide=function(aEmail){if(!aEmail||!MethodesObjet.isString(aEmail)){return false;}
  return require('UtilitaireEmail.js').estValide(aEmail);};ObjetChaine_Espace.prototype.getLibelleSurligne=function(aLibelle,aRecherches,aOptions){if(!aLibelle){return aLibelle;}
  var i,lRecherche,lIndex,lArray=[],j,lLibelle=GChaine.enleverEntites(aLibelle||'').replace(/&nbsp;/g,' '),lResult,lOptions=Object.assign({couleur:GCouleur.surlignageTexte},aOptions);if(Array.isArray(aRecherches)){for(i=0;i<aRecherches.length;i++){lRecherche=aRecherches[i].trim();if(lRecherche.length>0){for(lIndex=0;lIndex<lLibelle.length;lIndex++){if(lIndex+lRecherche.length<=lLibelle.length&&
  ObjetTri.comparerChamps(lRecherche,lLibelle.slice(lIndex,lIndex+lRecherche.length))===0){for(j=0;j<lRecherche.length;j++){lArray[lIndex+j]=true;}}}}}}
  lResult='';for(i=0;i<lLibelle.length;i++){if(lArray[i]){if(!lArray[i-1]){lResult+='<span style="'+GStyle.composeCouleur(lOptions.couleur)+'">';}
  lResult+=lLibelle[i];if(!lArray[i+1]){lResult+='</span>';}} else{lResult+=GChaine.Insecable(lLibelle[i]);}}
  return lResult;};ObjetChaine_Espace.prototype.supprimerBalisesHtml=function(aContenu){if(!aContenu||!MethodesObjet.isString(aContenu)){return'';}
  var lContenu=aContenu.replace(/\n/g,'').replace(/(<\/div>|<\/ol>|<\/ul>|<\/li>|<\/p>)(?!(<br>|<br\/>|<\/div>|<\/ol>|<\/ul>|<\/li>|<\/p>))/g,'$1\n').replace(/(<br>|<br\/>)/g,'$1\n').replace(/<[^>]*?>/gi,'');if(lContenu.endsWith('\n')){lContenu=lContenu.slice(0,lContenu.length-1);}
  return lContenu;};lModuleChaine.GChaine=GChaine;Object.assign(module.exports,{ObjetChaine_Espace:ObjetChaine_Espace,GChaine:GChaine});},fn:"objetchaine_espace.js"});;
  IE.fModule({f:function(exports,require,module,global){if(IE.estMobile){module.exports=require('ObjetChaine_Mobile.js').GChaine;} else{module.exports=require('ObjetChaine_Espace.js').GChaine;}},fn:"gchaine.js"});;
  IE.fModule({f:function(exports,require,module,global){var GUID=require('GUID.js');var GLog=require('IELog.js');var Invocateur=require('Invocateur.js').Invocateur;var MethodesObjet=require('MethodesObjet.js');var MethodesTableau=require('MethodesTableau.js');var GChaine=require('GChaine.js');var GHtml=require('GHtml.js');var GPosition=require('GPosition.js');var GStyle=require('GStyle.js');var Support=require('ObjetSupport.js');function ObjetHint(){}
  var uTimeoutFondu=null,uIdConteneur=GUID.getId(),uIdScroll=uIdConteneur+'_scroll',uHintsEnAttente=[],uHintAffiche=null,uHintInitialise=false,uConteneurEventInvocateur={};ObjetHint.getDisabled=function(){return!GPosition.placerFicheSource||!GStyle.composeOpacite||!GStyle.composeTransitions||!GStyle.setOpacity;};ObjetHint.start=function(aContenu,aOptions){if(ObjetHint.getDisabled()){GLog.addLog('ObjetHint.start => disabled sur espaces mobiles');return;}
  if(!uHintInitialise){uHintInitialise=true;$(document).on('iedown.Hint keydown.Hint',_stopAll);$(window).on('resize.Hint',function(event){if(uHintAffiche&&uHintAffiche.hintTouch){return;}
  _stopAll(event);});if(!Support.supportTouchPointerEvent){$('body').on('mouseleave.Hint',_stopAll);}}
  var lHint=Object.assign({sansDelai:false,position:null,couleurFond:'white',maxHeight:500,maxWidth:550,delaiFondu:200,delaiTimer:400,delaiFermeture:0,event:null,elementDOM:null},aOptions);lHint.actif=false;if(!aContenu||(aContenu==='')){return lHint;}
  if(lHint.elementDOM&&lHint.elementDOM.setAttribute){lHint.elementDOM.setAttribute('title','');}
  lHint.actif=true;uHintsEnAttente.push(lHint);if(lHint.sansDelai){_afficher(aContenu,lHint);} else{lHint.timer=setTimeout(_afficher.bind(this,aContenu,lHint),lHint.delaiTimer);}
  return lHint;};ObjetHint.stop=function(aHint){if(aHint){var lARetirer=!aHint.estAffiche;_stopHint(aHint);if(lARetirer){setTimeout(function(){_retirerHintPileAttente(aHint);},0);}} else{_stopAll();}};ObjetHint.attach=function(aParam){if(ObjetHint.getDisabled()){GLog.addLog('ObjetHint.attach > disabled sur espaces mobiles');return;}
  var lNamespace=aParam.namespace?aParam.namespace='.'+aParam.namespace:'.IEHint',lContenu=aParam.contenu,lInterrupt=aParam.interrupt,lMargeDeplacement=50,lHint,lTimeoutTouch,lStop=function(){if(lTimeoutTouch){clearTimeout(lTimeoutTouch);lTimeoutTouch=null;}
  Invocateur.desabonner(GNavigateur.getEventInvocateur('mousemove')+' '+GNavigateur.getEventInvocateur('touchmove'),uConteneurEventInvocateur);ObjetHint.stop(lHint);lHint=null;};if(!aParam.$Element){
  return false;}
  if(aParam.off!==false){aParam.$Element.off(' mouseover'+lNamespace+' mouseleave'+lNamespace+' mouseout'+lNamespace+' destroyed'+lNamespace+' iedown'+lNamespace);}
  var lElementDOM=aParam.$Element.get(0);var lMap={};lMap['mouseover'+lNamespace]=function(event){if(GNavigateur.touchEnCours){return;}
  if(lInterrupt&&lInterrupt.call(this,event)){return;}
  var lContenuAAfficher=lContenu;lHint=ObjetHint.start(lContenuAAfficher,{event:event,elementDOM:lElementDOM});};lMap['destroyed'+lNamespace+' mouseleave'+lNamespace+' mouseout'+lNamespace]=function(){if(lHint&&lHint.hintTouch){return;}
  lStop();};lMap['iedown'+lNamespace]=function(event){if(!event.estTouch){return;}
  if(lInterrupt&&lInterrupt.call(this,event)){return;}
  if(event.originalEvent.__hintSurEventIEDown__){return;}
  event.originalEvent.hintTouch=true;lHint=ObjetHint.start(lContenu,{sansDelai:true,event:event,position:{x:event.clientX+5,y:event.clientY+5},elementDOM:lElementDOM});if(!lHint.estAffiche){return;}
  event.originalEvent.__hintSurEventIEDown__=true;lHint.hintTouch=true;if(lTimeoutTouch){clearTimeout(lTimeoutTouch);}
  lTimeoutTouch=setTimeout(function(){lTimeoutTouch=null;if(lHint&&lHint.actif&&lHint.estAffiche){lStop();}},1500);var lTestDeplacement=function(event){if(lHint&&lHint.actif&&lHint.estAffiche&&lHint.position&&(Math.abs(event.clientX-lHint.position.x)>lMargeDeplacement||Math.abs(event.clientY-lHint.position.y)>lMargeDeplacement)){lStop();}};Invocateur.desabonner(GNavigateur.getEventInvocateur('mousemove')+' '+GNavigateur.getEventInvocateur('touchmove'),uConteneurEventInvocateur);Invocateur.abonner(GNavigateur.getEventInvocateur('mousemove')+' '+GNavigateur.getEventInvocateur('touchmove'),lTestDeplacement,uConteneurEventInvocateur);};aParam.$Element.on(lMap);aParam.$Element=null;};function _stopHint(aHint){if(!aHint){return;}
  if(aHint.elementDOM&&aHint.elementDOM.removeAttribute){aHint.elementDOM.removeAttribute('title');}
  if(aHint.estAffiche){uHintAffiche=null;if(Support.avecSupportTransitions){GStyle.setOpacity(uIdConteneur,0);clearTimeout(uTimeoutFondu);uTimeoutFondu=setTimeout(function(){GHtml.supprimerElementDOM(uIdConteneur);uTimeoutFondu=null;},aHint.delaiFondu);} else{GHtml.supprimerElementDOM(uIdConteneur);}}
  if(aHint.timerFermeture){clearTimeout(aHint.timerFermeture);aHint.timerFermeture=null;}
  if(aHint.timer){clearTimeout(aHint.timer);aHint.timer=null;}
  aHint.estAffiche=false;aHint.actif=false;}
  function _stopEnAttente(){var lHintEnAttente;for(var i=0,lNb=uHintsEnAttente.length;i<lNb;i++){lHintEnAttente=uHintsEnAttente[i];if(lHintEnAttente){lHintEnAttente.actif=false;if(lHintEnAttente.timer){clearTimeout(lHintEnAttente.timer);lHintEnAttente.timer=null;}}}
  uHintsEnAttente=[];}
  function _stopAll(event,aConserverHintEnCours){if(event&&event.originalEvent&&event.originalEvent.hintTouch){return;}
  if(uHintAffiche&&!aConserverHintEnCours){_stopHint(uHintAffiche);}
  _stopEnAttente();}
  function _getContenu(aContenu,aHint){var lContenu=aContenu;if(MethodesObjet.isFunction(aContenu)){lContenu=aContenu(aHint);}
  if(GChaine&&GChaine.toHTML){lContenu=GChaine.toHTML();}
  return lContenu;}
  function _retirerHintPileAttente(aHint){var lIndice=uHintsEnAttente.indexOf(aHint);if(lIndice>=0){MethodesTableau.supprimerElement(uHintsEnAttente,lIndice);}}
  function _loopAnimateScroll(aId,aHauteurAScroller){var lDuree=aHauteurAScroller*1000/100;$(aId).delay(1000).animate({scrollTop:aHauteurAScroller},{duration:lDuree,easing:'linear'}).delay(1000).animate({scrollTop:0},{duration:300,done:function(){_loopAnimateScroll(aId,aHauteurAScroller);}});}
  function _afficher(aContenu,aHint){Promise.resolve(_getContenu(aContenu,aHint)).then(function(aContenu){var lContenu=aContenu;if(!aHint.actif||!lContenu||(lContenu==='')){aHint.timer=null;aHint.actif=false;return;}
  _retirerHintPileAttente(aHint);_stopAll();uHintAffiche=aHint;uHintAffiche.contenu=lContenu;clearTimeout(uTimeoutFondu);aHint.estAffiche=true;aHint.timer=null;if(aHint.delaiFermeture>0){aHint.timerFermeture=setTimeout(function(){_stopHint(aHint);},aHint.delaiFermeture);}
  var lConteneur=GHtml.getElement(uIdConteneur);if(!GHtml.elementExiste(lConteneur)){lConteneur=GHtml.htmlToDOM('<div id="'+uIdConteneur+'" style="position:absolute; z-index:10000;pointer-events:none;'+(Support.avecSupportTransitions?GStyle.composeTransitions('opacity',(aHint.delaiFondu/1000)+'s')+GStyle.composeOpacite(0):'')+'"></div>');GHtml.insererElementDOM(GHtml.getElement(GApplication.getIdConteneur()),lConteneur);}
  GHtml.setHtml(lConteneur,compose(lContenu,aHint));var lPosition=Object.assign({y:GNavigateur.SourisY,x:GNavigateur.SourisX},aHint.position),lDecalage=aHint.position?{x:0,y:0}:{x:0,y:20};var lJScroll=$('#'+uIdScroll.escapeJQ()),lHeightScroll=lJScroll.height(),lHeightContenu=lJScroll.children().height(),lAvecScroll=lHeightScroll<lHeightContenu;lJScroll.css('width',lJScroll.outerWidth());GPosition.placerFicheSource(uIdConteneur,lPosition.x,lPosition.x,lPosition.y,lPosition.y,false,lDecalage);GStyle.setOpacity(lConteneur,1);if(lAvecScroll){_loopAnimateScroll('#'+uIdScroll.escapeJQ(),lHeightContenu-lHeightScroll);}});}
  function compose(aContenu,aHint){var lHtml=[];lHtml.push('<div id="',uIdScroll,'" tabindex="-1" class="SansOutline"',' style="width:auto; height:auto; max-height:',Math.min(aHint.maxHeight,GNavigateur.EcranL),'px; max-width:',Math.min(aHint.maxWidth,GNavigateur.EcranH),'px;','cursor:default; overflow-y:auto; overflow-x:hidden;',GStyle.composeCouleur(aHint.couleurFond,GCouleur.texte,GCouleur.bordure),GStyle.composeBoxShadow(),'">','<div class="Texte10 PetitEspace">',aContenu,'</div>','</div>');return lHtml.join('');}
  ObjetHint.nodeDansHint=function(aNode){return $(aNode).parents('#'+uIdConteneur.escapeJQ()).length>0;};module.exports=ObjetHint;},fn:"objethint.js"});;
  IE.fModule({f:function(exports,require,module,global){var IEHtml=require('IEHtml.js');var ObjetInvocateur=require('Invocateur.js').ObjetInvocateur;var MethodesObjet=require('MethodesObjet.js');var GChaine=require('GChaine.js');var GHtml=require('GHtml.js');var ObjetHint=require('objethint.js');(function(){IEHtml.addAttribut('ie-node',function(aContexteCourant,aNodeName,aAttributValue,aOutils){var lValue=aAttributValue||'';if(!lValue||!aContexteCourant.controleur){
  return true;}
  var lInfos=aOutils.getAccesParametres(lValue,aContexteCourant);if(!lInfos.estFonction){
  return true;}
  aOutils.surInjectionHtml(aContexteCourant,function(){lInfos.callback(Array.prototype.slice.call(arguments));});aOutils.addCommentaireDebug(aContexteCourant.node,'ie-node="'+lValue+'"');return true;});}());IEHtml.addAttribut('ie-nodeafter',function(aContexteCourant,aNodeName,aAttributValue,aOutils){var lValue=aAttributValue||'';if(!lValue||!aContexteCourant.controleur){
  return true;}
  var lInfos=aOutils.getAccesParametres(lValue,aContexteCourant);if(!lInfos.estFonction){
  return true;}
  aOutils.surInjectionHtml(aContexteCourant,function(){lInfos.callback(Array.prototype.slice.call(arguments));},true);aOutils.addCommentaireDebug(aContexteCourant.node,'ie-nodeafter="'+lValue+'"');return true;});IEHtml.addAttribut('ie-event',function(aContexteCourant,aNodeName,aAttributValue,aOutils){var lValue=aAttributValue||'';if(!aContexteCourant.controleur){
  return;}
  var lTab=lValue.split('->');if(lTab.length<2){
  return;}
  var lMethode,lEvents=lTab[0].trim().split('-'),lSelecteur=null,lInfos;lTab.shift();lMethode=lTab.join('->');if(lMethode.length>2&&lMethode.charAt(0)==='{'){lTab=lMethode.split('}');if(lTab.length<2){
  return;}
  var lNomSelecteur=lTab[0].slice(1);lTab.shift();lMethode=lTab.join('}');if(aContexteCourant.data&&aContexteCourant.data[lNomSelecteur]){lSelecteur=aContexteCourant.data[lNomSelecteur];} else{lSelecteur=lNomSelecteur;}}
  lInfos=aOutils.getAccesParametres(lMethode,aContexteCourant);if(!lInfos.valide||!lInfos.estFonction){
  return;}
  if(lInfos){var lCallbackEvent=function(event){return lInfos.callback([event,this,aContexteCourant.node,aContexteCourant.data]);};if(lSelecteur){$(aContexteCourant.node).on(lEvents.join(' '),lSelecteur,{controleur:aContexteCourant.controleur},lCallbackEvent);} else{$(aContexteCourant.node).on(lEvents.join(' '),{controleur:aContexteCourant.controleur},lCallbackEvent);}
  aOutils.addCommentaireDebug(aContexteCourant.node,'ie-event="'+lValue+'"');return true;} else{aOutils.addCommentaireDebug(aContexteCourant.node,'[ECHEC] ie-event="'+lValue+'"');}
  return true;});IEHtml.addAttribut('ie-title',function(aContexteCourant,aNodeName,aAttributValue,aOutils){var lNom=aAttributValue||'',lGetter,lOldValue=lNom;if(lNom&&aContexteCourant.controleur){var lInfos=aOutils.getAccesParametres(lNom,aContexteCourant,true);if(lInfos.estFonction){lGetter=function(){var lResult=(lInfos.callback([aContexteCourant.node,aContexteCourant.data])||'')+'';return lResult.replace&&GChaine&&GChaine.enleverEntites?GChaine.enleverEntites(lResult):'';};}}
  if(lGetter){lOldValue=lGetter();} else if(lOldValue==='undefined'||lOldValue==='null'){
  return false;} else{}
  $(aContexteCourant.node).attr('title',lOldValue);if(lGetter){aOutils.abonnerRefresh(function(){var lValue=lGetter().toString();if(lOldValue!==lValue){lOldValue=lValue;$(aContexteCourant.node).attr('title',lOldValue);}},aContexteCourant.node,aContexteCourant);}
  aOutils.addCommentaireDebug(aContexteCourant.node,'ie-title'+(lNom?'="'+lNom+'"':''));return true;});IEHtml.addAttribut('ie-hint',function(aContexteCourant,aNodeName,aAttributValue,aOutils){if(ObjetHint.getDisabled()){aOutils.addCommentaireDebug(aContexteCourant.node,'ie-hint (désactivé sur mobile !)');return true;}
  var lNom=aAttributValue||'',lValue=lNom;if(lValue&&lValue.length>2&&lValue.charAt(0)==='\''&&lValue.charAt(lValue.length-1)==='\''){lValue=lValue.slice(1,lValue.length-1);} else if(lNom&&aContexteCourant.controleur){var lInfos=aOutils.getAccesParametres(lNom,aContexteCourant,true);if(lInfos.estFonction){lValue=function(aHint){var lResult=lInfos.callback([aHint,aContexteCourant.node,aContexteCourant.data]);if(lResult&&lResult.then){return lResult;}
  return(lResult||'')+'';};}}
  if(!lValue&&aContexteCourant.data&&aContexteCourant.data.$hint){lValue=aContexteCourant.data.$hint;}
  if(!lValue){
  return true;}
  ObjetHint.attach({$Element:$(aContexteCourant.node),namespace:'iehint',contenu:lValue,off:false});$(aContexteCourant.node).addClass('jiehint');aOutils.addCommentaireDebug(aContexteCourant.node,'ie-hint'+(lNom?'="'+lNom+'"':''));return true;});(function(){IEHtml.addAttribut('ie-html',function(aContexteCourant,aNodeName,aAttributValue,aOutils,aParametresCompile){var lValue=aAttributValue||'';if(!lValue){lValue=aContexteCourant.data?aContexteCourant.data.$html:'';}
  if(!lValue){
  return true;}
  if(!aContexteCourant.controleur){
  return true;}
  var lInfos=aOutils.getAccesParametres(lValue,aContexteCourant);if(!lInfos.valide){
  return true;}
  var lNodeDestination=aContexteCourant.transfertContenu||aContexteCourant.node;var lGetter=function(){var lResult=lInfos.callback([lNodeDestination,aContexteCourant.data]);if(MethodesObjet.isNumber(lResult)){return lResult+'';}
  return(lResult||'')+'';};var lHtml=lGetter();if(!lInfos.estFonction&&!MethodesObjet.isString(lHtml)){return;}
  var lInvocateur=new ObjetInvocateur();$(lNodeDestination).empty();try{lNodeDestination.innerHTML=lHtml;} catch(e){$(lNodeDestination).html(lHtml);}
  aOutils.compile(lNodeDestination.childNodes,lNodeDestination,aContexteCourant.controleur,aContexteCourant.contexte,lInvocateur);var lOldHtmlValue=lHtml;aOutils.abonnerRefresh(function(aGuidEmetteur,aHashGuidCible){var lHtml=lGetter();if(lHtml!==lOldHtmlValue){lOldHtmlValue=lHtml;GHtml.viderNode(lNodeDestination);var lContexte=Object.assign({},aContexteCourant.contexte);lContexte.eventsInjectionHtml=[];aOutils.injectHTML({element:lNodeDestination,html:lHtml,controleur:aContexteCourant.controleur,contexte:lContexte,invocateur:lInvocateur});} else{lInvocateur.evenement(IEHtml.C_id_event_iemodel,aGuidEmetteur,aHashGuidCible);}},lNodeDestination,aContexteCourant);aOutils.addCommentaireDebug(lNodeDestination,'ie-html="'+lValue+'"');aParametresCompile.avecCompileFils=false;return true;});}());IEHtml.addAttribut('ie-texte',function(aContexteCourant,aNodeName,aAttributValue,aOutils){var lValue=aAttributValue||'';if(!lValue){
  return true;}
  if(!aContexteCourant.controleur){
  return true;}
  var lInfos=aOutils.getAccesParametres(lValue,aContexteCourant);if(!lInfos.valide){
  return true;}
  var lNodeDestination=aContexteCourant.transfertContenu||aContexteCourant.node;var lGetter=function(){var lResult=lInfos.callback([lNodeDestination,aContexteCourant.data]);if(MethodesObjet.isNumber(lResult)){return lResult+'';}
  return(lResult||'')+'';};var lOldTexte=lGetter();$(lNodeDestination).IEHtml('');lNodeDestination.appendChild(document.createTextNode(lOldTexte));aOutils.abonnerRefresh(function(){var lTexte=lGetter();if(lTexte!==lOldTexte){lOldTexte=lTexte;$(lNodeDestination).IEHtml('');lNodeDestination.appendChild(document.createTextNode(lTexte));}},lNodeDestination,aContexteCourant);aOutils.addCommentaireDebug(lNodeDestination,'ie-texte="'+lValue+'"');return true;});IEHtml.addAttribut('ie-style',function(aContexteCourant,aNodeName,aAttributValue,aOutils){var lValue=aAttributValue||'';if(!lValue){lValue=aContexteCourant.data?aContexteCourant.data.$style:'';}
  if(!lValue){
  return true;}
  if(!aContexteCourant.controleur){
  return true;}
  var lInfos=aOutils.getAccesParametres(lValue,aContexteCourant);if(!lInfos.valide){
  return true;}
  var lGetter=function(){var lStyle=lInfos.callback([aContexteCourant.node,aContexteCourant.data])||null;return lStyle||{};};var lObjetCss=lGetter(aContexteCourant.node),lJNode=$(aContexteCourant.node);if(!lInfos.estFonction||!lObjetCss){return;}
  lJNode.css(lObjetCss);aOutils.abonnerRefresh(function(){var lNewStyleCss=lGetter(aContexteCourant.node);if(!MethodesObjet.objetsIdentiques(lNewStyleCss,lObjetCss)){lObjetCss=lNewStyleCss;$(aContexteCourant.node).css(lObjetCss);}},aContexteCourant.node,aContexteCourant);aOutils.addCommentaireDebug(aContexteCourant.node,'ie-style="'+lValue+'"');return true;});(function(){IEHtml.addAttribut('ie-class',function(aContexteCourant,aNodeName,aAttributValue,aOutils){var lValue=aAttributValue||'';if(!lValue||!aContexteCourant.controleur){
  return true;}
  var lInfos=aOutils.getAccesParametres(lValue,aContexteCourant);if(!lInfos.valide){
  return true;}
  var lClassCss=lInfos.callback()||'';if(lClassCss.length>0){$(aContexteCourant.node).addClass(lClassCss);}
  aOutils.abonnerRefresh(function(){var lNewClassCss=lInfos.callback()||'';if(lNewClassCss!==lClassCss){$(aContexteCourant.node).removeClass(lClassCss).addClass(lNewClassCss);lClassCss=lNewClassCss;}},aContexteCourant.node,aContexteCourant);aOutils.addCommentaireDebug(aContexteCourant.node,'ie-class="'+lValue+'"');return true;});}());(function(){IEHtml.addAttribut('ie-display',function(aContexteCourant,aNodeName,aAttributValue,aOutils){var lValue=aAttributValue||'';if(!lValue||!aContexteCourant.controleur){
  return true;}
  var lInfos=aOutils.getAccesParametres(lValue,aContexteCourant);if(!lInfos.valide){
  return true;}
  var lGetter=function(){return!!lInfos.callback([aContexteCourant.node,aContexteCourant.data]);};var lDisplay=lGetter(aContexteCourant.node);GHtml.setDisplay(aContexteCourant.node,lDisplay);var lOldDisplayValue=lDisplay;aOutils.abonnerRefresh(function(){var lDisplay=lGetter(aContexteCourant.node);if(lDisplay!==lOldDisplayValue){lOldDisplayValue=lDisplay;GHtml.setDisplay(aContexteCourant.node,lDisplay);}},aContexteCourant.node,aContexteCourant);aOutils.addCommentaireDebug(aContexteCourant.node,'ie-display="'+lValue+'"');return true;});}());IEHtml.addAttribut('ie-attr',function(aContexteCourant,aNodeName,aAttributValue,aOutils){var lValue=aAttributValue||'';if(!lValue||!aContexteCourant.controleur){
  return true;}
  var lInfos=aOutils.getAccesParametres(lValue,aContexteCourant);if(!lInfos.estFonction){
  return true;}
  var lGetter=function(){return lInfos.callback([]);};var lAttr=MethodesObjet.dupliquer(lGetter());if(lAttr){$(aContexteCourant.node).attr(lAttr);}
  aOutils.abonnerRefresh(function(){var lNewAttr=lGetter();if(!MethodesObjet.objetsIdentiques(lNewAttr,lAttr)){lAttr=MethodesObjet.dupliquer(lNewAttr);$(aContexteCourant.node).attr(lAttr);}},aContexteCourant.node,aContexteCourant);aOutils.addCommentaireDebug(aContexteCourant.node,'ie-attr="'+lValue+'"');return true;});function _initEllipsis(aContexteCourant,aOutils,aAttributValue){var lOptions={getJNodeHint:null,avecHint:true};if(aAttributValue){var lGetOptions=aOutils.getAccesParametres(aAttributValue,aContexteCourant);if(lGetOptions.estFonction){Object.assign(lOptions,lGetOptions.callback());} else{}}
  $(aContexteCourant.node).addClass('ie-ellipsis');if(lOptions.avecHint&&!ObjetHint.getDisabled()){aOutils.surInjectionHtml(aContexteCourant,function(aParams){if(ObjetHint.nodeDansHint(aContexteCourant.node)){return;}
  aParams.addMutate(function(){ObjetHint.attach({$Element:MethodesObjet.isFunction(lOptions.getJNodeHint)?lOptions.getJNodeHint(aContexteCourant.node):$(aContexteCourant.node),namespace:'ellipsis',contenu:function(){return $(aContexteCourant.node).html();},interrupt:function(){var lJThis=$(aContexteCourant.node);if(lJThis.hasClass('jiehint')){return true;}
  if(lJThis.prop('title').length>0){return true;}
  if(Math.ceil(lJThis.outerWidth())>=lJThis.prop('scrollWidth')){return true;}}});});},true);}}
  IEHtml.addAttribut('ie-ellipsis',function(aContexteCourant,aNodeName,aAttributValue,aOutils){_initEllipsis(aContexteCourant,aOutils,aAttributValue);aOutils.addCommentaireDebug(aContexteCourant.node,'ie-ellipsis');return true;});IEHtml.addAttribut('ie-ellipsis-fixe',function(aContexteCourant,aNodeName,aAttributValue,aOutils){_initEllipsis(aContexteCourant,aOutils,aAttributValue);aOutils.surInjectionHtml(aContexteCourant,function(aParams){var lWidth=null;aParams.addMeasure(function(){if(!aContexteCourant.node.style.width){lWidth=$(aContexteCourant.node).width();}});aParams.addMutate(function(){if(lWidth!==null){$(aContexteCourant.node).width(Math.ceil(lWidth));}});},true);aOutils.addCommentaireDebug(aContexteCourant.node,'ie-ellipsis-fixe');return true;});IEHtml.addAttribut('ie-hintoverflow',function(aContexteCourant,aNodeName,aAttributValue,aOutils){aOutils.surInjectionHtml(aContexteCourant,function(aParams){aParams.addMutate(function(){ObjetHint.attach({$Element:$(aContexteCourant.node),namespace:'ie-hintoverflow',contenu:function(){return $(aContexteCourant.node).html();},interrupt:function(){var lJThis=$(this);if(lJThis.hasClass('jiehint')){return true;}
  if(lJThis.prop('title').length>0){return true;}
  var lScrollH=lJThis.prop('scrollHeight')-1;var lScrollW=lJThis.prop('scrollWidth')-1;if(lScrollH<5||lScrollW<5){return true;}
  if(Math.ceil(lJThis.outerHeight())>=lScrollH&&Math.ceil(lJThis.outerWidth())>=lScrollW){return true;}}});});},true);aOutils.addCommentaireDebug(aContexteCourant.node,'ie-hintoverflow');return true;});IEHtml.addAttribut('ie-selecttextfocus',function(aContexteCourant,aNodeName,aAttributValue,aOutils){if(aNodeName!=='input'&&aNodeName!=='textarea'){
  return true;}
  $(aContexteCourant.node).on({'focus':function(){if(this.select){this.select();}},'mouseup':function(e){e.preventDefault();}});aOutils.addCommentaireDebug(aContexteCourant.node,'ie-selecttextfocus');return true;});(function(){var c_PPP='…';function _reductionTextMultiline(aNode,aNodeText,aChaine,aOptions){var lAvecModif=false;try{var lConteneur=$(aNode).parent();var lHeight=0;var lWidth=Math.round(lConteneur.innerWidth());if(aOptions.nbLignesMax>0&&MethodesObjet.isNumber(aOptions.nbLignesMax)){try{var lLineHeight=window.getComputedStyle(aNode).getPropertyValue('line-height');if(lLineHeight==='normal'){lLineHeight=Math.round(parseFloat(window.getComputedStyle(aNode).getPropertyValue('font-size'),10))*1.2;} else{lLineHeight=Math.round(parseFloat(lLineHeight,10));}} catch(e){
  return true;}
  lHeight=lLineHeight*(aOptions.nbLignesMax>0&&MethodesObjet.isNumber(aOptions.nbLignesMax)?aOptions.nbLignesMax:1);if(!MethodesObjet.isNumber(lHeight)){
  return true;}} else{lHeight=Math.round(lConteneur.innerHeight());}
  var lEnOverflowHeight=function(){return lHeight>0&&aNode.clientHeight-1>lHeight;};var lEnOverflow=function(){return lHeight>0&&lWidth>0&&(lEnOverflowHeight()||aNode.scrollWidth-1>lWidth);};if(lEnOverflow()){lAvecModif=true;var cMinNbCar=1;var lMinIndex=cMinNbCar;var lMaxIndex=aChaine.length;while(lMaxIndex>lMinIndex&&lEnOverflow()){var lMaxTemp=Math.floor((lMaxIndex+lMinIndex)/2 | 0);if(lMaxTemp>lMinIndex){if(lEnOverflowHeight()){aNodeText.nodeValue=aChaine.slice(0,lMaxTemp)+c_PPP;if(lEnOverflowHeight()){lMaxIndex=lMaxTemp;}} else{var lClientHeight=aNode.clientHeight;aNodeText.nodeValue=aChaine.slice(0,lMaxTemp)+c_PPP;if(lEnOverflow()&&aNode.clientHeight===lClientHeight){lMaxIndex=lMaxTemp;}}}
  lMaxIndex=lMaxIndex-1;aNodeText.nodeValue=aChaine.slice(0,lMaxIndex)+c_PPP;}}} catch(e){}
  if(lAvecModif&&aOptions.avecHint&&!ObjetHint.getDisabled()&&!ObjetHint.nodeDansHint(aNode)){ObjetHint.attach({$Element:MethodesObjet.isFunction(aOptions.getJNodeHint)?$(aOptions.getJNodeHint(aNode)):$(aNode),namespace:'ieellipsismultiline',contenu:aChaine,off:false});}
  return true;}
  IEHtml.addAttribut('ie-ellipsis-multiline',function(aContexteCourant,aNodeName,aAttributValue,aOutils){var lOptions={nbLignesMax:aAttributValue||'',avecHint:true,getJNodeHint:null};if(lOptions.nbLignesMax){var lGetOptions=aOutils.getAccesParametres(aAttributValue,aContexteCourant);if(lGetOptions.estFonction){Object.assign(lOptions,lGetOptions.callback());} else{lOptions.nbLignesMax=parseInt(lOptions.nbLignesMax,10);}
  if(!MethodesObjet.isNumber(lOptions.nbLignesMax)){lOptions.nbLignesMax=''
  ;}}
  if(!aContexteCourant.node.childNodes||aContexteCourant.node.childNodes.length>1){
  return true;}
  if(aContexteCourant.node.childNodes.length===0){return true;}
  var lNodeText=aContexteCourant.node.childNodes[0];if(!lNodeText||lNodeText.nodeType!==3){
  return true;}
  var lValueText=lNodeText.nodeValue;if(!lValueText||!MethodesObjet.isString(lValueText)||lValueText.length<3){return true;}
  var lTraite=false;aOutils.surInjectionHtml(aContexteCourant,function(){if(!lTraite&&aContexteCourant.node.clientHeight>0&&aContexteCourant.node.clientWidth>0){lTraite=_reductionTextMultiline(aContexteCourant.node,lNodeText,lValueText,lOptions);}});aOutils.abonnerRefresh(function(){if(!lTraite&&aContexteCourant.node.scrollHeight>0&&aContexteCourant.node.clientWidth>0){lTraite=_reductionTextMultiline(aContexteCourant.node,lNodeText,lValueText,lOptions);}},aContexteCourant.node,aContexteCourant);aOutils.addCommentaireDebug(aContexteCourant.node,'ie-ellipsis-multiline="'+lOptions.nbLignesMax+'"');return true;});}());module.exports=IEHtml;},fn:"iehtmlcomposants.js"});;
  IE.fModule({f:function(exports,require,module,global){require('Divers.js');var IEHtml=require('IEHtml.js');var Callback=require('Callback.js');var GUID=require('GUID.js');var ObjetInvocateur=require('Invocateur.js').ObjetInvocateur;var Invocateur=require('Invocateur.js').Invocateur;var MethodesObjet=require('MethodesObjet.js');var MethodesTableau=require('MethodesTableau.js');var GHtml=require('GHtml.js');var GStyle=require('GStyle.js');var EGenreDirection=require('Enumere_Direction.js');var EGenreOrientationAffichage=require('enumere_orientationaffichage.js');var ZoneFenetre=require('IEZoneFenetre.js');var GObjetWAI=require('ObjetWAI.js').GObjetWAI;var EGenreRole=require('ObjetWAI.js').EGenreRole;var EGenreAttribut=require('ObjetWAI.js').EGenreAttribut;require('IEHtmlComposants.js');function Identite(ANom,AIdent,APere,AEvenement){if(MethodesObjet.isObject(ANom)){var lParametres={nomComplet:'',nomObjet:null,pere:null,evenement:null};$.extend(lParametres,ANom);this.Pere=lParametres.pere;this.Evenement=lParametres.evenement;if(lParametres.nomObjet&&lParametres.pere){this.Nom=lParametres.pere.Nom+'.'+lParametres.nomObjet;} else{this.Nom=lParametres.nomComplet;}} else{this.Nom=this.ConstruireNom(ANom,AIdent);this.Pere=APere;this.Evenement=AEvenement;}
  this.callback=new Callback(this.Pere,this.Evenement);this._callbacksSurDestruction=[];if(this.Pere&&this.Pere.ajouterInstanceADetruire){this.Pere.ajouterInstanceADetruire(this);}
  this.Actif=true;this.Visible=true;this.TableauGauche=[];this.TableauDroite=[];this.TableauHaut=[];this.TableauBas=[];this.focusable=true;this.IdPremierElement='';this.idMessageActionRequise=GUID.getId();this.tabIndex=0;this.pileEvenementGlobaux=[];this.instancesADetruire=[];this.avecMarge=true;this.controleur=this.creerControleur();if(this.controleur){this.controleur.instance=this;var lSelf=this;var lRefresh=this.controleur.$refresh;this.controleur.$refresh=function(){return lRefresh.call(this,lSelf.hashGUIDsControleur());};}}
  Identite.prototype.SetParametres=function(){};Identite.prototype.setAvecTabulation=function(AAvecTabIndex){this.tabIndex=(AAvecTabIndex===null||AAvecTabIndex===undefined||AAvecTabIndex)?0:-1;};Identite.prototype.SetDonnees=function(){};Identite.prototype.setTraductions=function(aTraductions){this.traductions=aTraductions;};Identite.prototype.RecupererDonnees=function(){};Identite.prototype.ConstruireAffichage=function(){return'&nbsp;';};Identite.prototype.SetGenre=function(AGenre){this.Genre=AGenre;};Identite.prototype.SetActif=function(AActif){this.Actif=AActif;};Identite.prototype.SetVisible=function(AVisible){GStyle.setDisplay(this.Nom,this.Visible=AVisible);};Identite.prototype.EstUneInteractionUtilisateur=function(){return this.InteractionUtilisateur!==false;};Identite.prototype.SetEtatSaisie=function(aEtatSaisie){if(this.Pere&&this.Pere.SetEtatSaisie){this.Pere.SetEtatSaisie(aEtatSaisie);} else{Invocateur.evenement(ObjetInvocateur.events.etatSaisie,aEtatSaisie);}};Identite.prototype.SetControleNavigation=function(AControleNavigation){this.ControleNavigation=AControleNavigation;};Identite.prototype.getEtatSaisie=function(){if(this.Pere){return this.Pere.getEtatSaisie();}};Identite.prototype.getAvecMarge=function(){return this.avecMarge;};Identite.prototype.$refresh=function(){return this.controleur.$refresh();};Identite.prototype.$refreshSelf=function(){return this.controleur.$refreshSelf();};function _getControleurHeritage(aProto){var lProtoPere=aProto.__pere__,lControleur=null,lControleurPere=null;if(aProto.hasOwnProperty('getControleur')){lControleur=aProto.getControleur.call(this,this);}
  if(lProtoPere){lControleurPere=_getControleurHeritage.call(this,lProtoPere);lControleur=lControleur?$.extend(true,lControleurPere,lControleur):lControleurPere;}
  return lControleur;}
  Identite.prototype.creerControleur=function(){return IEHtml.initControleur(_getControleurHeritage.call(this,this.constructor.prototype)||{});};function _hashFilsGUIDsControleur(aGUIDs){if(this.instancesADetruire){var lInstance,i;for(i in this.instancesADetruire){lInstance=this.instancesADetruire[i];if(lInstance){if(lInstance.controleur){aGUIDs[lInstance.controleur.$GUID]=true;}
  _hashFilsGUIDsControleur.bind(lInstance)(aGUIDs);}}}}
  Identite.prototype.hashGUIDsControleur=function(aGUIDs){aGUIDs=aGUIDs||{};if(this.controleur){aGUIDs[this.controleur.$GUID]=true;}
  if(this.Pere&&this.Pere.hashGUIDsControleur){this.Pere.hashGUIDsControleur(aGUIDs);}
  _hashFilsGUIDsControleur.bind(this)(aGUIDs);return aGUIDs;};Identite.prototype.avecEventResizeNavigateur=function(){return this.Pere&&this.Pere.avecEventResizeNavigateur?this.Pere.avecEventResizeNavigateur():true;};Identite.prototype.setEvenement=function(aEvenement){this.callback=new Callback(this.Pere,aEvenement);this.Evenement=aEvenement;};Identite.prototype.ConstruireNom=function(ANom,AIdent){return(AIdent===null||AIdent===undefined?ANom:ANom+'['+AIdent+']');};Identite.prototype.GetNom=function(){return this.Nom;};Identite.prototype.effacer=function(aMessage){if(aMessage===null||aMessage===undefined){aMessage='&nbsp;';}
  GHtml.setHtml(this.Nom,aMessage);};Identite.prototype.Afficher=function(H){if(H===null||H===undefined){H=this.ConstruireAffichage();}
  if(H){GHtml.setHtml(this.Nom,H,{instance:this});}};Identite.prototype.activerFocusable=function(){this.focusable=true;$('#'+this.Nom.escapeJQ()).attr('tabIndex','0').off('focus').on('focus',this.FocusSurPremierElement.bind(this));};Identite.prototype.desactiverFocusable=function(){this.focusable=false;$('#'+this.Nom.escapeJQ()).attr('tabIndex','').off('focus');};Identite.prototype.Initialiser=function(){var H=this.ConstruireAffichage();if(H){GHtml.setHtml(this.Nom,H,{instance:this});}
  this.RecupererDonnees();};Identite.prototype.composeMessage=function(aMessage){var H=[];H.push('<table style="width: 100%; height: 100px;"  border="0" cellpadding="0" cellspacing="0"',GObjetWAI?GObjetWAI.composeAttribut({genre:EGenreAttribut.labelledby,valeur:this.idMessageActionRequise})+' ':'',GObjetWAI?GObjetWAI.composeRole(EGenreRole.Note):'','tabIndex="0">','<tr>','<td class="Texte10 Gras AlignementMilieu" id="',this.idMessageActionRequise,'"  >',aMessage,'</td>','</tr>','</table>');return H.join('');};Identite.prototype.NavigationClavier=function(AId){if(GNavigateur.IsToucheFleche()){this.FocusSuivant(AId,(GNavigateur.IsToucheFlecheGauche()||GNavigateur.IsToucheFlecheDroite())?(EGenreOrientationAffichage.Horizontal):(EGenreOrientationAffichage.Vertical),(GNavigateur.IsToucheFlecheGauche()||GNavigateur.IsToucheFlecheHaut())?EGenreDirection.SensInverse:EGenreDirection.SensNormal);}
  if(GNavigateur.IsToucheSelection()){this._evenementSelectionElmNavigation(AId);}};Identite.prototype._evenementSelectionElmNavigation=function(){};Identite.prototype.FocusSuivant=function(AId,AOrientation,ADirection){var LIdSuivant=this.getIdNavigationSuivant(AId,AOrientation,ADirection);if(LIdSuivant){GHtml.setFocus(LIdSuivant);}};Identite.prototype.getIdNavigationSuivant=function(aId,aOrientation,aDirection){return(aOrientation===EGenreOrientationAffichage.Horizontal)?((aDirection===EGenreDirection.SensNormal)?this.TableauDroite[aId]:this.TableauGauche[aId]):((aDirection===EGenreDirection.SensNormal)?this.TableauBas[aId]:this.TableauHaut[aId]);};Identite.prototype.AjouterAuTableaux=function(APremierId,ADeuxiemeId,AHorizontal,AVertical){switch(AHorizontal){case EGenreDirection.DeuxSenses:this.TableauDroite[APremierId]=ADeuxiemeId;this.TableauGauche[ADeuxiemeId]=APremierId;break;case EGenreDirection.SensNormal:this.TableauDroite[APremierId]=ADeuxiemeId;break;case EGenreDirection.SensInverse:this.TableauGauche[ADeuxiemeId]=APremierId;break;}
  switch(AVertical){case EGenreDirection.DeuxSenses:this.TableauBas[APremierId]=ADeuxiemeId;this.TableauHaut[ADeuxiemeId]=APremierId;break;case EGenreDirection.SensNormal:this.TableauBas[APremierId]=ADeuxiemeId;break;case EGenreDirection.SensInverse:this.TableauHaut[ADeuxiemeId]=APremierId;break;}};Identite.prototype.ResetTableauxNavigation=function(){this.TableauGauche=[];this.TableauDroite=[];this.TableauHaut=[];this.TableauBas=[];};Identite.prototype.ComposeElementNavigation=function(aID,aContenu,aRole,aOnKeyUp,aOnClick,aOnFocus,aOnBlur,aStyle,aWaiHidden,aWaiLabelId,aWaiLabel){var lRole=aRole?GObjetWAI.composeRole(aRole):'';var lOnClick='';if(aOnClick){if(typeof aOnClick==='string'){lOnClick='onclick="'+aOnClick+'"';} else if(aOnClick.length===2){lOnClick=aOnClick[0]+'="'+aOnClick[1]+'"';}}
  var lOnKeyUp=aOnKeyUp||this.Nom+'.NavigationClavier (id); if (GNavigateur.IsToucheFleche () || GNavigateur.IsToucheSelection ()) GNavigateur.StopperEvenement (event);';var lOnFocus=aOnFocus||this.Nom+'.ActiverBordureNavigation (id, true);';var lOnBlur=aOnBlur||this.Nom+'.ActiverBordureNavigation (id, false);';var lClass=aWaiHidden?'wai_hidden':'BordureNavigationInactive';var lStyle=aStyle?' style="'+aStyle+'"':'';var lWaiLabelId=aWaiLabelId?' '+GObjetWAI.composeAttribut({genre:EGenreAttribut.describedby,valeur:aWaiLabelId}):'';var lWaiLabel=aWaiLabel?' '+GObjetWAI.composeAttribut({genre:EGenreAttribut.label,valeur:aWaiLabel}):'';var lHTML=[];lHTML.push('<div id="',aID,'" ',lRole,lStyle,' onkeyup="',lOnKeyUp,'" tabIndex="-1" class="',lClass,'" onblur="',lOnBlur,'" onfocus="',lOnFocus,'" ',lOnClick,' ',lWaiLabelId,' ',lWaiLabel,'>',aContenu,'</div>');return lHTML.join('');};Identite.prototype.ActiverBordureNavigation=function(aID,aBool){var lClass=aBool?'BordureNavigationActive':'BordureNavigationInactive';GHtml.setClass(aID,lClass);};Identite.prototype.SetTabId=function(ATabId){this.TabId=ATabId;};Identite.prototype.GetIdSuivant=function(AId){var LNbElt=this.TabId.length,I=0;if(LNbElt>0){for(I=0;I<LNbElt;I++){if(AId===this.TabId[I]){if(I<LNbElt-1){return this.TabId[I+1];}
  return this.TabId[0];}}
  return this.TabId[LNbElt-1];}};Identite.prototype.GetId=function(APositionId){if(APositionId<this.TabId.length){return this.TabId[APositionId];}};Identite.prototype.FocusSurSuivant=function(AIdElement,AAvecTestRetourChariot){var LAvecTestRetourChariot=AAvecTestRetourChariot||true;if((LAvecTestRetourChariot&&GNavigateur.IsToucheRetourChariot())||GNavigateur.IsToucheTab()){GHtml.setFocus(this.GetIdSuivant(AIdElement));}};Identite.prototype.FocusSurPremierElement=function(){GHtml.setFocus(this.IdPremierElement);};Identite.prototype.SetPremierElement=function(AElement){this.IdPremierElement=AElement;};Identite.prototype.getPremierElement=function(){return this.IdPremierElement;};Identite.prototype.GetPremierElement=function(){return this.IdPremierElement;};Identite.prototype.ajouterInstanceADetruire=function(aInstance){if(aInstance&&aInstance.Nom){this.instancesADetruire[aInstance.Nom]=aInstance;}};Identite.prototype.enleverInstanceADetruire=function(aInstance){if(aInstance&&aInstance.Nom){this.instancesADetruire[aInstance.Nom]=null;}};Identite.prototype.ajouterEvenementGlobal=function(aEvenement,aMethode){if(!GNavigateur.AddEvent){return;}
  if(!aMethode){
  return;}
  GNavigateur.AddEvent(aEvenement,this,aMethode);this.pileEvenementGlobaux.push({evenement:aEvenement,methode:aMethode});return this.pileEvenementGlobaux.length-1;};Identite.prototype.viderEvenementGlobaux=function(){var i=0;for(i=0;i<this.pileEvenementGlobaux.length;i++){GNavigateur.DelEvent(this.pileEvenementGlobaux[i].evenement,this);}
  this.pileEvenementGlobaux=[];};function _viderEvenements(){Invocateur.desabonner(this);this.viderEvenementGlobaux();}
  Identite.prototype.free=function(){if(this.isDestroyed()){return;}
  this.__enCoursDeDestruction=true;try{_viderEvenements.bind(this)();this.DetruireInstancesFils();if(this.DetruireInstances){this.DetruireInstances();}
  if(this.__estFenetreVolante){if(GHtml.elementExiste(this.Nom)){ZoneFenetre.enleverFenetre(this.Nom);}} else if(!this.Pere||!this.Pere.__enCoursDeDestruction){GHtml.setHtml(this.Nom,'',true);}
  if(this.Pere&&this.Pere.enleverInstanceADetruire){this.Pere.enleverInstanceADetruire(this);}
  if(this._callbacksSurDestruction.length>0){MethodesTableau.parcourir(this._callbacksSurDestruction,function(aCallback){aCallback();});}} catch(e){} finally{delete this.__enCoursDeDestruction;this._estDetruite=true;}};Identite.prototype.DetruireInstancesFils=function(){var lNom,lInstance;for(lNom in this.instancesADetruire){if(this.instancesADetruire.hasOwnProperty(lNom)){lInstance=this.instancesADetruire[lNom];if(lInstance&&!lInstance._estDetruite&&lInstance.free){lInstance.free();}
  this.instancesADetruire[lNom]=null;}}};Identite.prototype.ajouterCallbackSurDestruction=function(aCallback){this._callbacksSurDestruction.push(aCallback);return this;};Identite.prototype.isDestroyed=function(){return this._estDetruite||this.__enCoursDeDestruction;};var lGenerateurGUID=new GUID.generateur();Identite.creerInstance=function(aConstructeur,aParametres){if(!aConstructeur){
  return null;}
  var lNom=lGenerateurGUID.get(),lNomComplet='IE.Identite.collection.'+lNom;$.extend(aParametres,{nomComplet:lNomComplet});var lInstance=new aConstructeur(aParametres);lInstance.ajouterCallbackSurDestruction(function(){if(IE.Identite.collection[lNom]){delete IE.Identite.collection[lNom];}});IE.Identite.collection[lNom]=lInstance;return lInstance;};module.exports=Identite;},fn:"objetidentite.js"});;
  IE.fModule({f:function(exports,require,module,global){var GHtml=require('GHtml.js');var GStyle=require('GStyle.js');var GLog=require('IELog.js');var Invocateur=require('Invocateur.js').Invocateur;var GUID=require('GUID.js');var GestionnaireModale=(function(){var uBlocage={pile:[],nb:0,avecVoile:false,curseur:null};var uPileZIndex={};var uMaxZIndex= -1;var uZIndexBlocage=1000;var uGenerateurGUID=new GUID.generateur();var uClassBloquageInterface='nav_zoneBloquageInterface';function _ajoutDansPile(aId,aPourPremierPlan,aPourBlocageInterface,aPrioriteBlocage){var lPriorite=_getPrioriteBlocageDePriorite(aPrioriteBlocage);if(uPileZIndex[aId]){uPileZIndex[aId].pourPremierPlan=uPileZIndex[aId].pourPremierPlan||aPourPremierPlan;uPileZIndex[aId].pourBlocageInterface=uPileZIndex[aId].pourBlocageInterface||aPourBlocageInterface;uPileZIndex[aId].prioriteBlocage=Math.max(uPileZIndex[aId].prioriteBlocage,lPriorite);} else{var lElement=GHtml.getElement(aId);var lZindex=GStyle.getZindex(aId);if(lZindex||aPourBlocageInterface){uPileZIndex[aId]={element:lElement,zIndexOrigine:lZindex,zIndex:lZindex,pourPremierPlan:aPourPremierPlan,pourBlocageInterface:aPourBlocageInterface,prioriteBlocage:lPriorite,estBloque:false,pileBlocage:[]};uMaxZIndex=Math.max(uMaxZIndex,lZindex);}}}
  function _setZIndex(aId,zIndex){if(!uPileZIndex[aId]){return;}
  uPileZIndex[aId].zIndex=zIndex;GStyle.setZindex(aId,zIndex);}
  function _getPrioriteBlocageCourant(){var lPriorite=0;uBlocage.pile.forEach(function(aElement){lPriorite=Math.max(lPriorite,aElement.priorite);});return lPriorite;}
  function _getPrioriteBlocageDePriorite(aPrioriteBlocage){return aPrioriteBlocage||GestionnaireModale.TypePrioriteBlocageInterface.standard;}
  function _notifierAbonneBlocageInterface(aId,aBloquer,aForcerDeblocage,aPrioriteBlocage,aEtatBloquerPrecedent){var lElement=uPileZIndex[aId];if(lElement&&lElement.pourBlocageInterface){var lPrioriteBlocage=_getPrioriteBlocageDePriorite(aPrioriteBlocage);if(!aBloquer&&aForcerDeblocage){lElement.estBloque=false;if(lElement.methode){lElement.methode(aBloquer,uBlocage.avecVoile,uBlocage.curseur);} else{_setZIndex(aId,lElement.zIndexOrigine);}} else{if((aBloquer&&(!lElement.estBloque||(!lElement.avecVoile&&uBlocage.avecVoile!==false))&&(lElement.prioriteBlocage<=lPrioriteBlocage))||(!aBloquer&&lElement.estBloque&&!aEtatBloquerPrecedent)){if(aBloquer){lElement.estBloque=true;} else{lElement.estBloque=!!aEtatBloquerPrecedent;}
  if(lElement.methode){if(lElement.estBloque){lElement.avecVoile=uBlocage.avecVoile;}
  lElement.methode(lElement.estBloque,uBlocage.avecVoile,uBlocage.curseur);} else{if(lElement.estBloque){if(lElement.zIndex>uZIndexBlocage-10){_setZIndex(aId,uZIndexBlocage-10);}} else{_setZIndex(aId,lElement.zIndexOrigine);}}}}
  var lId=aId;if(lElement.blocageGeneral&&global.GApplication){lId=global.GApplication.getIdConteneur();}
  if(lElement.estBloque){$('#'+lId.escapeJQ()).addClass(uClassBloquageInterface);} else{$('#'+lId.escapeJQ()).removeClass(uClassBloquageInterface);}}}
  function _notifierAbonnesBlocageInterface(aBloquer,aForcerDeblocage,aPrioriteBlocage){var lId;for(lId in uPileZIndex){var lElement=uPileZIndex[lId];var lEtatPrecedent=null;if(aBloquer){lElement.pileBlocage.push(lElement.estBloque);} else{lEtatPrecedent=lElement.pileBlocage.pop();}
  _notifierAbonneBlocageInterface(lId,aBloquer,aForcerDeblocage,aPrioriteBlocage,lEtatPrecedent);}}
  function _desabonnementBlocageInterface(aId){if(uPileZIndex[aId]&&uPileZIndex[aId].pourBlocageInterface){GStyle.setZindex(aId,uPileZIndex[aId].zIndex);if(!uPileZIndex[aId].pourPremierPlan){delete uPileZIndex[aId];} else{uPileZIndex[aId].estBloque=false;uPileZIndex[aId].pourBlocageInterface=false;}}}
  function _desabonnementPremierPlan(aId){var lId;if(uPileZIndex[aId]){if(uPileZIndex[aId].zIndex>=uMaxZIndex){uMaxZIndex= -1;for(lId in uPileZIndex){if(uPileZIndex[lId]&&uPileZIndex[lId].pourPremierPlan&&(lId!==aId)){uMaxZIndex=Math.max(uMaxZIndex,uPileZIndex[lId].zIndex);}}}
  _setZIndex(aId,uPileZIndex[aId].zIndexOrigine);if(!uPileZIndex[aId].pourBlocageInterface){delete uPileZIndex[aId];} else{uPileZIndex[aId].pourPremierPlan=false;}}}
  Invocateur.abonner('finSession',function(){_notifierAbonnesBlocageInterface(false,true,GestionnaireModale.TypePrioriteBlocageInterface.systeme);});return{TypePrioriteBlocageInterface:{voile:1,standard:10,message:20,messageInformatif:30,systeme:99999},enPremierPlan:function(AIdPremierPlan){if(!uPileZIndex[AIdPremierPlan]){return;}
  var lId,lElement;for(lId in uPileZIndex){lElement=uPileZIndex[lId];if(lElement&&lElement.pourPremierPlan){if(!GHtml.elementExiste(lId)){GLog.addLog('Erreur ObjetNavigateur_Espace _enPremierPlan : element supprimé sans etre desabonné',null,GLog.genre.Erreur);_desabonnementPremierPlan(lId);} else if(!lElement.estBloque){if(lId===AIdPremierPlan){_setZIndex(lId,uMaxZIndex+1);} else if(!uPileZIndex[lId].estBloque){_setZIndex(lId,lElement.zIndexOrigine);}}}}},abonnementPremierPlan:function(aAbonner,aId){if(aAbonner){_ajoutDansPile(aId,true,false);} else{_desabonnementPremierPlan(aId);}},abonnementBlocageInterfaceGenerale:function(aId,aBloquerInterfaceGenerale){uPileZIndex[aId]={blocageGeneral:true,pourPremierPlan:false,pourBlocageInterface:true,estBloque:false,pileBlocage:[],prioriteBlocage:GestionnaireModale.TypePrioriteBlocageInterface.voile,methode:aBloquerInterfaceGenerale};},abonnementBlocageInterface:function(aAbonner,aId,aPrioriteBlocage){if(aAbonner){_ajoutDansPile(aId,false,true,aPrioriteBlocage);var lPriorite=_getPrioriteBlocageDePriorite(aPrioriteBlocage);if(GestionnaireModale.estInterfaceBloque()&&_getPrioriteBlocageCourant()>lPriorite){_notifierAbonneBlocageInterface(aId,true ,false,lPriorite);}} else{_desabonnementBlocageInterface(aId);}},estInterfaceBloque:function(){return uBlocage.pile.length>0;},estJElementBloque:function(aJElement){return aJElement&&aJElement.parents?aJElement.closest('.'+uClassBloquageInterface).length>0:false;},bloquerInterface:function(aParams){var lParams=Object.assign({bloquer:false,prioriteBlocage:GestionnaireModale.TypePrioriteBlocageInterface.standard,genreCurseur:null,avecVoile:null,forcerDeblocage:false,guidBlocage:null},aParams);if(!lParams.bloquer&&(uBlocage.pile.length===0)){return;}
  var lId=null;lParams.prioriteBlocage=_getPrioriteBlocageDePriorite(lParams.prioriteBlocage);if(lParams.bloquer){var lElement={priorite:lParams.prioriteBlocage,guid:uGenerateurGUID.get()};uBlocage.pile.push(lElement);lId=lElement.guid;uBlocage.avecVoile=lParams.avecVoile;uBlocage.curseur=lParams.genreCurseur;} else{if(lParams.guidBlocage){var lTrouve=false;uBlocage.pile=uBlocage.pile.filter(function(aElement){if(aElement.guid===lParams.guidBlocage){lTrouve=true;}
  return aElement.guid!==lParams.guidBlocage;});if(!lTrouve){
  return;}} else{uBlocage.pile.pop();}}
  _notifierAbonnesBlocageInterface(lParams.bloquer,false,lParams.prioriteBlocage);return lId;}};}());module.exports=GestionnaireModale;},fn:"gestionnairemodale.js"});;
  IE.fModule({f:function(exports,require,module,global){var EStructureAffichage={Verticale:1,Horizontale:2,Autre:3};module.exports=EStructureAffichage;},fn:"enumere_structureaffichage.js"});;
  IE.fModule({f:function(exports,require,module,global){var GLog=require('IELog.js');var MethodesObjet=require('MethodesObjet.js');var GHtml=require('GHtml.js');var GPosition=require('GPosition.js');var GStyle=require('GStyle.js');var EEvent=require('Enumere_Event.js');var EStructureAffichage=require('Enumere_StructureAffichage.js');var ZoneFenetre=require('IEZoneFenetre.js');var Identite=require('ObjetIdentite.js');var GObjetWAI=require('ObjetWAI.js').GObjetWAI;var EGenreRole=require('ObjetWAI.js').EGenreRole;MethodesObjet.heritagePrototype(ObjetAbstraitInterface,Identite);function ObjetAbstraitInterface(){this.inheritedCreate(arguments);this.EtatIdCourant=true;this.reset();this.NomObjetGraphique=[];this.AvecCadre=true;this.GenreStructure=EStructureAffichage.Verticale;this.IdentZoneAlClient= -1;this.AddSurZone=[];this.avecScrollV=false;this.idScrollV=this.Nom+'_scrollV';this.idPremierObjet='';if(this.Nom&&this.avecEventResizeNavigateur()){this.ajouterEvenementGlobal(EEvent.SurResize,this._surResizeInterface);}}
  ObjetAbstraitInterface.prototype.reset=function(){this.DetruireInstancesFils();this.Instances=[];this.GenreAffichage=[];this.PositionAffichage=[];this.NombreGenreAffichage=0;this._pileInfosFenetres=[];};ObjetAbstraitInterface.prototype.FocusSurPremierElement=function(){};ObjetAbstraitInterface.prototype.focusSurPremierObjet=function(){if(this.idPremierObjet){GHtml.setFocus(this.idPremierObjet);} else{GLog.addLog('['+MethodesObjet.getNomClassDeConstructeur(this.constructor)+'] Il est où mon premierobjet ?','',GLog.genre.Avertissement);}};ObjetAbstraitInterface.prototype.addInstance=function(aParametres){var lParametres={objet:null,constructionDecalee:false,evenement:null,init:null,ident:null,traductions:null};$.extend(lParametres,aParametres);var lObjetGraphique=GApplication.getObjetGraphique(lParametres.objet);if(!GApplication.existeObjetGraphique(lParametres.objet)){GLog.addLog('ObjetAbstraitInterface.prototype.addInstance : "'+(lObjetGraphique?lObjetGraphique.nom:lParametres.objet)+'" n"existe pas!',null,GLog.genre.Avertissement);return null;}
  if((lParametres.ident!==null&&lParametres.ident!==undefined)){this.NombreGenreAffichage=lParametres.ident;}
  this.GenreAffichage[this.NombreGenreAffichage]=lParametres.objet;if(!this.PositionAffichage[lParametres.objet]){this.PositionAffichage[lParametres.objet]=[];}
  this.PositionAffichage[lParametres.objet].push(this.NombreGenreAffichage);if(lObjetGraphique){if(lParametres.constructionDecalee){if(lObjetGraphique.estFenetre){this._pileInfosFenetres[this.NombreGenreAffichage]=({ident:this.NombreGenreAffichage,genre:lParametres.objet,evenement:lParametres.evenement,init:lParametres.init,traductions:lParametres.traductions,coordonnees:{left:0,top:0}});} else{}} else{var lInstance=_construireObjetGraphique.bind(this)(lObjetGraphique.constructeur,lObjetGraphique.nom,this.NombreGenreAffichage,lParametres.evenement);this.Instances[this.NombreGenreAffichage]=lInstance;if(lParametres.traductions){lInstance.setTraductions(lParametres.traductions);}
  if(lParametres.init){lParametres.init.call(this,lInstance);}}}
  return this.NombreGenreAffichage++;};ObjetAbstraitInterface.prototype.Add=function(AGenreAffichage,AEvenement,AInitialiser,aTraductions,I){return this.addInstance({objet:AGenreAffichage,evenement:AEvenement,init:AInitialiser,traductions:aTraductions,ident:I});};ObjetAbstraitInterface.prototype.addFenetre=function(AGenreAffichage,AEvenement,AInitialiser,aTraductions,I){return this.addInstance({objet:AGenreAffichage,constructionDecalee:true,evenement:AEvenement,init:AInitialiser,traductions:aTraductions,ident:I});};ObjetAbstraitInterface.prototype.Del=function(){this.Instances[this.NombreGenreAffichage]=null;this.NombreGenreAffichage--;};ObjetAbstraitInterface.prototype.GetInstance=function(AIdent){var lInstance=this.Instances[AIdent];if(!this.Instances[AIdent]&&GApplication.getObjetGraphique(this.GenreAffichage[AIdent])&&GApplication.getObjetGraphique(this.GenreAffichage[AIdent]).estFenetre&&this._pileInfosFenetres[AIdent]&&!this.__enCoursDeDestruction){lInstance=this.creerFenetre(AIdent);}
  return lInstance;};ObjetAbstraitInterface.prototype.existeInstance=function(aIdent){return!!this.Instances[aIdent];};function _construireObjetGraphique(aConstructeur,aNom,aIdent,aEvenement){GLog.addLog('Interface Construire '+aNom+' ('+aIdent+')','OBJETINTERFACE_LOGNOM');if(aConstructeur){
  return new aConstructeur({nomObjet:'Instances['+aIdent+']',pere:this,evenement:aEvenement});}
  ;return null;}
  ObjetAbstraitInterface.prototype.creerFenetre=function(AIdent){var lInstance;if(this._pileInfosFenetres[AIdent]){var lInfosFenetre=this._pileInfosFenetres[AIdent];var lObjetGraphique=GApplication.getObjetGraphique(lInfosFenetre.genre);lInstance=_construireObjetGraphique.bind(this)(lObjetGraphique.constructeur,lObjetGraphique.nom,AIdent,lInfosFenetre.evenement);lInstance.destructionSurFermeture=true;var lSelf=this;lInstance.ajouterCallbackSurDestruction(function(){if(AIdent!==undefined&&lSelf.Instances[AIdent]&&lSelf._pileInfosFenetres[AIdent]){lSelf.Instances[AIdent]=null;var lIndice=lSelf._pileFenetre.indexOf(lSelf.GetZoneId(AIdent));if(lIndice>=0){lSelf._pileFenetre[lIndice]=null;}}});if(lInfosFenetre.traductions){lInstance.setTraductions(lInfosFenetre.traductions);}
  if(!this._pileFenetre){this._pileFenetre=[];}
  this._pileFenetre.push(this.GetZoneId(AIdent));ZoneFenetre.ajouterFenetre(this.GetZoneId(AIdent),lInstance.getZIndex?lInstance.getZIndex():'');if(lInfosFenetre.init){lInfosFenetre.init.call(this,lInstance);}
  lInstance.coordonnees=lInfosFenetre.coordonnees;lInstance.Initialiser();this.Instances[AIdent]=lInstance;}
  return lInstance;};ObjetAbstraitInterface.prototype.GetNomInstance=function(AIdent){return this.GetInstance(AIdent)?this.GetInstance(AIdent).Nom:'';};ObjetAbstraitInterface.prototype.getInstanceParNom=function(aNom){var I;for(I=0;I<this.NombreGenreAffichage;I++){if(this.GetNomInstance(I)===aNom){return this.GetInstance(I);}}};ObjetAbstraitInterface.prototype.GetZoneId=function(AIdent){return this.ConstruireNom(this.Nom+'.Instances',AIdent);};function _construireStructureAffichage(){var lHtml=[];lHtml.push(this.ConstruireStructureFenetres());lHtml.push(this.ConstruireStructureAffichage());return lHtml.join('');}
  ObjetAbstraitInterface.prototype.Initialiser=function(aReset){if(aReset){this.reset();}
  this.EnConstruction=true;try{this.ConstruireInstances();this.SetParametresGeneraux();GHtml.setHtml(this.Pere===null||this.Pere===undefined?GApplication.getIdConteneur():this.Nom,_construireStructureAffichage.bind(this)(),{instance:this});this.ConstruireAffichage();} finally{this.EnConstruction=false;}
  this.RecupererDonnees();this.surResizeInterface();if(this.avecScrollV&&!GNavigateur.isTactile){$('#'+this.idScrollV.escapeJQ()).ieScrollPane();this.construireScrollPane();}
  return this;};ObjetAbstraitInterface.prototype.AppartientAZone=function(AIdent){var I,lElement;for(I=0;I<this.AddSurZone.length;I++){lElement=this.AddSurZone[I];if((lElement===AIdent&&lElement!=='')||(lElement&&lElement.ident===AIdent)){return true;}}
  return false;};ObjetAbstraitInterface.prototype.ConstruireStructureAffichageVerticale=function(){var H=[],I,lInfo;var LCadre=this.AvecCadre?5:0;var LStyle=this.couleurFond?GStyle.composeCouleurFond(this.couleurFond):'';H.push('<div style="height:100%">');H.push('<table class="AlignementHaut" style="width:100%; height:100%;',LStyle,'" border="0" cellpadding="0" cellspacing="'+LCadre+'" ',GObjetWAI.composeRole(EGenreRole.Presentation),'>');var lTabAffichages=[];for(I=0;I<this.NombreGenreAffichage;I++){if(!this.AppartientAZone(I)&&!GApplication.getObjetGraphique(this.GenreAffichage[I]).estFenetre){lInfo={estZoneClient:this.IdentZoneAlClient===I,indice:I};lTabAffichages.push(lInfo);}}
  for(I=0;I<lTabAffichages.length;I++){lInfo=lTabAffichages[I];H.push('<tr><td class="AlignementHaut" ');H.push('style="height:'+(lInfo.estZoneClient?'100%':'10px')+'" ');if(lInfo.estZoneClient){this._infoPourResize={id:this.GetZoneId(lInfo.indice),padding:LCadre&&(I>0)?5:0};}
  H.push('id="'+this.GetZoneId(lInfo.indice)+'">');H.push(GHtml.composeBlanc());H.push('</td></tr>');}
  if(this.NombreGenreAffichage===0){H.push('<tr><td>'+this.composeMessage('')+'</td></tr>');}
  H.push('</table>');H.push('</div>');return H.join('');};ObjetAbstraitInterface.prototype.ConstruireStructureAffichageHorizontale=function(){var H=[],I;var LCadre=this.AvecCadre?5:0;var LStyle=this.couleurFond?GStyle.composeCouleurFond(this.couleurFond):'';H.push('<table ',GObjetWAI.composeRole(EGenreRole.Presentation),' style="height:100%;width: 100%;'+LStyle+'" ');H.push('border="0" cellpadding="0" cellspacing="'+LCadre+'">');H.push('<tr><td style="height: 100%;" class="AlignementHaut">');H.push('<div style="height: 100%;">');H.push('<table style="width: 100%; height: 100%;'+LStyle+'" border="0" cellpadding="0" cellspacing="'+LCadre+'"><tr>');var lZoneResizeDefinie=false;for(I=0;I<this.NombreGenreAffichage;I++){if(!this.AppartientAZone(I)&&!GApplication.getObjetGraphique(this.GenreAffichage[I]).estFenetre){H.push('<td class="AlignementHaut" ');if(this.IdentZoneAlClient!==I){H.push('style="width: 10px; height: 100%;"');}
  if(this.IdentZoneAlClient===I){H.push('><div id="'+this.GetZoneId(I)+'" tabindex="-1" style="width:100%; height:100%;"></div>');} else{H.push(' id="'+this.GetZoneId(I)+'">');}
  if(!lZoneResizeDefinie){lZoneResizeDefinie=true;this._infoPourResize={id:this.GetZoneId(I),padding:0};}
  H.push('</td>');}}
  if(this.NombreGenreAffichage===0){H.push('<tr><td>'+this.composeMessage('Page sans objets graphiques')+'</td></tr>');}
  H.push('</tr></table>');H.push('</div>');H.push('</td></tr>');H.push('</table>');return H.join('');};ObjetAbstraitInterface.prototype.ConstruireStructureAffichageAutre=function(){};ObjetAbstraitInterface.prototype.ConstruireStructureFenetres=function(){_effacerFenetres.bind(this)();var H=[],I;for(I=0;I<this.NombreGenreAffichage;I++){if(GApplication.getObjetGraphique(this.GenreAffichage[I]).estFenetre&&this.Instances[I]){if(!this._pileFenetre){this._pileFenetre=[];}
  this._pileFenetre.push(this.GetZoneId(I));ZoneFenetre.ajouterFenetre(this.GetZoneId(I),this.Instances[I]&&this.Instances[I].getZIndex?this.Instances[I].getZIndex():'');}}
  return H.join('');};ObjetAbstraitInterface.prototype.ConstruireInstances=function(){};ObjetAbstraitInterface.prototype.SetParametresGeneraux=function(){};ObjetAbstraitInterface.prototype.ConstruireStructureAffichage=function(){var lHtml=[];if(this.avecScrollV&&!GNavigateur.isTactile){lHtml.push('<div id="',this.idScrollV,'" style="position:relative; height:100%; overflow-x:hidden; overflow-y:auto;">');if(this.avecEventResizeNavigateur()){this.ajouterEvenementGlobal(EEvent.SurFinResize,_surFinResize);this.ajouterEvenementGlobal(EEvent.SurPreResize,_surPreResize);}}
  switch(this.GenreStructure){case EStructureAffichage.Horizontale:lHtml.push(this.ConstruireStructureAffichageHorizontale());break;case EStructureAffichage.Verticale:lHtml.push(this.ConstruireStructureAffichageVerticale());break;default:lHtml.push(this.ConstruireStructureAffichageAutre());break;}
  if((this.AddSurZone.length||this.avecBandeau)&&this.ConstruireStructureAffichageBandeau){this.ConstruireStructureAffichageBandeau();}
  if(this.avecScrollV&&!GNavigateur.isTactile){lHtml.push('</div>');}
  return lHtml.join('');};ObjetAbstraitInterface.prototype.ConstruireAffichage=function(){var I;for(I=0;I<this.NombreGenreAffichage;I++){if(this.Instances[I]){if(!GApplication.getObjetGraphique(this.GenreAffichage[I]).estFenetre){this.Instances[I].SetVisible(this.Instances[I].Visible);}
  this.Instances[I].Initialiser();}}};ObjetAbstraitInterface.prototype.RecupererDonnees=function(){};ObjetAbstraitInterface.prototype.ConstruireObjetGraphique=function(ANomObjet,AIdent,AEvenement){var lObjetGraphique=GApplication.getObjetGraphique(ANomObjet);return lObjetGraphique?_construireObjetGraphique.bind(this)(lObjetGraphique.constructeur,lObjetGraphique.nom,AIdent,AEvenement):null;};ObjetAbstraitInterface.prototype.getSaisiePageEnCours=function(){return null;};ObjetAbstraitInterface.prototype.ActionSurValidation=function(){if(this._callbackNavigation){this._callbackNavigation();delete this._callbackNavigation;} else if(this.AfficherPage){this.AfficherPage.apply(this,arguments);} else{this.RecupererDonnees.apply(this,arguments);}};ObjetAbstraitInterface.prototype.SetIdCourant=function(AId){if(this.EtatIdCourant&&window.GEtatUtilisateur){window.GEtatUtilisateur.IdCourant=AId;}};ObjetAbstraitInterface.prototype.GetIdCourant=function(){return window.GEtatUtilisateur?window.GEtatUtilisateur.IdCourant:null;};ObjetAbstraitInterface.prototype.SetFocusIdCourant=function(){GHtml.setFocus(this.GetIdCourant());};ObjetAbstraitInterface.prototype.SetEtatIdCourant=function(ABool){this.EtatIdCourant=((ABool!==null&&ABool!==undefined))?ABool:true;};ObjetAbstraitInterface.prototype._surResizeInterface=function(){if(GNavigateur.bloquerResize){return;}
  this.surResizeInterface();};ObjetAbstraitInterface.prototype.construireScrollPane=function(){$('#'+this.idScrollV.escapeJQ()).ieScrollPane();};ObjetAbstraitInterface.prototype.surResizeInterface=function(){if(this.avecScrollV&&!GNavigateur.isTactile){var lReconstruireScroll=false;var lJScroll=$('#'+this.idScrollV.escapeJQ());var lData=lJScroll.data('jsp');if(lData){lData.destroy();lReconstruireScroll=true;}
  lJScroll.css('height',0).css('height',$('#'+this.Nom.escapeJQ()).innerHeight()+'px');if(this._infoPourResize){GPosition.declencherResize(this._infoPourResize.id,GNavigateur.IsIE?-1:0);}
  if(lReconstruireScroll){this.construireScrollPane();}} else if(this._infoPourResize){GPosition.declencherResize(this._infoPourResize.id);}};function _surPreResize(){if(this.avecScrollV&&!GNavigateur.isTactile){var lData=$('#'+this.idScrollV.escapeJQ()).data('jsp');if(lData){lData.destroy();}
  $('#'+this.idScrollV.escapeJQ()).css('overflow-y','hidden');}}
  function _surFinResize(){if(this.avecScrollV&&!GNavigateur.isTactile){this.construireScrollPane();$('#'+this.idScrollV.escapeJQ()).css('overflow-y','auto');}}
  function _effacerFenetres(){if(this._pileFenetre){this._pileFenetre=[];}}
  ObjetAbstraitInterface.prototype.DetruireInstancesFils=function(){_effacerFenetres.bind(this)();this.inherited('DetruireInstancesFils');var N=this.Instances?this.Instances.length:0,I,lInstance;for(I=0;I<N;I++){lInstance=this.Instances[I];if(lInstance&&(!lInstance.isDestroyed||!lInstance.isDestroyed())&&lInstance.free){GLog.addLog('DetruireInstancesFils instance non detruite : '+lInstance.Nom);lInstance.free();}
  this.Instances[I]=null;}};module.exports=ObjetAbstraitInterface;},fn:"objetinterface.js"});;
  IE.fModule({f:function(exports,require,module,global){var MethodesObjet=require('MethodesObjet.js');var GHtml=require('GHtml.js');require('iehtml.bouton.js');var ObjetAbstraitInterface=require('ObjetInterface.js');var GTraductions=require('ObjetTraduction.js');var TypeThemeBouton=require('Type_ThemeBouton.js');var EStructureAffichage=require('Enumere_StructureAffichage.js');function _ObjetFenetre(){this.inheritedCreate(arguments);this.optionsFenetre={};this.EnAffichage=false;this.promise=null;this._promiseResolve=null;this.NomFenetre=this.Nom+'_Fenetre';this.idFenetreContenu=this.Nom+'_FenetreContenu';this.IdTitre=this.Nom+'_Titre';this.IdTitreImage=this.IdTitre+'_image';this.IdContenu=this.Nom+'_Contenu';this.IdPremierElement=this.NomFenetre;this.GenreStructure=EStructureAffichage.Autre;}
  MethodesObjet.heritagePrototype(_ObjetFenetre,ObjetAbstraitInterface);_ObjetFenetre.prototype.setOptionsFenetre=function(aOptions){$.extend(this.optionsFenetre,aOptions);this._structureBoutons=null;this.$refreshSelf();return this;};_ObjetFenetre.prototype.getControleur=function(aInstance){return{$off:function(){return!aInstance.EnAffichage;},listeBoutons:function(){if(!aInstance._structureBoutons){aInstance._structureBoutons=[];var T=aInstance._structureBoutons;aInstance.optionsFenetre.listeBoutons.forEach(function(aElement,aIndex){var lElement={};if(MethodesObjet.isObject(aElement)){Object.assign(lElement,aElement);} else{lElement.libelle=aElement;}
  if(aElement){lElement.index=aIndex;lElement.theme=lElement.theme?lElement.theme:(lElement.libelle===GTraductions.getValeur('Valider')?TypeThemeBouton.primaire:TypeThemeBouton.secondaire);T.push(lElement);}});}
  return aInstance._structureBoutons||[];},fenetreBtn:{event:function(aBoutonRepeat){aInstance.SurValidation(aBoutonRepeat.element.index);},getDisabled:function(aBoutonRepeat){return aInstance.optionsFenetre.listeBoutonsInactifs&&aInstance.optionsFenetre.listeBoutonsInactifs[aBoutonRepeat.element.index]===true;},getOptions:function(aBoutonRepeat){if(MethodesObjet.isObject(aBoutonRepeat.element.theme)){return aBoutonRepeat.element.theme;}}}};};_ObjetFenetre.prototype.ComposeContenu=function(){return'';};_ObjetFenetre.prototype.getBoutonNumero=function(aNumeroBouton){var lBouton={};if(this.optionsFenetre.listeBoutons){lBouton=this.optionsFenetre.listeBoutons[aNumeroBouton];}
  return lBouton||{annuler:true};};_ObjetFenetre.prototype.getParametresValidation=function(aNumeroBouton){var lParametres={instance:this,bouton:this.getBoutonNumero(aNumeroBouton),numeroBouton:aNumeroBouton};if(MethodesObjet.isFunction(this.optionsFenetre.addParametresValidation)){Object.assign(lParametres,this.optionsFenetre.addParametresValidation.call(this.Pere,lParametres));}
  return lParametres;};_ObjetFenetre.prototype.SurValidation=function(ANumeroBouton){var lParams=this.getParametresValidation(ANumeroBouton);if(this._promiseResolve){this._promiseResolve(lParams);this._promiseResolve=null;}
  if(this.optionsFenetre.surValiderAvantFermer){this.optionsFenetre.surValiderAvantFermer.call(this.Pere,lParams);}
  this.Fermer();if(this.optionsFenetre.callback){this.optionsFenetre.callback.call(this.Pere,ANumeroBouton,lParams);}
  this.callback.appel(ANumeroBouton,lParams);};_ObjetFenetre.prototype.EstAffiche=function(){return this.EnAffichage===true;};_ObjetFenetre.prototype.positionnerFenetre=function(){};_ObjetFenetre.protected={surFermer:function(aCallbacFermerHtml){if(this.SurFermer){this.SurFermer();}
  if(MethodesObjet.isFunction(this.optionsFenetre.callbackFermer)){this.optionsFenetre.callbackFermer();}
  this.$refresh();GHtml.setDisplay(this.Nom,false);if(aCallbacFermerHtml){aCallbacFermerHtml();}
  this.EnAffichage=false;if(this.destructionSurFermeture&&!this.__enCoursDeDestruction){this.__surDestructionApresFermeture_=true;this.free();}
  if(MethodesObjet.isFunction(this.optionsFenetre.callbackApresFermer)){this.optionsFenetre.callbackApresFermer();}
  if(this._promiseResolve){this._promiseResolve({surFermer:true});this._promiseResolve=null;}}};module.exports=_ObjetFenetre;},fn:"_objetfenetre.js"});;
  IE.fModule({f:function(exports,require,module,global){require('produit/css/ObjetFenetre.css');require('DeclarationJQueryUI.js');require('jIEDraggable.js');var EGenreBordure=require('_ObjetStyle.js').EGenreBordure;var ObjetInvocateur=require('Invocateur.js').ObjetInvocateur;var Invocateur=require('Invocateur.js').Invocateur;var MethodesObjet=require('MethodesObjet.js');var GHtml=require('GHtml.js');var GPosition=require('GPosition.js');var GStyle=require('GStyle.js');var EEvent=require('Enumere_Event.js');require('iehtml.bouton.js');var ZoneFenetre=require('IEZoneFenetre.js');var Identite=require('ObjetIdentite.js');var Support=require('ObjetSupport.js');var GTraductions=require('ObjetTraduction.js');var GObjetWAI=require('ObjetWAI.js').GObjetWAI;var EGenreRole=require('ObjetWAI.js').EGenreRole;var EGenreAttribut=require('ObjetWAI.js').EGenreAttribut;var TypeThemeBouton=require('Type_ThemeBouton.js');var MethodesTableau=require('MethodesTableau.js');var ResizeObserver=require('ResizeObserver.js');var GestionnaireModale=require('GestionnaireModale.js');var _ObjetFenetre=require('_ObjetFenetre.js');function ObjetFenetre(){this.inheritedCreate(arguments);this.Titre='';_initialiserOptionsFenetre.call(this);this.resetCoordonnees();if(this.Nom){this.ajouterEvenementGlobal(EEvent.SurPreResize,_preResizePositionnement);this.ajouterEvenementGlobal(EEvent.SurPostResize,_postResizePositionnement);if(GNavigateur.IsIE){this.ajouterEvenementGlobal(EEvent.SurPostResize,_postResizeIE);}}
  Invocateur.abonner(GNavigateur.getEventInvocateur('mousedown'),function(aEvent){if(this.optionsFenetre.fermerFenetreSurClicHorsFenetre&&!aEvent.originalEvent.__mousedownSurFenetre__&&this.EnAffichage&&!GestionnaireModale.estJElementBloque($('#'+this.Nom.escapeJQ()))){this.Fermer();}},this);}
  MethodesObjet.heritagePrototype(ObjetFenetre,_ObjetFenetre);ZoneFenetre.etendreEnFenetre(ObjetFenetre,{zIndex:1100});var uCoordonneesBackup={};ObjetFenetre.prototype.DetruireInstances=function(){_enleverEventsRetaillage.bind(this)();if(!this.__surDestructionApresFermeture_){this.Fermer(false);}};ObjetFenetre.prototype.SetParametresGeneraux=function(){GHtml.setDisplay(this.Nom,false);};function _initialiserOptionsFenetre(){this.setOptionsFenetre({modale:true,avecTitre:true,titre:'',largeur:100,hauteur:100,marge:12,avecTailleSelonContenu:false,avecPaddingContenu:true,avecCroixFermeture:true,indiceCroixFermeture:-1,avecScroll:false,cssFenetre:MethodesObjet.getObjectClass(this)+'_racine',avecRetaillage:false,largeurMin:0,hauteurMin:0,tailleBandeRetaillage:3,callbackDeplacer:null,addParametresValidation:null,surValiderAvantFermer:null,callback:null,callbackFermer:null,callbackApresFermer:null,listeBoutons:[],listeBoutonsInvisibles:[],listeBoutonsInactifs:[],avecAbonnementBlocage:true,prioriteBlocageAbonnement:GestionnaireModale.TypePrioriteBlocageInterface.standard,avecAbonnementPremierPlan:true,avecPositionnementResize:true,positionnerFenetreSurAfficher:true,idPositionnement:'',positionSurSouris:false,conserverCoordonnees:true,identConservationCoordonnees:'',avecAbonnementFermetureFenetreGenerale:true,bloquerFocus:false,restaurerFocusSurFermeture:true,fermerFenetreSurClicHorsFenetre:false,couleurFond:GCouleur.blanc,hauteurBandeau:GApplication.hauteurBandeau,couleurFondBandeau:GCouleur.fenetre.bandeau.fond,couleurTexteBandeau:GCouleur.fenetre.bandeau.texte,couleurSeparateurBandeau:GCouleur.fenetre.bandeau.separateur,jIEDraggableSurCreationNode:true});}
  ObjetFenetre.prototype.getOptionsDraggable=function(){return{handle:'.ZoneDeplacementFenetre',stop:function(){this.setCoordonnees();this.FocusSurPremierElement();}.bind(this)};};function _surCreationNodeFenetre(aNode){var lInstance=this;if(this.optionsFenetre.jIEDraggableSurCreationNode){$('#'+this.Nom.escapeJQ()).jIEDraggable(this.getOptionsDraggable());}
  Invocateur.desabonner(ObjetInvocateur.events.fermerFenetres,this);Invocateur.abonner(ObjetInvocateur.events.fermerFenetres,function(aForcer){if(aForcer||this.optionsFenetre.avecAbonnementFermetureFenetreGenerale){this.Fermer();}},this);if(this.optionsFenetre.avecRetaillage){var lJDroit=$('<div style="position:absolute; right:0px; top : 0; bottom:0;'+GStyle.composeWidth(this.optionsFenetre.tailleBandeRetaillage)+'" class="AvecResizeHorizontal"></div>').on('iedown',{instance:this,droit:true},_surMouseDownRetaillage),lJBas=$('<div style="position:absolute; right:0; bottom:0px;left:0;'+GStyle.composeHeight(this.optionsFenetre.tailleBandeRetaillage)+'" class="AvecResizeVertical"></div>').on('iedown',{instance:this,bas:true},_surMouseDownRetaillage),lJGauche=$('<div style="position:absolute; left:-'+this.optionsFenetre.tailleBandeRetaillage+'px; bottom:0;top:0;'+GStyle.composeWidth(this.optionsFenetre.tailleBandeRetaillage)+'" class="AvecResizeHorizontal"></div>').on('iedown',{instance:this,gauche:true},_surMouseDownRetaillage),lJHaut=$('<div style="position:absolute; right:0; left:0;top:-'+this.optionsFenetre.tailleBandeRetaillage+'px;'+GStyle.composeHeight(this.optionsFenetre.tailleBandeRetaillage)+'" class="AvecResizeVertical"></div>').on('iedown',{instance:this,haut:true},_surMouseDownRetaillage),lJCoin=$('<div style="position:absolute; right:1px; bottom:0; z-index:1;" class="AvecResize Fenetre_ImageFondResize Image_Retailler"></div>').on('iedown',{instance:this,bas:true,droit:true},_surMouseDownRetaillage);$('#'+this.Nom.escapeJQ()).append(lJDroit,[lJCoin,lJBas,lJGauche,lJHaut]);}
  $(aNode).on({'keyup':function(aEvent){if(GNavigateur.IsToucheEchap&&GNavigateur.IsToucheEchap()){lInstance.SurValidation(aEvent.data.instance.optionsFenetre.indiceCroixFermeture);}},'mousedown':function(aEvent){GestionnaireModale.enPremierPlan(lInstance.GetNom());if(lInstance.optionsFenetre.fermerFenetreSurClicHorsFenetre){aEvent.originalEvent.__mousedownSurFenetre__=true;}}},{instance:this});}
  ObjetFenetre.prototype.getControleur=function(aInstance){return{getNodeFenetre:function(){_surCreationNodeFenetre.call(this.instance,this.node);},getTitre:function(){return this.instance.optionsFenetre.titre?MethodesObjet.isFunction(this.instance.optionsFenetre.titre)?this.instance.optionsFenetre.titre()||'':this.instance.optionsFenetre.titre:this.instance.Titre||'';},btnCroixFermeture:{event:function(){aInstance.SurValidation(aInstance.optionsFenetre.indiceCroixFermeture);}},avecZoneBas:function(){return!!this.instance.ComposeBas()||(this.instance.optionsFenetre.listeBoutons&&this.instance.optionsFenetre.listeBoutons.length>0);},avecBoutons:function(){return this.instance.optionsFenetre.listeBoutons&&this.instance.optionsFenetre.listeBoutons.length>0;},htmlRepeatBoutons:function(aBoutonRepeat){var lMargin=4;if(aBoutonRepeat.element.theme===TypeThemeBouton.primaire&&aBoutonRepeat.indice>0&&aBoutonRepeat.tableau[aBoutonRepeat.indice-1]&&aBoutonRepeat.tableau[aBoutonRepeat.indice-1].theme!==TypeThemeBouton.primaire){lMargin=8;}
  return['<ie-bouton',' id="',aInstance._getIdBoutons(aBoutonRepeat.element.index),'"',' ie-model="fenetreBtn(bouton)"',aBoutonRepeat.element.theme&&MethodesObjet.isString(aBoutonRepeat.element.theme)?' class="'+aBoutonRepeat.element.theme+'"':'',' style="',this.instance.optionsFenetre.listeBoutonsInvisibles[aBoutonRepeat.element.index]===true?'display:none;':'','margin-left:',lMargin,'px;','"','>',aBoutonRepeat.element.libelle,'</ie-bouton>'
  ].join('');}};};ObjetFenetre.prototype.FocusSurPremierElement=function(){GHtml.setFocus(this.IdTitre);};ObjetFenetre.prototype.ConstruireStructureAffichageAutre=function(){var lHTML=[];if(this.optionsFenetre.identConservationCoordonnees&&uCoordonneesBackup[this.optionsFenetre.identConservationCoordonnees]){this.coordonnees=uCoordonneesBackup[this.optionsFenetre.identConservationCoordonnees]||this.coordonnees||{};}
  if(this.optionsFenetre.avecRetaillage&&this.existeCoordonnees()){if(this.coordonnees.width>0){this.optionsFenetre.largeur=this.coordonnees.width;}
  if(this.coordonnees.height>0){this.optionsFenetre.hauteur=this.coordonnees.height;}}
  var LStyle=this.optionsFenetre.largeur?GStyle.composeWidth(this.optionsFenetre.largeur):'';LStyle+=(this.optionsFenetre.largeurMin>0)?'min-width: '+this.optionsFenetre.largeurMin+'px;':'';LStyle+=this.optionsFenetre.hauteur?GStyle.composeHeight(this.optionsFenetre.hauteur):GStyle.composeHeight(100,'%');LStyle+=(this.optionsFenetre.hauteurMin>0)?'min-height: '+this.optionsFenetre.hauteurMin+'px;':'';LStyle+=GStyle.composeBoxShadow();LStyle+=GStyle.composeCouleurFond(this.optionsFenetre.couleurFond);lHTML.push('<span class="wai_hidden" tabindex="0" onfocus="'+this.Nom+'.FocusSurPremierElement();"></span>','<div id="',this.NomFenetre,'"',' ie-node="getNodeFenetre"',GObjetWAI.composeAttribut({genre:EGenreAttribut.labelledby,valeur:this.IdTitre}),' class="SansOutline ',(this.optionsFenetre.cssFenetre||''),'" tabIndex="-1" ',GObjetWAI.composeRole(EGenreRole.Dialog),'>','<table id="',this.idFenetreContenu,'" class="Fenetre_Cadre Fenetre_Scroll" style="',LStyle,'" border="0" cellpadding="0" cellspacing="',this.optionsFenetre.marge,'">');var lHtmlBas=this.ComposeBas();var lHtmlBoutons=this.ComposeBoutons();if(this.optionsFenetre.avecTitre){lHTML.push('<tr class="NePasImprimer AlignementHaut"><td style="height: '+this.optionsFenetre.hauteurBandeau+'px;">','<table class="Texte14 Fenetre_Titre" style="','height: '+this.optionsFenetre.hauteurBandeau+'px; ',GStyle.composeCouleur(this.optionsFenetre.couleurFondBandeau,this.optionsFenetre.couleurTexteBandeau),'" border="0" cellpadding="0" cellspacing="0">','<tr>','<td id="',this.IdTitre,'" style="',GStyle.composeCouleurBordure(this.optionsFenetre.couleurSeparateurBandeau,1,EGenreBordure.bas),'" class="EspaceGauche ZoneDeplacementFenetre" ie-html="getTitre" tabindex="0">','</td>','<td class="EspaceDroit PetitEspaceGauche" style="',GStyle.composeCouleurBordure(this.optionsFenetre.couleurSeparateurBandeau,1,EGenreBordure.bas),'" width="1px"',' ie-display="optionsFenetre.avecCroixFermeture">','<ie-btnimage class="btnImageIcon icon-remove Maigre" ie-model="btnCroixFermeture" style="font-size:13px;"',' title="',GTraductions.getValeur('Fermer'),'"></ie-btnimage>','</td>','</tr>','</table>','</td></tr>');}
  lHTML.push('<tr class="AlignementHaut"><td id="',this.Nom+'_Res"',(this.optionsFenetre.avecPaddingContenu?' class="Fenetre_Espace" ':''),' style="height:100%">','<div id="',this.IdContenu,'" class="Fenetre_Contenu" style="',(this.optionsFenetre.avecTailleSelonContenu?'':'height:100%; '),(this.optionsFenetre.avecScroll?'overflow:auto;':''),'">',GHtml.nettoyerHtml(this.ComposeContenu()),'</div>','</td></tr>');lHTML.push('<tr ie-display="avecZoneBas" class="NePasImprimer"><td>','<table style="width:100%" border="0" cellpadding="0" cellspacing="0">','<tr>','<td width="100%" class="Fenetre_Bas">',lHtmlBas,'</td>','<td>',lHtmlBoutons,'</td>','</tr>','</table>','</td></tr>');lHTML.push('</table>');lHTML.push('</div>','<span class="wai_hidden" tabindex="0"  onfocus="'+this.Nom+'.FocusSurPremierElement();"></span>');return lHTML.join('');};ObjetFenetre.prototype.ComposeBoutons=function(){var lHTML=[];lHTML.push('<div ie-if="avecBoutons" style="display:flex;">','<div ie-repeat="bouton in listeBoutons" ie-html="htmlRepeatBoutons(bouton)"></div>','</div>');return lHTML.join('');};ObjetFenetre.prototype.ComposeBas=function(){return'';};ObjetFenetre.prototype.existeCoordonnees=function(){return this.optionsFenetre.conserverCoordonnees&&((this.coordonnees!==null&&this.coordonnees!==undefined))&&this.coordonnees.left&&this.coordonnees.top;};ObjetFenetre.prototype.resetCoordonnees=function(){if(!this.coordonnees){this.coordonnees={};}
  this.coordonnees=Object.assign(this.coordonnees||{},{left:null,top:null,width:null,height:null});};ObjetFenetre.prototype.setCoordonnees=function(){if(!this.optionsFenetre.conserverCoordonnees){return;}
  Object.assign(this.coordonnees||{},{left:GPosition.getLeft(this.Nom),top:GPosition.getTop(this.Nom),width:this.optionsFenetre.avecRetaillage?this.optionsFenetre.largeur:null,height:this.optionsFenetre.avecRetaillage?this.optionsFenetre.hauteur:null});if(this.optionsFenetre.identConservationCoordonnees){uCoordonneesBackup[this.optionsFenetre.identConservationCoordonnees]=this.coordonnees;}
  if(this.optionsFenetre.callbackDeplacer){this.optionsFenetre.callbackDeplacer(this,this.coordonnees);}};ObjetFenetre.prototype.SetParametres_Fenetre=function(aTitre,aLongueur,aHauteur,aListeBoutons,aModale,aAvecRetaillage,aAvecScroll,aLongueurMinimal,aHauteurMinimal,aAvecMrFiche){this.Titre=aTitre;this.setOptionsFenetre({modale:aModale!==false,listeBoutons:aListeBoutons===undefined?aListeBoutons:aListeBoutons||[],largeur:aLongueur,hauteur:aHauteur,avecRetaillage:(aAvecRetaillage!==null&&aAvecRetaillage!==undefined)?aAvecRetaillage:undefined,largeurMin:MethodesObjet.isNumber(aLongueurMinimal)?aLongueurMinimal:undefined,hauteurMin:MethodesObjet.isNumber(aHauteurMinimal)?aHauteurMinimal:undefined,avecScroll:(aAvecScroll!==null&&aAvecScroll!==undefined)?aAvecScroll:undefined,avecMrFiche:(aAvecMrFiche!==null&&aAvecMrFiche!==undefined)?aAvecMrFiche:undefined});};ObjetFenetre.prototype.SetListeBoutons=function(AListeBoutons){this.setOptionsFenetre({listeBoutons:AListeBoutons});};ObjetFenetre.prototype._getIdBoutons=function(aIndice){return this.Nom+'_btns_'+aIndice;};ObjetFenetre.prototype.positionnerFenetre=function(aParams){var lParams=Object.assign({left:null,top:null,id:'',positionSurSouris:false,positionSurSourisSiAffiche:false,enAffichage:null,centrerParDefaut:true},aParams);var lEnAffichage=this.EnAffichage;if(lParams.enAffichage===false||lParams.enAffichage===true){lEnAffichage=lParams.enAffichage;}
  if(this.existeCoordonnees()&&GPosition.placer){GPosition.placer(this.Nom,this.coordonnees.left,this.coordonnees.top);} else if(MethodesObjet.isNumber(lParams.top)&&MethodesObjet.isNumber(lParams.left)&&GPosition.placer){GPosition.placer(this.Nom,lParams.left,lParams.top);} else if(this.optionsFenetre.idPositionnement||lParams.id){GPosition.placerFiche(this.Nom,this.optionsFenetre.idPositionnement||lParams.id,lEnAffichage);} else if(this.optionsFenetre.positionSurSouris||lParams.positionSurSouris){if(!lEnAffichage||lParams.positionSurSourisSiAffiche){GPosition.placer(this.Nom,GNavigateur.SourisX,GNavigateur.SourisY);}} else if(lParams.centrerParDefaut){GPosition.centrer(this.Nom,null,true);}
  return this;};function _creerResizeObserver(){var lElement=GHtml.getElement(this.Nom);if(!lElement){return;}
  var lPositionnerEnCours=false;var lObserver=new ResizeObserver(function(aObserveds){if(this.EnAffichage&&!lPositionnerEnCours&&aObserveds&&aObserveds[0]&&aObserveds[0].contentRect&&aObserveds[0].contentRect.height>0){lPositionnerEnCours=true;try{this.positionnerFenetre();} finally{lPositionnerEnCours=false;}}}.bind(this));lObserver.observe(lElement);var lDisconnect=function(aEvent){if(lObserver){lObserver.disconnect();lObserver=null;}
  lElement.removeEventListener(aEvent.type,lDisconnect,true);};['mousedown','touchstart','pointerdown'].forEach(function(aType){lElement.addEventListener(aType,lDisconnect,true);});}
  ObjetFenetre.prototype.Afficher=function(aHtml){if(!this.EnAffichage){if(!GHtml.elementExiste(this.Nom)){
  return;}
  if(this.optionsFenetre.modale){this._guidBlocage=GestionnaireModale.bloquerInterface({bloquer:true,prioriteBlocage:this.optionsFenetre.prioriteBlocageAbonnement});this._interfaceEstBloquee=true;}
  if(this.optionsFenetre.avecAbonnementPremierPlan||this.optionsFenetre.modale){GestionnaireModale.abonnementPremierPlan(true,this.Nom);GestionnaireModale.enPremierPlan(this.Nom);}
  if(this.optionsFenetre.avecAbonnementBlocage){GestionnaireModale.abonnementBlocageInterface(true,this.Nom,this.optionsFenetre.prioriteBlocageAbonnement);}
  ;GHtml.setDisplay(this.Nom,true);this.EnAffichage=true;this.controleur.$refreshSelf(true);this.EnAffichage=false;if(aHtml){GHtml.setHtml(this.IdContenu,aHtml,{controleur:this.controleur});}
  if(this.optionsFenetre.positionnerFenetreSurAfficher){_creerResizeObserver.call(this);this.positionnerFenetre();}
  this.EnAffichage=true;this.surFixerTaille();if(this.SurAfficher){this.SurAfficher();}
  this.$refreshSelf();this.promise=new Promise(function(aResolve){this._promiseResolve=aResolve;}.bind(this));}
  try{this._focusPrecedent=null;if(!this.optionsFenetre.bloquerFocus){if(this.optionsFenetre.restaurerFocusSurFermeture){this._focusPrecedent=document.activeElement;}
  this.FocusSurPremierElement();}} catch(e){}
  return this.promise;};ObjetFenetre.prototype.Actualiser=function(){this.surFixerTaille();GHtml.setHtml(this.IdContenu,this.ComposeContenu(),{controleur:this.controleur});};ObjetFenetre.prototype.Fermer=function(){GestionnaireModale.abonnementBlocageInterface(false,this.Nom);if(this._interfaceEstBloquee){GestionnaireModale.bloquerInterface({bloquer:false,guidBlocage:this._guidBlocage});delete this._interfaceEstBloquee;}
  GestionnaireModale.abonnementPremierPlan(false,this.Nom);if(this.EstAffiche()){try{if(this._focusPrecedent&&$(this._focusPrecedent).length===1){$(this._focusPrecedent).focus();this._focusPrecedent=null;}} catch(e){}
  this.apresFermer();}};ObjetFenetre.prototype.apresFermer=function(){_ObjetFenetre.protected.surFermer.call(this,function(){GHtml.setDisplay(this.Nom,false);}.bind(this));};ObjetFenetre.prototype.SetBoutonActif=function(I,AActif){this.optionsFenetre.listeBoutonsInactifs[I]=!AActif;this.$refreshSelf();};ObjetFenetre.prototype.FocusSurAffichage=function(){GHtml.setFocus(this.NomFenetre);};ObjetFenetre.prototype.SetTitre=function(ATitre){this.Titre=ATitre;this.$refreshSelf();};ObjetFenetre.prototype.setTitre=function(aTitre){return this.SetTitre(aTitre);};ObjetFenetre.prototype.setBoutonLibelle=function(I,aLibelle){if(MethodesObjet.isObject(this.optionsFenetre.listeBoutons[I])){this.optionsFenetre.listeBoutons[I].libelle=aLibelle;} else{this.optionsFenetre.listeBoutons[I]=aLibelle;}
  this._structureBoutons=null;this.$refreshSelf();};ObjetFenetre.prototype.setBoutonFocus=function(aVal){var lIndice=aVal;if(MethodesObjet.isObject(aVal)){lIndice=MethodesTableau.indexOfMask(this.optionsFenetre.listeBoutons,aVal);}
  if(lIndice>=0){GHtml.setFocus(this._getIdBoutons(lIndice),true);}
  return this;};ObjetFenetre.prototype.setBoutonVisible=function(I,aVisible){this.optionsFenetre.listeBoutonsInvisibles[I]=!aVisible;this.$refreshSelf();};ObjetFenetre.prototype.setLargeurBouton=function(aIndexBouton,aTaille){$('#'+this._getIdBoutons(aIndexBouton).escapeJQ()).css('width',aTaille);};ObjetFenetre.prototype.positionnerSousId=function(aId){if(GHtml.elementExiste(aId)){GPosition.placer(this.Nom,GPosition.getLeft(aId)+5,GPosition.getTop(aId)+GPosition.getHeight(aId)+7);this.setCoordonnees();}};function _postResizeIE(){if(!this.optionsFenetre.avecPositionnementResize||this.EstAffiche()&&GNavigateur.IsIE){GStyle.setVisible(this.Nom,false);GStyle.setVisible(this.Nom,true);}}
  function _preResizePositionnement(){if(!this.optionsFenetre.avecPositionnementResize||!this.EstAffiche()){return;}
  this._tempResize={left:GPosition.getLeft(this.Nom),top:GPosition.getTop(this.Nom)};GHtml.setDisplay(this.Nom,false);}
  function _postResizePositionnement(){if(!this.optionsFenetre.avecPositionnementResize||!this.EstAffiche()||!this._tempResize){return;}
  GPosition.placer(this.Nom,0,0);GHtml.setDisplay(this.Nom,true);GPosition.placer(this.Nom,this._tempResize.left,this._tempResize.top);this.setCoordonnees();delete this._tempResize;}
  ObjetFenetre.prototype.surFixerTaille=function(){if(this.optionsFenetre.hauteur){var lDiv=$('#'+this.IdContenu.escapeJQ());var lElement=GHtml.getElement(this.Nom+'_Res');var lTable=GHtml.getElement(this.idFenetreContenu);$(lElement).height(1);lDiv.css('height','0px');if(this.optionsFenetre.hauteurMin>0){lTable.style.minHeight='0px';}
  $(lTable).height(1);var lHeightTable=$(lTable).outerHeight();var lHeight=this.optionsFenetre.hauteur-lHeightTable+$(lElement).height();$(lElement).height(lHeight);$(lTable).height(this.optionsFenetre.hauteur);if(this.optionsFenetre.hauteurMin>0){lTable.style.minHeight=this.optionsFenetre.hauteurMin+'px';}
  if(this.optionsFenetre.avecTailleSelonContenu){lDiv.css('height','auto');} else{if(Support.div100PourcentDansTDGardeHauteurTD){lDiv.css('height','auto');if($(lDiv).height()<=(lHeight+5)){lDiv.css('height','100%');}} else{lDiv.css('height','100%');}}}};function _enleverEventsRetaillage(){$(document).off('ieup.ObjetFenetre mousemove.ObjetFenetre touchmove.ObjetFenetre');}
  function _mouseMoveRetaillage(event){var lData=event.data,lInstance=lData.instance;if(!lData.actif){lInstance.debutRetaillage();lData.actif=true;}
  var lDeplacementX;var lDeplacementY;if(lData.droit){lDeplacementX=Math.borner(event.pageX-event.data.OriginX,lInstance.optionsFenetre.largeurMin-event.data.OriginLargeur,GNavigateur.EcranL-10-event.data.OriginLargeur-GPosition.getLeft(lInstance.idFenetreContenu));lInstance.optionsFenetre.largeur=lData.OriginLargeur+lDeplacementX;GPosition.setWidth(lInstance.IdContenu,lData.largeur+lDeplacementX);}
  if(lData.gauche){lDeplacementX=Math.borner(event.pageX-event.data.OriginX,-lData.Originleft,event.data.OriginLargeur-lInstance.optionsFenetre.largeurMin);lInstance.optionsFenetre.largeur=lData.OriginLargeur-lDeplacementX;GPosition.setWidth(lInstance.IdContenu,lData.largeur-lDeplacementX);}
  if(lData.bas){lDeplacementY=Math.borner(event.pageY-event.data.OriginY,lInstance.optionsFenetre.hauteurMin-event.data.OriginHauteur,GNavigateur.EcranH-10-event.data.OriginHauteur-GPosition.getTop(lInstance.idFenetreContenu));lInstance.optionsFenetre.hauteur=lData.OriginHauteur+lDeplacementY;GPosition.setHeight(lInstance.IdContenu,lData.hauteur+lDeplacementY);}
  if(lData.haut){lDeplacementY=Math.borner(event.pageY-event.data.OriginY,-lData.OriginTop,event.data.OriginHauteur-lInstance.optionsFenetre.hauteurMin);lInstance.optionsFenetre.hauteur=lData.OriginHauteur-lDeplacementY;GPosition.setHeight(lInstance.IdContenu,lData.hauteur-lDeplacementY);}
  if(lInstance.surFixerTaille){lInstance.surFixerTaille();}
  if(lData.droit){GPosition.setWidth(lInstance.idFenetreContenu,lData.OriginLargeur+lDeplacementX,true);}
  if(lData.gauche){lInstance.coordonnees.left=lData.Originleft+lDeplacementX;GPosition.setLeft(lInstance.Nom,lInstance.coordonnees.left);GPosition.setWidth(lInstance.idFenetreContenu,lData.OriginLargeur-lDeplacementX,true);}
  if(lData.bas){GPosition.setHeight(lInstance.idFenetreContenu,lData.OriginHauteur+lDeplacementY,true);}
  if(lData.haut){lInstance.coordonnees.top=lData.OriginTop+lDeplacementY;GPosition.setTop(lInstance.Nom,lInstance.coordonnees.top);GPosition.setHeight(lInstance.idFenetreContenu,lData.OriginHauteur-lDeplacementY,true);}}
  ObjetFenetre.prototype.debutRetaillage=function(){this.surFixerTaille();GStyle.setTransitions(this.Nom,'opacity','0.2s');$('#'+this.Nom.escapeJQ()).css('opacity',0.5);GPosition.setHeight(this.IdContenu,GPosition.getHeight(this.Nom+'_Res')-10);GPosition.setWidth(this.IdContenu,GPosition.getWidth(this.Nom+'_Res')-10);};ObjetFenetre.prototype.finRetaillage=function(){$('#'+this.Nom.escapeJQ()).css('opacity',1);this.surFixerTaille();this.setCoordonnees();};function _mouseUpRetaillage(event){var lInstance=event.data.instance;if(event.data.divBloquant){GHtml.supprimerElementDOM(event.data.divBloquant);}
  _enleverEventsRetaillage();if(event.data.actif){lInstance.finRetaillage();}
  return false;}
  function _surMouseDownRetaillage(event){var lInstance=event.data.instance;var lBloquant=null;if(Support.avecSupportOpacity){var lClassCurseur=event.data.bas&&event.data.droit?'AvecResize':event.data.droit||event.data.gauche?'AvecResizeHorizontal':'AvecResizeVertical';lBloquant=GHtml.htmlToDOM('<div style="position:absolute; top:0; left:0; right:0; bottom:0;'+GStyle.composeOpacite(0)+'" class="'+lClassCurseur+'"></div>');GHtml.insererElementDOM(GHtml.getElement(lInstance.Nom),lBloquant);}
  var lData={instance:lInstance,OriginX:event.pageX,OriginY:event.pageY,OriginLargeur:GPosition.getWidth(lInstance.idFenetreContenu),OriginHauteur:GPosition.getHeight(lInstance.idFenetreContenu),Originleft:GPosition.getLeft(lInstance.Nom),OriginTop:GPosition.getTop(lInstance.Nom),largeur:GPosition.getWidth(lInstance.IdContenu),hauteur:GPosition.getHeight(lInstance.IdContenu),divBloquant:lBloquant,actif:false};$.extend(lData,event.data);$(document).on({'ieup.ObjetFenetre':_mouseUpRetaillage,'mousemove.ObjetFenetre touchmove.ObjetFenetre':_mouseMoveRetaillage},lData);return false;}
  ObjetFenetre.prototype.getHeightMaxIdSelonEcran=function(aId){return GNavigateur.EcranH-($('#'+this.Nom.escapeJQ()).outerHeight()-$('#'+aId.escapeJQ()).height())-10;};ObjetFenetre.creerInstance=function(aClassFenetre,aParametres,aOptionsFenetre){if(!aParametres||!aParametres.pere){
  return;}
  var lInstance=Identite.creerInstance(aClassFenetre,aParametres);var lParametres=$.extend({initialiser:true},aParametres);lInstance.destructionSurFermeture=true;if(aOptionsFenetre&&aOptionsFenetre.zIndex){var lZIndex=aOptionsFenetre.zIndex;lInstance.getZIndex=function(){return lZIndex;};}
  ZoneFenetre.ajouterFenetre(lParametres.nomComplet,lInstance.getZIndex?lInstance.getZIndex():'');$('#'+lInstance.GetNom().escapeJQ()).on('destroyed',function(){if(lInstance.destructionSurFermeture){lInstance.free();}});if(aOptionsFenetre){lInstance.setOptionsFenetre(aOptionsFenetre);}
  if(lParametres.initialiser){if(MethodesObjet.isFunction(lParametres.initialiser)){lParametres.initialiser.call(lParametres.pere,lInstance);}
  lInstance.Initialiser();}
  return lInstance;};module.exports=ObjetFenetre;},fn:"objetfenetre_espace.js"});;
  IE.fModule({f:function(exports,require,module,global){if(IE.estMobile){module.exports=require('ObjetFenetre_Mobile.js');} else{module.exports=require('ObjetFenetre_Espace.js');}},fn:"objetfenetre.js"});;
  IE.fModule({f:function(exports,require,module,global){var TypeGenreExerciceDeQuestionnaire={GEQ_Inconnu:0,GEQ_SingleChoice:1,GEQ_MultiChoice:2,GEQ_TrueFalse:3,GEQ_NumericalAnswer:4,GEQ_ShortAnswer:5,GEQ_SpellAnswer:6,GEQ_Matching:7,GEQ_ClozeField:8,GEQ_ClozeFixed:9,GEQ_ClozeVariable:10,GEQ_Essay:11};module.exports.TypeGenreExerciceDeQuestionnaire=TypeGenreExerciceDeQuestionnaire;},fn:"typegenreexercicedequestionnaire.js"});;
  IE.fModule({f:function(exports,require,module,global){
  var MethodesObjet=require('MethodesObjet.js');function TUtilitaireDuree(){}
  var C_HeuresParJour=24,C_MinutesParHeure=60,C_SecondesParMinute=60,C_MilliSecondesParSeconde=1000,C_MinutesParJour=C_MinutesParHeure*C_HeuresParJour,C_SecondesParJour=C_SecondesParMinute*C_MinutesParJour;function _get(aVal,aSansArrondi){return aSansArrondi===true?aVal:Math.round(aVal);}
  TUtilitaireDuree.dureeEnHeures=function(aDuree,aSansArrondi){if(MethodesObjet.isNumber(aDuree)){return _get(aDuree*C_HeuresParJour,aSansArrondi);}
  return 0;};TUtilitaireDuree.heuresEnDuree=function(aVal){if(MethodesObjet.isNumber(aVal)){return aVal/C_HeuresParJour;}
  return 0;};TUtilitaireDuree.dureeEnMin=function(aDuree,aSansArrondi){if(MethodesObjet.isNumber(aDuree)){return _get(aDuree*C_MinutesParJour,aSansArrondi);}
  return 0;};TUtilitaireDuree.minEnDuree=function(aVal){if(MethodesObjet.isNumber(aVal)){return aVal/C_MinutesParJour;}
  return 0;};TUtilitaireDuree.dureeEnMs=function(aDuree,aSansArrondi){if(MethodesObjet.isNumber(aDuree)){return _get(aDuree*C_MilliSecondesParSeconde*C_SecondesParJour,aSansArrondi);}
  return 0;};TUtilitaireDuree.msEnDuree=function(aVal){if(MethodesObjet.isNumber(aVal)){return aVal/(C_MilliSecondesParSeconde*C_SecondesParJour);}
  return 0;};TUtilitaireDuree.minEnMs=function(aVal){if(MethodesObjet.isNumber(aVal)){return aVal*C_SecondesParMinute*C_MilliSecondesParSeconde;}
  return 0;};module.exports=TUtilitaireDuree;},fn:"utilitaireduree.js"});;
  IE.fModule({f:function(exports,require,module,global){var TypeEtatExecutionQCMPourRepondant={EQR_EnCours:0,EQR_Termine:1,EQR_DureeMaxDepassee:2,EQR_ARefaire:3};module.exports.TypeEtatExecutionQCMPourRepondant=TypeEtatExecutionQCMPourRepondant;},fn:"typeetatexecutionqcmpourrepondant.js"});;
  IE.fModule({f:function(exports,require,module,global){var TypeNumerotation={n123:0,nABC:1,NRoman:2};module.exports.TypeNumerotation=TypeNumerotation;},fn:"typenumerotation.js"});;
  IE.fModule({f:function(exports,require,module,global){
  var TypeEtatExecutionQCMPourRepondant=require('TypeEtatExecutionQCMPourRepondant.js').TypeEtatExecutionQCMPourRepondant;var TypeNumerotation=require('TypeNumerotation.js').TypeNumerotation;function ObjetUtilitaireQCM(){this.couleurBonneReponse='green';this.couleurFausseReponse='red';}
  ObjetUtilitaireQCM.prototype.composeNumerotation=function(aTypeNum,aNum){if(aTypeNum===TypeNumerotation.n123){return aNum;} else if(aTypeNum===TypeNumerotation.nABC){return this.aphabetize(aNum).toUpperCase();} else if(aTypeNum===TypeNumerotation.NRoman){return this.romanize(aNum);}};ObjetUtilitaireQCM.prototype.aphabetize=function(aNum){var lResult='';while(aNum>0){aNum--;var lRemain=aNum%26;lResult=String.fromCharCode(lRemain+97)+lResult;aNum=(aNum-lRemain)/26;}
  return lResult;};ObjetUtilitaireQCM.prototype.romanize=function(aNum){var lLookup={M:1000,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1},lRoman='',i;for(i in lLookup){while(aNum>=lLookup[i]){lRoman+=i;aNum-=lLookup[i];}}
  return lRoman;};ObjetUtilitaireQCM.prototype.estCliquable=function(aExecutionQCM,aIgnorerTestCorrige){return aExecutionQCM.fichierDispo&&(GEtatUtilisateur.estEspacePourEleve()?this.estJouable(aExecutionQCM)||(aIgnorerTestCorrige?true:this.estCorrige(aExecutionQCM)):(GEtatUtilisateur.estEspacePourProf()?true:false));};ObjetUtilitaireQCM.prototype.estJouable=function(aExecutionQCM){return aExecutionQCM.estEnPublication===true&&((aExecutionQCM.etatCloture!==TypeEtatExecutionQCMPourRepondant.EQR_DureeMaxDepassee&&
  aExecutionQCM.etatCloture!==TypeEtatExecutionQCMPourRepondant.EQR_Termine)||
  aExecutionQCM.estRejouable);};ObjetUtilitaireQCM.prototype.estCorrige=function(aExecutionQCM){return aExecutionQCM.publierCorrige===true;};module.exports={ObjetUtilitaireQCM:ObjetUtilitaireQCM,UtilitaireQCM:null};},fn:"utilitaireqcm.js"});;
  IE.fModule({f:function(exports,require,module,global){var EGenreBoiteMessage={Information:0,Confirmation:1,MrFiche:2};module.exports=EGenreBoiteMessage;},fn:"enumere_boitemessage.js"});;
  IE.fModule({f:function(exports,require,module,global){var EGenreEvenementObjetSaisie={selection:0,deploiement:1,fermeture:2};module.exports=EGenreEvenementObjetSaisie;},fn:"enumere_evenementobjetsaisie.js"});;
  IE.fModule({f:function(exports,require,module,global){var EGenreSaisie={Combo:2,SaisieRecherche:3};module.exports=EGenreSaisie;},fn:"enumere_saisie.js"});;
  IE.fModule({f:function(exports,require,module,global){require('IEHtml.InputTime.css');require('images/css/Image.css')
  ;var IEHtml=require('IEHtml.js');var MethodesObjet=require('MethodesObjet.js');var GStyle=require('GStyle.js');var ToucheClavier=require('ToucheClavier.js');(function(){function _toHeureMinute(aChaine,aSeparateur){var lResult={heure:'00',minute:'00'};if(aChaine&&aChaine.split){var lTab=aChaine.split(aSeparateur),lHeures=parseInt(lTab[0]||0,10),lMinutes=parseInt(lTab[1]||0,10);if(!MethodesObjet.isNumber(lHeures)){lHeures=0;}
  if(!MethodesObjet.isNumber(lMinutes)){lMinutes=0;}
  lResult.heure=lHeures<10?'0'+lHeures:lHeures+'';lResult.minute=lMinutes<10?'0'+lMinutes:lMinutes+'';}
  return lResult;}
  function _toFormatChaine(aHeureMinute,aSeparateur){return(aHeureMinute.heure||'00')+aSeparateur+(aHeureMinute.minute||'00');}
  function stringToNumber(aChaine,aGenre){var lValue=parseInt(aChaine);if(!MethodesObjet.isNumber(lValue)){return null;}
  return Math.max(Math.min(lValue,maxDeGenre(aGenre)),0);}
  function numberToString(aNumber){var lValue=aNumber.toString();if(lValue.length===1){lValue='0'+lValue;} else if(lValue.length>2){lValue=lValue.slice(lValue.length-3,lValue.length);}
  return lValue;}
  function propGenre(aGenre){return aGenre===1?'heure':'minute';}
  function maxDeGenre(aGenre){return aGenre===1?23:59;}
  IEHtml.addBalise('ie-inputtime',function(aContexteCourant){var lOutils=IEHtml.outils;var lModele=lOutils.getModel(aContexteCourant),lControleur,H,lSeparateur=':';if(!lModele||!aContexteCourant.data.$modeleParsed){
  return true;}
  var lInfosGetValue=lOutils.getAccesParametres('getValue',aContexteCourant),lInfosSetValue=lOutils.getAccesParametres('setValue',aContexteCourant),lInfosGetDisabled=lOutils.getAccesParametres('getDisabled',aContexteCourant),lInfosExit=lOutils.getAccesParametres('exit',aContexteCourant);if(!lInfosGetValue.valide||!lInfosSetValue.valide){
  return true;}
  var lDesign=aContexteCourant.node.getAttribute('ie-design'),lSansBouton=lDesign&&lDesign.toLowerCase&&lDesign.toLowerCase().indexOf('nobouton')>=0,lSansBordure=lDesign&&lDesign.toLowerCase&&lDesign.toLowerCase().indexOf('nobordure')>=0,lSansLargeur=lDesign&&lDesign.toLowerCase&&lDesign.toLowerCase().indexOf('nowidth')>=0;var lInstance={heureMinute:{},formatHeure:'',disable:false,focus:0};var lGetValue=function(){return(lInfosGetValue.callback([aContexteCourant.node,aContexteCourant.data])||'')+'';};var lSetValue=function(){var lValue=lGetValue();if(lValue!==lInstance.formatHeure){lInfosSetValue.callback([lInstance.formatHeure,parseInt(lInstance.heureMinute.heure,10),parseInt(lInstance.heureMinute.minute,10),aContexteCourant.node,aContexteCourant.data]);}};var lGetDisabled=null;if(lInfosGetDisabled.valide){lGetDisabled=function(){return!!lInfosGetDisabled.callback([aContexteCourant.node,aContexteCourant.data]);};lInstance.disable=lGetDisabled();}
  var lFuncExit=null;if(lInfosExit.valide){lFuncExit=function(){lInfosExit.callback([lInstance.formatHeure,aContexteCourant.node,aContexteCourant.data]);};}
  lInstance.heureMinute=_toHeureMinute(lGetValue(),lSeparateur);lInstance.formatHeure=_toFormatChaine(lInstance.heureMinute,lSeparateur);var lControleurOrigine=aContexteCourant.controleur;var _incrementerHeure=function(aGenreHeure,aHaut,aInstance,aControleurInput,aControleurOrigine){if(aGenreHeure===0){aGenreHeure=1;}
  var lValue=stringToNumber(aInstance.heureMinute[propGenre(aGenreHeure)],aGenreHeure);lValue=!aHaut?lValue===0?maxDeGenre(aGenreHeure):lValue+= -1:lValue===maxDeGenre(aGenreHeure)?0:lValue+=1;aInstance.heureMinute[propGenre(aGenreHeure)]=numberToString(lValue);aInstance.formatHeure=_toFormatChaine(aInstance.heureMinute,lSeparateur);lSetValue(aInstance.formatHeure);aControleurInput.$refreshSelf(true);aControleurOrigine.$refreshSelf(true);};var lTimerExit= -1;lControleur={instance:lInstance,getNode:function(){$(this.node).on({'focusin':function(){clearTimeout(lTimerExit);},'focusout':function(){clearTimeout(lTimerExit);lTimerExit=setTimeout(function(){lInstance.focus=0;if(lFuncExit){lFuncExit();}},100);},'keydown':function(aEvent){switch(aEvent.which){case ToucheClavier.FlecheBas:case ToucheClavier.FlecheHaut:_incrementerHeure(lInstance.focus,aEvent.which===ToucheClavier.FlecheHaut,lInstance,lControleur,lControleurOrigine);break;}},'keyup':function(aEvent){if(aEvent.which===ToucheClavier.FlecheGauche||aEvent.which===ToucheClavier.FlecheDroite){lInstance.focus=lInstance.focus===0?1:lInstance.focus===1?2:1;var lNode=$(this).find('input').get(lInstance.focus-1);lNode.focus();}}});},styleConteneur:function(){return lControleurOrigine.styleConteneur?lControleurOrigine.styleConteneur():{'background':lSansBordure?'':lInstance.disable?GCouleur.nonEditable.fond:GCouleur.blanc};},input:{getValue:function(aGenre){return lInstance.heureMinute[propGenre(aGenre)];},setValue:function(aGenre,aValue){var lValue=stringToNumber(aValue,aGenre);if(lValue===null){lValue='';}
  lInstance.heureMinute[propGenre(aGenre)]=lValue;},getDisabled:function(){return lInstance.disable;},node:function(aGenre){$(this.node).on({'focus click':function(){clearTimeout(lTimerExit);lInstance.focus=aGenre;lOutils.caret(this,0,2);lControleur.$refreshSelf();lControleurOrigine.$refreshSelf();},'blur change':function(){var lValue=stringToNumber(lInstance.heureMinute[propGenre(aGenre)],aGenre);if(lValue===null){lValue=0;}
  lInstance.heureMinute[propGenre(aGenre)]=numberToString(lValue);lInstance.formatHeure=_toFormatChaine(lInstance.heureMinute,lSeparateur);lSetValue(lInstance.formatHeure);lControleur.$refreshSelf();lControleurOrigine.$refreshSelf();}});}},eventBouton:function(aHaut){if(this.instance.disable){return;}
  _incrementerHeure(this.instance.focus,aHaut,this.instance,this.controleur,lControleurOrigine);var lIndice=this.instance.focus===1||this.instance.focus===0?0:1,lNode=$(this.node).parent().parent().find('input').get(lIndice);if(lNode&&lNode.select){setTimeout(function(){if(lNode){lNode.select();}},0);}}};IEHtml.initControleur(lControleur);var lLargeur=52;if(lSansBouton){lLargeur+= -9-4;}
  if(lSansBordure){lLargeur+= -2;}
  H=[];H.push('<div class="SansSelectionTexte">');H.push('<div class="OmbreFocus IEHtmlInputTime" ie-node="getNode" ie-style="styleConteneur" tabindex="-1"',' style="',lSansLargeur?'':GStyle.composeWidth(lLargeur),lSansBordure?'':GStyle.composeCouleurBordure(GCouleur.bordure),'">');H.push('<input ie-model="input(1)" maxlength="2" ie-mask="/[^0-9]/i" />');H.push('<label>',lSeparateur,'</label>');H.push('<input ie-model="input(2)" maxlength="2" ie-mask="/[^0-9]/i" />');if(!lSansBouton){H.push('<div class="IEHtmlInputTime_Boutons">','<div class="Image_FlecheVersLeHaut" ie-event="click->eventBouton(true)"></div>','<div class="Image_FlecheVersLeBas" ie-event="click->eventBouton(false)"></div>','</div>');}
  H.push('</div>');H.push('</div>');var lMap=lOutils.getMapDeNode(aContexteCourant.node);delete lMap['ie-design'];var lNode=lOutils.injectHTML({element:aContexteCourant.node.parentNode,insererAvantLeNode:aContexteCourant.node,html:H.join(''),controleur:lControleur,contexte:aContexteCourant.contexte});aContexteCourant.node.parentNode.removeChild(aContexteCourant.node);aContexteCourant.node=lNode;lOutils.abonnerRefresh(function(){var lAvecRefresh=false;var lValue=_toFormatChaine(_toHeureMinute(lGetValue(),lSeparateur),lSeparateur);if(lValue!==lInstance.formatHeure){lInstance.formatHeure=lValue;lInstance.heureMinute=_toHeureMinute(lValue,lSeparateur);lAvecRefresh=true;}
  if(lGetDisabled){lValue=lGetDisabled();if(lValue!==lInstance.disable){lInstance.disable=lValue;lAvecRefresh=true;}}
  if(lAvecRefresh){lControleur.$refreshSelf();}},lNode,aContexteCourant);var lJNode=$(aContexteCourant.node);for(var lName in lMap){if(lName==='class'){lJNode.addClass(lMap[lName]);} else{lJNode.attr(lName,lMap[lName]);}}
  lOutils.addCommentaireDebug(lNode,'ie-inputtime');if(lDesign){lOutils.addCommentaireDebug(lNode,'ie-design="'+lDesign+'"');}
  return{node:aContexteCourant.node,avecCompileFils:false};});}());module.exports=IEHtml;},fn:"iehtml.inputtime.js"});;
  IE.fModule({f:function(exports,require,module,global){
  var GLog=require('IELog.js');var GHtml=require('GHtml.js');var GStyle=require('GStyle.js');var UtilitaireCss=require('UtilitaireCss.js');function ObjetImage(){}
  ObjetImage.prototype.compose=function(aClass,aLargeur){return'<div'+(aClass?' class="'+aClass+'"':'')+' style="margin-left:auto; margin-right:auto; width:'+(aLargeur?aLargeur+'px':'100%;')+'">&nbsp;</div>';};ObjetImage.prototype.composeImage=function(aClass,aLargeur,aPourImpression){if(!aClass){GLog.addLog('ObjetImage.prototype.composeImage : aClass non definie');return'';}
  if(aPourImpression){var lRegleCss='.'+aClass;var lUrl=UtilitaireCss.extraireUrlReglesCss(lRegleCss);if(!lUrl){GLog.addLog('ObjetImage.prototype.composeImage : lUrl non trouvé dans la regle Css : '+aClass);return'';}
  var lPosition=UtilitaireCss.chercherAttributReglesCss(lRegleCss,'position');var lHeight=UtilitaireCss.chercherAttributReglesCss(lRegleCss,'height');if(!lPosition){lPosition='relative';}
  var lLargeur=aLargeur;if(!lLargeur){lLargeur=parseInt(UtilitaireCss.chercherAttributReglesCss(lRegleCss,'width'));}
  var lLeft,lTop=0;var lBackGroundPosition=UtilitaireCss.chercherAttributReglesCss(lRegleCss,'backgroundPosition');if(lBackGroundPosition){var lTab=lBackGroundPosition.split(' ');if(lTab.length===2){lLeft=lTab[0];lTop=lTab[1];}} else{lLeft=UtilitaireCss.chercherAttributReglesCss(lRegleCss,'left');lTop=UtilitaireCss.chercherAttributReglesCss(lRegleCss,'top');}
  var lStyle='';if(lPosition){lStyle+='position:'+lPosition+';';}
  if(lHeight){lStyle+='height:'+lHeight+';';}
  if(lLeft){lStyle+='left:'+lLeft+';';}
  if(lTop){lStyle+='top:'+lTop+';';}
  return'<div style="'+GStyle.composeWidth(lLargeur)+'margin-left:auto; margin-right:auto; overflow: hidden">'+'<img src="'+lUrl+'" style="'+lStyle+'" ></img></div>';} else{return'<div class="'+aClass+'" style="'+(aLargeur?GStyle.composeWidth(aLargeur):'')+'margin-left:auto; margin-right:auto;">&nbsp;</div>';}};ObjetImage.prototype.setImage=function(aId,aClass){GHtml.setHtml(aId,this.compose(aClass));};ObjetImage.prototype.retailler=function(aId,aWidth,aHeight){if(document.images[aId].width>document.images[aId].height){document.images[aId].width=aWidth;} else{document.images[aId].height=aHeight;}};module.exports=new ObjetImage();},fn:"objetimage.js"});;
  IE.fModule({f:function(exports,require,module,global){;var EGenreBordure=require('_ObjetStyle.js').EGenreBordure;var MethodesObjet=require('MethodesObjet.js');var GChaine=require('GChaine.js');var GHtml=require('GHtml.js');var GPosition=require('GPosition.js');var GStyle=require('GStyle.js');var EEvent=require('Enumere_Event.js');var Identite=require('ObjetIdentite.js');var GImage=require('ObjetImage.js');var GObjetWAI=require('ObjetWAI.js').GObjetWAI;var EGenreRole=require('ObjetWAI.js').EGenreRole;var EGenreAttribut=require('ObjetWAI.js').EGenreAttribut;var EGenreBoutonCellule={Aucun:0,Fleche:1,Loupe:2,Points:3,Image:4};MethodesObjet.heritagePrototype(ObjetCelluleBouton,Identite);function ObjetCelluleBouton(){this.inheritedCreate(arguments);this.idZone=this.Nom+'_Zone';this.NomEdit=this.Nom+'_Edit';this.NomDescr=this.Nom+'_Descr';this.idTexte=this.NomEdit;this.idBouton=this.Nom+'_Bouton';this.libelle='';this._options={hauteur:18,largeur:80,largeurBouton:null,genreBouton:EGenreBoutonCellule.Aucun,classImageBouton:'',avecBordures:true,couleurFondSurvol:null,avecCouleurFondBouton:true,avecFocusVisibleTexte:true,avecZoneSaisie:true,estSaisissable:false,selectionSaisieSurFocus:false,taillePolice:10,classeZone:'FondBlanc',classTexte:'',classBackground:'',styleZoneTexte:'',styleBouton:'',placeHolder:'',libelleHaut:'',avecTextOverflowEllipsis:false,withTabulation:true,roleWAIZone:'',labelWAIEdit:'',describedByWAI:false,desactiverAideSaisie:false,titleForce:'',setValue:null,editAvecTrim:false};this.setParametres(true,EGenreBoutonCellule.Fleche,true,null,null);this.IdPremierElement=this.NomEdit;}
  ObjetCelluleBouton.prototype.getControleur=function(aInstance){return{ifLibelleHaut:function(){return!!aInstance._options.libelleHaut;},htmlLibelleHaut:function(){return aInstance._options.libelleHaut;},surZoneMouseenterMouseleave:function(aEvent){if(!this.instance.Actif){return;}
  this.instance._enSurvol=aEvent.type==='mouseenter';this.controleur.$refreshSelf();},getClassZone:function(){return'Texte'+this.instance._options.taillePolice+' '+this.instance._options.classeZone+' CelluleBoutonZoneJQ'+(this.instance.Actif?' AvecMain':'');},getStyleZone:function(){return{'background-color':this.instance.Actif&&this.instance._options.couleurFondSurvol?this.instance._enSurvol?this.instance._options.couleurFondSurvol:'':'','width':(this.instance._options.largeur&&this.instance._options.largeur!=='100%'?this.instance._options.largeur+'px':'')};},getTitleDescriptionEdit:function(){return!this.instance._options.titleForce?this.instance.estLibelleHTML?'':(this.instance.libelle&&GChaine.GetLongueurChaineDansDiv(this.instance.libelle,this.instance._options.taillePolice,false)>=this.instance._getLargeurTexte())?GChaine.enleverEntites(this.instance.libelle):'':this.instance._options.titleForce;},edit:{getValue:function(){return aInstance.libelle;},setValue:function(aValue){aInstance.libelle=aValue;if(aInstance._options.setValue){aInstance._options.setValue(aValue,aInstance);}},getDisabled:function(){return!aInstance.Actif;},node:function(){if(!aInstance._options.estSaisissable){$(this.node).on('focus',function(){GHtml.setFocus(this,false);});}},surEventEdit:function(aEvent){if(!aInstance.Actif){return;}
  var lEvent=null;switch(aEvent.type){case'keyup':lEvent=EEvent.SurKeyUp;break;case'blur':lEvent=EEvent.SurBlur;break;case'focusout':lEvent=EEvent.SurFocusOut;break;case'mousedown':lEvent=EEvent.SurMouseDown;break;case'click':lEvent=EEvent.SurClick;break;}
  if(lEvent){aInstance.callback.appel(lEvent,aEvent,true);if(this.Pere&&this.Pere.$refreshSelf){this.Pere.$refreshSelf();}}},getClassEdit:function(){return'CelluleBoutonNomEditJQ Texte'+this.instance._options.taillePolice+' '+(this.instance._options.classTexte||'')+(this.instance.Actif?(this.instance._options.estSaisissable?' AvecTexte':' AvecMain'):'')+' '+(this.instance._options.classBackground||'');},getStyleEdit:function(){return{width:this.instance._getLargeurTexte()};},getStylePourBoutonNonEditable:function(){return{'background-color':this.instance.Actif?'':GCouleur.nonEditable.fond};}},getHtmlConsult:function(){return this.instance.libelle||!this.instance._options.placeHolder?GChaine.AvecEspaceSiVide(this.instance.estLibelleHTML?this.instance.libelle:GChaine.Insecable(this.instance.libelle)):'<span style="color:'+GCouleur.grisTresFonce+'">'+this.instance._options.placeHolder||''+'</span>';},htmlBouton:function(){switch(this.instance._options.genreBouton){case EGenreBoutonCellule.Aucun:return'';case EGenreBoutonCellule.Fleche:return'<img src="images/fle_bas.gif" alt=""></img>';case EGenreBoutonCellule.Loupe:return GImage.compose('Image_Loupe');case EGenreBoutonCellule.Points:return'<span class="PetitEspaceGauche PetitEspaceDroit Gras" ie-style="styleBoutonPoints">'+'...'+'</span>';case EGenreBoutonCellule.Image:return this.instance._options.classImageBouton?GImage.compose(this.instance._options.classImageBouton):'';}
  return'';},getStyleBouton:function(){return{'background-color':this.instance._options.avecCouleurFondBouton?this.instance.Actif?this.instance._enSurvol?GCouleur.themeNeutre.moyen2:GCouleur.blanc:GCouleur.nonEditable.fond:'','width':_getLargeur.call(this.instance)+'px'};},getClassBouton:function(){return'AlignementMilieu'+(this.instance.Actif?' AvecMain':'');},surEventBouton:function(aEvent){if(!this.instance.Actif){return;}
  var lEvent=null;switch(aEvent.type){case'mousedown':lEvent=EEvent.SurMouseDown;break;case'click':lEvent=EEvent.SurClick;break;case'keyup':lEvent=EEvent.SurKeyUp;break;}
  if(lEvent!==null){this.instance.callback.appel(lEvent,aEvent,false);if(this.Pere&&this.Pere.$refreshSelf){this.Pere.$refreshSelf();}}},styleBoutonPoints:function(){return{color:this.instance.Actif?GCouleur.noir:GCouleur.themeNeutre.moyen2};}};};ObjetCelluleBouton.prototype.setParametresSaisie=function(aAvecZoneSaisie,aEstSaisissable){this.setOptions_ObjetCelluleBouton({avecZoneSaisie:!!aAvecZoneSaisie,estSaisissable:!!aEstSaisissable});};ObjetCelluleBouton.prototype.setWithTabulation=function(aValeur){this.setOptions_ObjetCelluleBouton({withTabulation:aValeur});GHtml.setTabIndex(this.idTexte,aValeur?0:-1);};ObjetCelluleBouton.prototype.setParametres=function(aEstSaisissable,aGenreBouton,aAvecStyleSite,aLargeur,aHauteur,aLabelFor,aTexteEdit,aClassTexte,aClassBackground,aPlaceHolder,aDesactiverAideSaisie){this.setOptions_ObjetCelluleBouton({estSaisissable:aEstSaisissable,hauteur:aHauteur||undefined,largeur:aLargeur||undefined,genreBouton:aGenreBouton===null||aGenreBouton===undefined?EGenreBoutonCellule.Aucun:aGenreBouton,labelWAIZone:aLabelFor||undefined,classTexte:aClassTexte||'',classBackground:aClassBackground||'',placeHolder:aPlaceHolder||'',desactiverAideSaisie:aDesactiverAideSaisie||false});};ObjetCelluleBouton.prototype.setParametres_PN=function(aAvecBouton,aAvecStyleSite,aLargeur,aHauteur,aClassTexte){this.setOptions_ObjetCelluleBouton({genreBouton:aAvecBouton?EGenreBoutonCellule.Fleche:EGenreBoutonCellule.Aucun,largeur:aLargeur,hauteur:aHauteur?aHauteur:15,classTexte:aClassTexte?aClassTexte:'Gras',estSaisissable:false,avecZoneSaisie:false});};ObjetCelluleBouton.prototype.setOptions_ObjetCelluleBouton=function(aOptions){$.extend(this._options,aOptions);this.avecBouton=this._options.genreBouton!==EGenreBoutonCellule.Aucun;this.$refreshSelf();};ObjetCelluleBouton.prototype.SetInformationWAI=function(aGenreRoleWAI,aLabelFor){
  this._options.roleWAIZone=aGenreRoleWAI===null||aGenreRoleWAI===undefined?'':aGenreRoleWAI;this._options.labelWAIZone=aLabelFor===null||aLabelFor===undefined?'':aLabelFor;};function _getLargeur(){return this._options.largeurBouton?this._options.largeurBouton:this._options.hauteur+(this._options.avecZoneSaisie?-1:0);}
  ObjetCelluleBouton.prototype.ConstruireAffichage=function(){var H=[];H.push('<div ie-if="ifLibelleHaut" ie-html="htmlLibelleHaut" class="LibelleHaut"></div>');H.push('<div id="'+this.idZone+'" tabindex="-1" ',' ',GObjetWAI.composeAttribut({genre:EGenreAttribut.labelledby,valeur:this.NomEdit}),(this._options.roleWAIZone?' '+GObjetWAI.composeRole(this._options.roleWAIZone):''),' ie-event="mouseenter-mouseleave->surZoneMouseenterMouseleave" ',' ie-style="getStyleZone" ',' ie-class="getClassZone" ',' style="'+GStyle.composeCouleurTexte(GCouleur.noir)+' '+(this._options.avecBordures?GStyle.composeCouleurBordure(GCouleur.bordure):'')+(this._options.couleurFondSurvol?GStyle.composeTransitions('background-color','0.25s'):''),';line-height:100%;" ','>');H.push('<table class="Texte'+this._options.taillePolice,'" style="width:100%; border-collapse:separate;" border="0" cellspacing="0" cellpadding="0" '+GObjetWAI.composeRole(EGenreRole.Presentation)+'><tr>');if(this._options.avecZoneSaisie){H.push('<td style="padding:1px;',GStyle.composeHeight(this._options.hauteur-2),'" ie-event="mousedown-click->edit.surEventEdit">','<div ie-title="getTitleDescriptionEdit">','<input type="text" ie-model="edit"',(this._options.editAvecTrim?' ie-trim ':''),' id="'+this.NomEdit+'" ',this._options.desactiverAideSaisie?'autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"':'',' ie-event="keyup-blur-focusout->surEventEdit"',' ie-class="getClassEdit"',' ie-style="getStyleEdit"',this._options.selectionSaisieSurFocus?' ie-selecttextfocus ':'',' style="border:0px; margin:0px;',(this._options.classBackground?'':' padding-left: 3px; padding-right: 3px; '),GStyle.composeHeight(this._options.hauteur+(GNavigateur.IsIE?-2:0)-2),this._options.styleZoneTexte||'','" ',(!this._options.estSaisissable?'readonly  aria-readonly="true" ':''),GObjetWAI.composeRole(EGenreRole.Combobox),' ',GObjetWAI.composeAttribut({genre:EGenreAttribut.autocomplete,valeur:'list'})+' ',(this._options.owns?GObjetWAI.composeAttribut({genre:EGenreAttribut.owns,valeur:this._options.owns})+' ':''),(this._options.labelWAIEdit?GObjetWAI.composeAttribut({genre:EGenreAttribut.label,valeur:this._options.labelWAIEdit})+' ':''),(this._options.describedByWAI?GObjetWAI.composeAttribut({genre:EGenreAttribut.describedby,valeur:this._options.describedByWAI})+' ':''),' placeholder="',this._options.placeHolder||'','" />','</div>','</td>');} else{H.push('<td class="AlignementGauche" style="'+GStyle.composeHeight(this._options.hauteur)+GStyle.composeTransitions('background-color','0.2s'),'"',' ie-event="mousedown-click->edit.surEventEdit" ',' ie-style="edit.getStylePourBoutonNonEditable">','<div class="PetitEspaceGauche PetitEspaceDroit ',this._options.classBackground,'" style="overflow:hidden;height:100%;',this._options.styleZoneTexte||'','">','<div class="InlineBlock" style="height:100%;vertical-align:middle;"></div>','<div',(this._options.withTabulation?' tabIndex="0"':''),' id="',this.idTexte,'"',' ie-html="getHtmlConsult" ',!this._options.titleForce&&!this.estLibelleHTML?' ie-ellipsis ':'',this._options.titleForce?' title="'+GChaine.toTitle(this._options.titleForce)+'"':'',' ie-event="keyup-blur-focusout->edit.surEventEdit"',' ie-style="edit.getStyleEdit"',' style="vertical-align:middle;',(this._options.avecTextOverflowEllipsis?'text-overflow:ellipsis; overflow:hidden;':''),'" ',' class="InlineBlock Insecable ',this._options.classTexte,'"',' ',GObjetWAI.composeRole(EGenreRole.Combobox),' '+GObjetWAI.composeAttribut({genre:EGenreAttribut.autocomplete,valeur:'list'}),(this._options.owns?' '+GObjetWAI.composeAttribut({genre:EGenreAttribut.owns,valeur:this._options.owns}):''),(this._options.labelWAIEdit?' '+GObjetWAI.composeAttribut({genre:EGenreAttribut.label,valeur:this._options.labelWAIEdit}):''),(this._options.describedByWAI?' '+GObjetWAI.composeAttribut({genre:EGenreAttribut.describedby,valeur:this._options.describedByWAI}):''),'>','</div>','</div>','</td>');}
  H.push('<td id="'+this.idBouton+'"',' ie-if="avecBouton"',' ie-event="mousedown-click-keyup->surEventBouton"',' ie-html="htmlBouton"',' ie-class="getClassBouton"',' ie-style="getStyleBouton"',' style="',GStyle.composeHeight(this._options.hauteur)+
  this._options.avecCouleurFondBouton?GStyle.composeTransitions('background-color','0.2s'):'',this._options.avecBordures?GStyle.composeCouleurBordure(GCouleur.bordure,1,EGenreBordure.gauche):'',this._options.styleBouton||'',(this.avecBouton?'':'display:none;'),'" '+'>');H.push('</td>');H.push('</tr>','</table>','</div>');return H.join('');};ObjetCelluleBouton.prototype.RecupererDonnees=function(){if(!GHtml.elementExiste(this.idZone)){return;}
  var lEventMap={};if(this._options.avecFocusVisibleTexte){lEventMap={'focusin':function(){$(this).find('.CelluleBoutonNomEditJQ').css('outline',GCouleur.texte+' dotted 1px');},'focusout':function(){$(this).find('.CelluleBoutonNomEditJQ').css('outline','none');}};}
  $('#'+this.Nom.escapeJQ()).on(lEventMap,{instance:this}).addClass('OmbreFocus').data('couleurFocus',GCouleur.texte);};ObjetCelluleBouton.prototype.SetActif=function(AActif){this.inherited('SetActif',AActif);this.$refreshSelf();};ObjetCelluleBouton.prototype.setLibelle=function(aLibelle){this.libelle=aLibelle;this.estLibelleHTML=false;this.$refreshSelf();};ObjetCelluleBouton.prototype.setLibelleHtml=function(aLibelleHtml){if(this._options.avecZoneSaisie){return;}
  this.estLibelleHTML=true;this.libelle=aLibelleHtml;this.$refreshSelf();};ObjetCelluleBouton.prototype.getLibelle=function(){return this.libelle;};ObjetCelluleBouton.prototype.setLargeur=function(aLargeur){this.setOptions_ObjetCelluleBouton({largeur:aLargeur?aLargeur:undefined});};ObjetCelluleBouton.prototype.setTitle=function(aTitle){this.setOptions_ObjetCelluleBouton({titleForce:aTitle});};ObjetCelluleBouton.prototype.setFocus=function(){GHtml.setFocus(this.NomEdit);};ObjetCelluleBouton.prototype.setAvecBouton=function(aAvecBouton){if(this.avecBouton===aAvecBouton){return;}
  this.avecBouton=aAvecBouton;GPosition.setWidth(this.NomEdit,this._getLargeurTexte());this.$refreshSelf();};ObjetCelluleBouton.prototype._getLargeurTexte=function(){if(this._options.largeur==='100%'){return'100%';} else{return this._options.largeur-6-(this.avecBouton?_getLargeur.call(this)+(this._options.avecBordures?1:0):0);}};module.exports={EGenreBoutonCellule:EGenreBoutonCellule,ObjetCelluleBouton:ObjetCelluleBouton};},fn:"objetcellulebouton.js"});;
  IE.fModule({f:function(exports,require,module,global){var TypeFormatDureeEnChaine={fdcHeuresMinutes:0,fdcHeuresCentiemes:1,fdcSequences:2};module.exports.TypeFormatDureeEnChaine=TypeFormatDureeEnChaine;},fn:"typeformatdureeenchaine.js"});;
  IE.fModule({f:function(exports,require,module,global){var GLog=require('IELog.js');var MethodesObjet=require('MethodesObjet.js');var ObjetElement=require('ObjetElement.js');var ObjetListeElements=require('ObjetListeElements.js');var GTraductions=require('ObjetTraduction.js');var ObjetTri=require('ObjetTri.js').ObjetTri;var TypeDomaine=require('TypeDomaine.js');var TypeFormatDureeEnChaine=require('TypeFormatDureeEnChaine.js').TypeFormatDureeEnChaine;var TUtilitaireDuree=require('UtilitaireDuree.js');function ObjetDate(){this.DureeMillisecondes=1;this.DureeSecondes=1000*this.DureeMillisecondes;this.DureeMinutes=60*this.DureeSecondes;this.DureeHeures=60*this.DureeMinutes;this.DureeJours=24*this.DureeHeures;this.DureeSemaines=7*this.DureeJours;this.semainesParAn=52;this.aujourdhui=new Date();this.demain=new Date();this.demain.setDate(this.demain.getDate()+1);this.hier=new Date();this.hier.setDate(this.hier.getDate()-1);this.parametres={afficherSemainesCalendaires:null,formatDureeEnChaine:TypeFormatDureeEnChaine.fdcHeuresMinutes};}
  ObjetDate.separateurHeureDelphi='h';ObjetDate.prototype.SetDonnees=function(APremierLundi,aPremiereDate,aDerniereDate,APlacesParJour,APlacesParHeure,ADureeSequence,APremiereHeure,AListeHeures1,AListeHeures2,aJoursOuvres,aJour){this.PremierLundi=APremierLundi;this.premiereDate=aPremiereDate;this.derniereDate=aDerniereDate;this.PlacesParJour=APlacesParJour;this.PlacesParHeure=APlacesParHeure;this.DureeSequence=ADureeSequence;this.PremiereHeure=APremiereHeure;this.ListeHeures=AListeHeures1||new ObjetListeElements();this.ListeHeuresFin=AListeHeures2;this.joursOuvres=aJoursOuvres||new TypeDomaine(true,7);this.jour=this.GetDateDemiJour(aJour||new Date());};ObjetDate.prototype.setParametresDate=function(aParams){Object.assign(this.parametres,aParams);return this;};ObjetDate.prototype.estUnJourOuvre=function(aDate){return this.joursOuvres.GetValeur(GDate.GetJourDeDate(aDate)+1);};ObjetDate.prototype.estDateEgale=function(ADate1,ADate2){return(ADate1-ADate2)===0;};ObjetDate.prototype.estJourEgal=function(ADate1,ADate2){return ADate1&&ADate2&&(ADate1.getDate()===ADate2.getDate())&&(ADate1.getMonth()===ADate2.getMonth())&&(ADate1.getFullYear()===ADate2.getFullYear());};ObjetDate.prototype.estJourSemaineEgal=function(ADate1,ADate2){return(ADate1.getDay()===ADate2.getDay())&&(ADate1.getMonth()===ADate2.getMonth())&&(ADate1.getFullYear()===ADate2.getFullYear());};ObjetDate.prototype.estJourCourant=function(aDate,aBorner){return this.estJourEgal(aDate,this.getDateCourante(aBorner));};ObjetDate.prototype.estAvantJourCourant=function(aDate,aBorner){return(aDate-this.getDateCourante(aBorner))<0;};ObjetDate.prototype.estAvantJour=function(aDate1,aDate2){return(aDate1-aDate2)<0;};ObjetDate.prototype.estDateValide=function(aDate){return MethodesObjet.isDate(aDate)&&!isNaN(aDate.getTime());};ObjetDate.prototype.getDateJour=function(aDate,aBorner){var lDate=aDate;if(!this.estDateValide(aDate)){lDate=new Date();}
  if(aBorner){lDate=this.getDateBornee();}
  return new Date(lDate.getFullYear(),lDate.getMonth(),lDate.getDate());};ObjetDate.prototype.getDateBornee=function(aDate){if(aDate<this.premiereDate&&!this.estJourEgal(aDate,this.premiereDate)){return new Date(this.premiereDate.getTime());}
  if(aDate>this.derniereDate&&!this.estJourEgal(aDate,this.derniereDate)){return new Date(this.derniereDate.getTime());}
  return aDate;};ObjetDate.prototype.getDateCourante=function(aBorner){var lDate=new Date();lDate=new Date(lDate.getFullYear(),lDate.getMonth(),lDate.getDate());return aBorner===false?lDate:this.getDateBornee(lDate);};ObjetDate.prototype.getDateHeureCourante=function(){return this.getDateBornee(new Date());};ObjetDate.prototype.dateEntreLesDates=function(aDate,aBorneDateDebut,aBorneDateFin,aComparaisonTime){if(!aDate){
  return false;}
  return(!aBorneDateDebut||aDate>=aBorneDateDebut||(aComparaisonTime!==true&&this.estJourEgal(aDate,aBorneDateDebut)))&&(!aBorneDateFin||aDate<=aBorneDateFin||(aComparaisonTime!==true&&this.estJourEgal(aDate,aBorneDateFin)));};ObjetDate.prototype.estDateJourAvant=function(aDate1,aDate2){return aDate1<aDate2&&
  this.estDateValide(aDate1)&&
  this.estDateValide(aDate2)&&
  !this.estJourEgal(aDate1,aDate2);};ObjetDate.prototype.estDateDansAnneeScolaire=function(aDate){return this.dateEntreLesDates(aDate,this.premiereDate,this.derniereDate);};ObjetDate.prototype.GetDateDemiJour=function(ADate){return new Date(ADate.getFullYear(),ADate.getMonth(),ADate.getDate(),12);};ObjetDate.prototype.premierJourOuvreDeLaSemaine=function(aNrSemaine){return IE.Cycles.datePremierJourOuvreCycle(aNrSemaine);};ObjetDate.prototype.dernierJourOuvreDeLaSemaine=function(aNrSemaine){return IE.Cycles.dateDernierJourOuvreCycle(aNrSemaine);};ObjetDate.prototype.GetJour=function(ADate,N){return new Date(ADate.getFullYear(),ADate.getMonth(),ADate.getDate(),N===null||N===undefined?0:24*N);};ObjetDate.prototype.GetJourDeSemaine=function(ADate,B){return(7+ADate.getDay()-(B?this.PremierLundi.getDay():1))%7;};ObjetDate.prototype.GetSemaineSuivante=function(ADate,N){return new Date(ADate.getTime()+(N===null||N===undefined?1:N)*this.DureeSemaines);};ObjetDate.prototype.GetJourSuivant=function(ADate,N){if(!ADate||!ADate.getTime){return null;}
  var lDate=new Date(ADate.getTime()),lNombreJours=MethodesObjet.isNumber(N)?N:1;lDate.setDate(lDate.getDate()+lNombreJours);if(Math.abs(lNombreJours)===1&&ADate.getDate()===lDate.getDate()){var lDateCorrigee=new Date(ADate.getTime());lDateCorrigee.setHours(ADate.getHours()+1);if(lDateCorrigee.getDate()!==ADate.getDate()){lDateCorrigee.setHours(ADate.getHours()-1);}
  lDateCorrigee.setDate(lDateCorrigee.getDate()+lNombreJours);lDate=lDateCorrigee;}
  return lDate;};ObjetDate.prototype.EstUnJourDuWE=function(AAnnee,AMois,AJour){var D=new Date(AAnnee,AMois,AJour).getDay();return(D===0)||(D===6);};ObjetDate.prototype.GetNombreJoursDuMois=function(AAnnee,AMois){AMois=(AMois+1)%12;if(AMois===0){AAnnee++;}
  return new Date(AAnnee,AMois,0).getDate();};ObjetDate.prototype.GetPremierJourDuMois=function(AAnnee,AMois){return new Date(AAnnee,AMois,1,12);};ObjetDate.prototype.GetPremierLundiDuMois=function(AAnnee,AMois){var LJour=this.GetPremierJourDuMois(AAnnee,AMois),lJourPremierLundi=this.PremierLundi?GDate.GetJourDeSemaine(this.PremierLundi):0;return this.GetJourSuivant(LJour,(lJourPremierLundi-(7+GDate.GetJourDeSemaine(LJour)))%7);};ObjetDate.prototype.GetDernierJourDuMois=function(AAnnee,AMois){return new Date(AAnnee,AMois,this.GetNombreJoursDuMois(AAnnee,AMois),12);};ObjetDate.prototype.EstUnJourDuMois=function(AAnnee,AMois,AJour){return new Date(AAnnee,AMois,AJour).getMonth()===AMois;};ObjetDate.prototype.estHeureIdentique=function(aDate1,aDate2){return(aDate1.getHours()===aDate2.getHours())&&(aDate1.getMinutes()===aDate2.getMinutes());};ObjetDate.prototype.JourEstDansLaPeriode=function(AAnnee,AMois,AJour,ADateDebut,ADateFin){var LDate=new Date(AAnnee,AMois,AJour);return(LDate>=ADateDebut)&&(LDate<=ADateFin);};ObjetDate.prototype.StrMoisCourt=function(AAnnee,AMois,AAvecAnnee){return GTraductions.getValeur('MoisCourt')[AMois]+(AAvecAnnee?'&nbsp;'+AAnnee:'');};ObjetDate.prototype.NombreMoisSurPeriode=function(ADateDebut,ADateFin){return 12*(ADateFin.getFullYear()-ADateDebut.getFullYear())+(ADateFin.getMonth()-ADateDebut.getMonth())+1;};ObjetDate.prototype.nombresSemainesDansLAnnee=function(){var lDay=this.GetJourDeDate(new Date(this.PremierLundi.getFullYear(),0,1));return(lDay===3)?(lDay===2&&this.PremierLundi.estAnneeBissextile())?this.semainesParAn+1:this.semainesParAn+1:this.semainesParAn;};ObjetDate.prototype.GetJourDeDate=function(ADate){return(ADate.getDay()+7-1)%7;};ObjetDate.prototype.getFuseau=function(aDate){return aDate?aDate.getTimezoneOffset()/60:0;};ObjetDate.prototype.getEcartFuseau=function(aDate1,aDate2){return this.getFuseau(aDate1)-this.getFuseau(aDate2);};ObjetDate.prototype.GetSemaine=function(aDate){return IE.Cycles.cycleDeLaDate(aDate||new Date());};ObjetDate.prototype.getNbrJoursDepuisPremiereLundi=function(aDate){return this.getNbrJoursEntreDeuxDates(this.PremierLundi,aDate);};ObjetDate.prototype.getNbrJoursEntreDeuxDates=function(aDateDebut,aDateFin){if(!aDateDebut||!aDateDebut.getFullYear||!aDateFin||!aDateFin.getFullYear){
  return 0;}
  return Date.UTC(aDateFin.getFullYear(),aDateFin.getMonth(),aDateFin.getDate())/this.DureeJours-Date.UTC(aDateDebut.getFullYear(),aDateDebut.getMonth(),aDateDebut.getDate())/this.DureeJours;};ObjetDate.prototype.GetSemaineCalendaire=function(){return 1+Math.round((this.PremierLundi-new Date(this.PremierLundi.getFullYear(),0,1))/this.DureeSemaines);};ObjetDate.prototype.semaineToCalendaire=function(aSemaine,aAfficherSemainesCalendaires){var lNumero=aAfficherSemainesCalendaires;if(!MethodesObjet.isNumber(lNumero)){lNumero=this.parametres.afficherSemainesCalendaires;}
  if(!MethodesObjet.isNumber(lNumero)){lNumero=1;}
  return lNumero<0?((aSemaine-1)+(this.GetSemaineCalendaire()-1))%this.nombresSemainesDansLAnnee()+1:aSemaine+lNumero-1;};ObjetDate.prototype.strDateCalendaireDeSemaine=function(aSemaine,avecDuAu){var lNumeroSemaine=this.semaineToCalendaire(aSemaine);var H=[];H.push(GTraductions.getValeur('Semaine')+' '+lNumeroSemaine);if(avecDuAu===true){var lDateDeb=this.FormatDate(this.premierJourOuvreDeLaSemaine(aSemaine),'%JJ/%MM/%AAAA');var lDateFin=this.FormatDate(this.dernierJourOuvreDeLaSemaine(aSemaine),'%JJ/%MM/%AAAA');H.push(', ');H.push(GTraductions.getValeur('Du')+' '+lDateDeb);H.push(' ');H.push(GTraductions.getValeur('Au')+' '+lDateFin);}
  return H.join('');};ObjetDate.prototype.GetDifferenceJours=function(aDate1,aDate2){var lJour1=parseInt(this.GetJour(aDate1)/this.DureeJours,10);var lJour2=parseInt(this.GetJour(aDate2)/this.DureeJours,10);return lJour1-lJour2;};ObjetDate.prototype.GetDifferenceJoursPar24h=function(aDate1,aDate2){var duree_ms=aDate1-aDate2;return parseInt(duree_ms/this.DureeJours,10);};ObjetDate.prototype.GetDifferenceTime=function(aDate1,aDate2){var duree_ms=aDate1-aDate2;var reste_heures=duree_ms-(parseInt(duree_ms/this.DureeJours,10)*this.DureeJours);var nb_heures=parseInt(reste_heures/this.DureeHeures,10);var reste_minutes=duree_ms-(parseInt(duree_ms/this.DureeHeures,10)*this.DureeHeures);var nb_minutes=parseInt(reste_minutes/this.DureeMinutes,10);var reste_secondes=duree_ms-(parseInt(duree_ms/this.DureeMinutes,10)*this.DureeMinutes);var nb_secondes=parseInt(reste_secondes/this.DureeSecondes,10);return(nb_heures<10?'0':'')+nb_heures+':'+(nb_minutes<10?'0':'')+nb_minutes+':'+(nb_secondes<10?'0':'')+nb_secondes;};ObjetDate.prototype.FormatDate=function(ADate,AFormat){if(!ADate||!MethodesObjet.isDate(ADate)){GLog.addLog('ObjetDate.prototype.FormatDate, ADate n\'est pas une date : '+ADate,null,GLog.genre.Erreur);return'';}
  if(!AFormat||!MethodesObjet.isString(AFormat)){GLog.addLog('ObjetDate.prototype.FormatDate, AFormat n\'est pas format valide : '+AFormat,null,GLog.genre.Erreur);return'';}
  AFormat=AFormat.replace(/\[(.*?)\]/ig,!this.estJourEgal(ADate,this.aujourdhui)?!this.estJourEgal(ADate,this.demain)?!this.estJourEgal(ADate,this.hier)?'$1':GTraductions.getValeur('Hier'):GTraductions.getValeur('Demain'):GTraductions.getValeur('Aujourdhui'));var LHour=ADate.getHours();var LMinute=ADate.getMinutes();var LSecond=ADate.getSeconds();var LDay=this.GetJourDeDate(ADate);var LDate=ADate.getDate();var LMonth=ADate.getMonth()+1;var LYear=ADate.getFullYear();AFormat=AFormat.replace('%hh',(LHour<10?'0':'')+LHour);AFormat=AFormat.replace('%xh',LHour);AFormat=AFormat.replace('%mm',(LMinute<10?'0':'')+LMinute);AFormat=AFormat.replace('%ss',(LSecond<10?'0':'')+LSecond);AFormat=AFormat.replace('%sh',GTraductions.getValeur('date.separateurHeure'));AFormat=AFormat.replace('%JJJJ',GTraductions.getValeur('Jours')[LDay]);AFormat=AFormat.replace('%Jjjj',(GTraductions.getValeur('Jours')[LDay]).ucfirst());AFormat=AFormat.replace('%JJJ',GTraductions.getValeur('JoursCourt')[LDay]);AFormat=AFormat.replace('%Jjj',(GTraductions.getValeur('JoursCourt')[LDay]).ucfirst());AFormat=AFormat.replace('%JJ',(LDate<10?'0':'')+LDate);AFormat=AFormat.replace('%J',LDate);AFormat=AFormat.replace('%MMMM',GTraductions.getValeur('Mois')[LMonth-1]);AFormat=AFormat.replace('%MMM',GTraductions.getValeur('MoisCourt')[LMonth-1]);AFormat=AFormat.replace('%Mmm',(GTraductions.getValeur('MoisCourt')[LMonth-1]).ucfirst());AFormat=AFormat.replace('%MM',(LMonth<10?'0':'')+LMonth);AFormat=AFormat.replace('%AAAA',LYear);AFormat=AFormat.replace('%AA',(LYear%100<10?'0':'')+LYear%100);return AFormat;};ObjetDate.prototype.estDateParticulier=function(ADate){return this.estJourEgal(ADate,this.aujourdhui)||this.estJourEgal(ADate,this.demain)||this.estJourEgal(ADate,this.hier);};ObjetDate.prototype.FormatDureeEnMillisecondes=function(aDureeEnMillisecondes,aFormat,aForcerFormatDuree){if(!MethodesObjet.isNumber(aDureeEnMillisecondes)){return'';}
  var lFormatDureeEnChaine=this.parametres.formatDureeEnChaine;if(MethodesObjet.isNumber(aForcerFormatDuree)){lFormatDureeEnChaine=aForcerFormatDuree;}
  switch(lFormatDureeEnChaine){case TypeFormatDureeEnChaine.fdcHeuresMinutes:var lFormat=aFormat||'%hh%sh%mm';var LHour=null,LMinute=null;lFormat=lFormat.replace('%sh',GTraductions.getValeur('date.separateurHeure'));if((lFormat.lastIndexOf('%hh')> -1)||(lFormat.lastIndexOf('%xh')> -1)){LHour=parseInt(aDureeEnMillisecondes/this.DureeHeures,10);lFormat=lFormat.replace('%hh',(LHour<10?'0':'')+LHour);lFormat=lFormat.replace('%xh',LHour);aDureeEnMillisecondes=aDureeEnMillisecondes-LHour*this.DureeHeures;}
  if(lFormat.lastIndexOf('%mm')> -1||(lFormat.lastIndexOf('%xm')> -1)){LMinute=parseInt(aDureeEnMillisecondes/this.DureeMinutes,10);lFormat=lFormat.replace('%mm',(LMinute<10?'0':'')+LMinute);lFormat=lFormat.replace('%xm',LMinute);aDureeEnMillisecondes=aDureeEnMillisecondes-LMinute*this.DureeMinutes;}
  var LSecond=parseInt(aDureeEnMillisecondes/this.DureeSecondes,10);lFormat=lFormat.replace('%ss',(LSecond<10?'0':'')+LSecond);return lFormat;case TypeFormatDureeEnChaine.fdcHeuresCentiemes:var lNbHeures=Math.floor(aDureeEnMillisecondes/GDate.DureeHeures),lMinutesEnCentiemes=Math.floor((aDureeEnMillisecondes/GDate.DureeHeures-lNbHeures)*100);if(lMinutesEnCentiemes<10){lMinutesEnCentiemes='0'+lMinutesEnCentiemes;}
  return lNbHeures+','+lMinutesEnCentiemes;case TypeFormatDureeEnChaine.fdcSequences:var lNbSequences=Math.round10(aDureeEnMillisecondes/TUtilitaireDuree.dureeEnMs(this.DureeSequence),-2);var lPartieEntiere=Math.floor(lNbSequences),lPartieDecimale=Math.floor((lNbSequences-lPartieEntiere)*100);if(lPartieDecimale<10){lPartieDecimale='0'+lPartieDecimale;}
  return lPartieEntiere+','+lPartieDecimale;default:;}
  return'';};ObjetDate.prototype.formatDureeEnPlaces=function(aPlaces,aFormat,aForcerFormatDuree){if(!MethodesObjet.isNumber(aPlaces)){return'';}
  return this.FormatDureeEnMillisecondes(this.nombrePlacesEnMillisecondes(aPlaces),aFormat,aForcerFormatDuree);};ObjetDate.prototype.enCentiemeDHeure=function(aDureeEnMillisecondes){var lDuree=parseInt(aDureeEnMillisecondes,10);if(!MethodesObjet.isNumber(lDuree)){return'';}
  var lNbHeures=Math.floor(lDuree/GDate.DureeHeures),lMinutesEnCentiemes=Math.floor((lDuree/GDate.DureeHeures-lNbHeures)*100);if(lMinutesEnCentiemes<10){lMinutesEnCentiemes='0'+lMinutesEnCentiemes;}
  return lNbHeures+','+lMinutesEnCentiemes;};ObjetDate.prototype.strSemaine=function(aNumeroSemaine,aFormatDebut,aFormatFin,aSeparateur1,aSeparateur2,aSeparateur3){var lDateDeb=this.FormatDate(this.premierJourOuvreDeLaSemaine(aNumeroSemaine),aFormatDebut);var lDateFin=this.FormatDate(this.dernierJourOuvreDeLaSemaine(aNumeroSemaine),aFormatFin);return(aSeparateur1||'')+lDateDeb+(aSeparateur2||'')+lDateFin+(aSeparateur3||'');};ObjetDate.prototype.strDomaine=function(aDomaine,aFormatDebut,aFormatFin,aSeparateur1,aSeparateur2,aSeparateur3){var lDateDeb=this.FormatDate(IE.Cycles.datePremierJourOuvreCycle(aDomaine.GetPremierePosition()),aFormatDebut);var lDateFin=this.FormatDate(IE.Cycles.dateDernierJourOuvreCycle(aDomaine.GetDernierePosition()),aFormatFin);return(aSeparateur1||'')+lDateDeb+(aSeparateur2||'')+lDateFin+(aSeparateur3||'');};function estMinuit(aDate){var lHeure=aDate.getHours();var lMin=aDate.getMinutes();return(lHeure===0&&lMin===0);}
  ObjetDate.prototype.strDates=function(aDateDebut,aDateFin,aParams){var lParams={sansHoraire:false,formatDate:'%J %MMMM'};$.extend(lParams,aParams);var formatHeure=' %hh'+GTraductions.getValeur('date.separateurHeure')+'%mm';var lResult=[];if(GDate.getNbrJoursEntreDeuxDates(aDateDebut,aDateFin)>=1){if(lParams.sansHoraire){lResult.push(this.FormatDate(aDateDebut,GTraductions.getValeur('Du')+' '+lParams.formatDate));lResult.push(' ');lResult.push(this.FormatDate(aDateFin,GTraductions.getValeur('Au')+' '+lParams.formatDate));} else{lResult.push(this.FormatDate(aDateDebut,GTraductions.getValeur('Du')+' '+lParams.formatDate)+' '+(estMinuit.call(this,aDateDebut)?'':GDate.FormatDate(aDateDebut,GTraductions.getValeur('A')+formatHeure)));lResult.push(' ');lResult.push(this.FormatDate(aDateFin,GTraductions.getValeur('Au')+' '+lParams.formatDate)+' '+(estMinuit.call(this,aDateFin)?'':GDate.FormatDate(aDateFin,GTraductions.getValeur('A')+formatHeure)));}} else if(aDateDebut-aDateFin===0){lResult.push(GDate.FormatDate(aDateDebut,'['+GTraductions.getValeur('Le')+' '+lParams.formatDate+']'));lResult.push(' ');lResult.push(lParams.sansHoraire?'':(estMinuit.call(this,aDateFin)?'':GDate.FormatDate(aDateFin,GTraductions.getValeur('A')+formatHeure)));} else{lResult.push(GDate.FormatDate(aDateDebut,'['+GTraductions.getValeur('Le')+' '+lParams.formatDate+']'));lResult.push(' ');lResult.push(lParams.sansHoraire?'':this.FormatDate(aDateDebut,GTraductions.getValeur('De')+formatHeure)+' '+GDate.FormatDate(aDateFin,GTraductions.getValeur('A')+formatHeure));}
  return lResult.join('');};function _dateEnPlaceJour(ADate,AEstDateFin){var I,lNbMinutesLibelleHeure,lNbMinutesLibelleHeureDebut=_GetNbrMinutes_LibelleHeure.call(this,0);for(I=this.PlacesParJour-1;I>=0;I--){lNbMinutesLibelleHeure=_GetNbrMinutes_LibelleHeure.call(this,I);if(lNbMinutesLibelleHeure<lNbMinutesLibelleHeureDebut){lNbMinutesLibelleHeure+=24*60;}
  if(_GetNbrMinutes.call(this,ADate)-(AEstDateFin?1:0)>=lNbMinutesLibelleHeure){break;}}
  return Math.max(I,0);}
  function _getHrMinDeListeHeures(aPlace,aEstPlaceFin){var lResult={h:0,m:0,ok:false};var lChaine=null;var lElement=null;if(aEstPlaceFin){lElement=this.ListeHeuresFin?this.ListeHeuresFin.GetElement(aPlace):this.ListeHeures.GetElement(aPlace+1);} else{lElement=this.ListeHeures.GetElement(aPlace);}
  if(lElement){lChaine=lElement.GetLibelle();}
  if(!lChaine||!lChaine.indexOf||!lChaine.split){
  return lResult;}
  var lTab=lChaine.split(ObjetDate.separateurHeureDelphi);if(lTab.length<2){lTab=lChaine.split(':')
  ;if(lTab.length<2){
  return lResult;}}
  ;lResult.h=parseInt(lTab[0],0)||0;if(lTab.length>1){lResult.m=parseInt(lTab[1],0)||0;}
  lResult.ok=true;return lResult;}
  ObjetDate.prototype.PlaceAnnuelleEnDate=function(APlace,AEstDateFin){var LJour=this.GetJourSuivant(IE.Cycles.dateDebutPremierCycle(),Math.floor(APlace/this.PlacesParJour));var lHrMin=_getHrMinDeListeHeures.call(this,APlace%this.PlacesParJour,AEstDateFin);return new Date(LJour.getFullYear(),LJour.getMonth(),LJour.getDate(),lHrMin.h,lHrMin.m);};ObjetDate.prototype.DateEnPlaceAnnuelle=function(aDate,aEstDateFin){var lPlaceAnnuelleJour=this.getNbrJoursEntreDeuxDates(IE.Cycles.dateDebutPremierCycle(),aDate)*this.PlacesParJour;if(lPlaceAnnuelleJour<0){return 0;}
  return lPlaceAnnuelleJour+_dateEnPlaceJour.call(this,aDate,aEstDateFin);};ObjetDate.prototype.PlaceParJourEnDate=function(APlace){var LJour=this.getDateCourante();var lHrMin=_getHrMinDeListeHeures.call(this,APlace);return new Date(LJour.getFullYear(),LJour.getMonth(),LJour.getDate(),lHrMin.h,lHrMin.m);};ObjetDate.prototype.DateEnPlaceHebdomadaire=function(ADate,AEstDateFin){var lParam={},lJour=0;if(IE.Cycles.dateEnCycleEtJourCycle(ADate,null,lParam)){lJour=lParam.indice;} else if(IE.Cycles.dateEnCycleEtJourCycle(ADate,IE.Cycles.recherche.autoriserPrecedents,lParam)){return lParam.indice*this.PlacesParJour-1;}
  return lJour*this.PlacesParJour+_dateEnPlaceJour.call(this,ADate,AEstDateFin);};function _GetNbrMinutes(ADate){return ADate.getHours()*60+ADate.getMinutes();}
  function _GetNbrMinutes_LibelleHeure(I){var lHrMin=_getHrMinDeListeHeures.call(this,I);return lHrMin.h*60+lHrMin.m;}
  ObjetDate.prototype.placeEnDate=function(aNumeroCycle,aPlace,aEstPlaceFin,aInstanceCycles){var lCycles=aInstanceCycles||IE.Cycles,lNumeroJour=Math.floor(aPlace/this.PlacesParJour),lNumeroCycle=Math.max(1,aNumeroCycle),LJour=lCycles.jourCycleEnDate(lNumeroJour,lNumeroCycle);var lPlaceJour=aPlace%this.PlacesParJour;if(lNumeroJour>lCycles.cache.datesAfficheesParCycle[lNumeroCycle].length){lPlaceJour=this.PlacesParJour-1;}
  var lHrMin=_getHrMinDeListeHeures.call(this,lPlaceJour,aEstPlaceFin);return lHrMin&&lHrMin.ok?new Date(LJour.getFullYear(),LJour.getMonth(),LJour.getDate(),lHrMin.h,lHrMin.m):new Date(LJour.getFullYear(),LJour.getMonth(),LJour.getDate());};ObjetDate.prototype.placeEnDateHeure=function(aPlace,aEstPlaceFin){return this.placeEnDate(1,aPlace,aEstPlaceFin);};ObjetDate.prototype.nombrePlacesEnDuree=function(aPlaces){if(!MethodesObjet.isNumber(aPlaces)){return 0;}
  return aPlaces*this.DureeSequence/this.PlacesParHeure;};ObjetDate.prototype.minutesEnNombrePlaces=function(aDureeEnMinutes){if(!MethodesObjet.isNumber(aDureeEnMinutes)){return 0;}
  var lDuree1PlaceEnMinutes=TUtilitaireDuree.dureeEnMin(this.nombrePlacesEnDuree(1));var lResult=aDureeEnMinutes/lDuree1PlaceEnMinutes;if(lResult!==parseInt(lResult,10)){}
  return lResult;};ObjetDate.prototype.nombrePlacesEnMillisecondes=function(aPlaces){return TUtilitaireDuree.dureeEnMs(this.nombrePlacesEnDuree(aPlaces));};ObjetDate.prototype.getDateDeChaine=function(aChaine,aDateDebut,aDateFin){aDateDebut=aDateDebut||this.PremierLundi;aDateFin=aDateFin||this.derniereDate;var T=aChaine.split('/');if(T[2]&&(T[2].length===2)){T[2]='20'+T[2];}
  var lDate=new Date(T[2],T[1]-1,T[0]);var lEstValide=((lDate.getFullYear()===parseInt(T[2]))||(lDate.getFullYear()===parseInt('20'+T[2],10)))&&(lDate.getMonth()===Number(T[1]-1))&&(lDate.getDate()===parseInt(T[0]))&&(lDate>=aDateDebut)&&(lDate<=aDateFin)
  ;return lEstValide?lDate:null;};ObjetDate.prototype.getListeSemaines=function(aSemaineDebut,aSemaineFin,aGenreTri){var lLibelle,LDateDeb,LDateFin;var lSemaineCourante=IE.Cycles.cycleDeLaDate(new Date());var lListeSemaines=new ObjetListeElements();var lSemaineDeb=Math.max(0,aSemaineDebut);var lSemaineFin=Math.min(IE.Cycles.nombreCyclesAnneeScolaire(),aSemaineFin);for(var lSemaine=lSemaineDeb;lSemaine<=lSemaineFin;lSemaine++){if(lSemaine===lSemaineCourante){lLibelle=GTraductions.getValeur('SemaineEnCours');} else if(lSemaine===lSemaineCourante+1){lLibelle=GTraductions.getValeur('SemaineSuivante');} else if(lSemaine===lSemaineCourante-1){lLibelle=GTraductions.getValeur('SemainePrecedente');} else{LDateDeb=GDate.FormatDate(IE.Cycles.dateDebutCycle(lSemaine),'%JJ/%MM');LDateFin=GDate.FormatDate(IE.Cycles.dateDernierJourOuvreCycle(lSemaine),'%JJ/%MM');lLibelle=GTraductions.getValeur('Du')+' '+LDateDeb+' '+GTraductions.getValeur('Au')+' '+LDateFin;}
  lListeSemaines.AddElement(new ObjetElement(lLibelle,null,lSemaine));}
  lListeSemaines.setTri([ObjetTri.init('Genre')]);lListeSemaines.trier(aGenreTri);return lListeSemaines;};ObjetDate.prototype.getListeMoisAPartirDeDate=function(aDateDebut,aDateFin){var lListeMois=new ObjetListeElements(),lElement,lAnnee,lMois,lDate,lVrai=true,lPremiereDate=aDateDebut||this.premiereDate,lDerniereDate=aDateFin||this.derniereDate,lAnneeDebut=lPremiereDate.getFullYear(),lMoisDebut=lPremiereDate.getMonth(),lAnneeFin=lDerniereDate.getFullYear(),lMoisFin=lDerniereDate.getMonth();if(lPremiereDate.getTime()<=lDerniereDate.getTime()){lMois=lMoisDebut;lAnnee=lAnneeDebut;while(lVrai){if(lMois>=lMoisFin&&lAnnee>=lAnneeFin||lAnnee>lAnneeFin){lVrai=false;}
  lDate=new Date(lAnnee,lMois);lElement=new ObjetElement(GDate.FormatDate(lDate,'%MMMM %AAAA').ucfirst());lElement.annee=lAnnee;lElement.mois=lMois;lDate=this.GetPremierJourDuMois(lAnnee,lMois);lElement.dateDebut=lDate>=lPremiereDate?lDate:lPremiereDate;lDate=this.GetDernierJourDuMois(lAnnee,lMois);lElement.dateFin=lDate<=lDerniereDate?lDate:lDerniereDate;lListeMois.AddElement(lElement);lMois+=1;if(lMois>11){lAnnee+=1;lMois=0;}}}
  return lListeMois;};ObjetDate.prototype.parseHeureMinute=function(aValue,aDureeMinEnMin,aDureeMaxEnMin){function _estUnChiffre(aCar){return/[0-9]/.test(aCar);}
  var lResult={heure:0,minute:0,ok:false,erreurFormat:true,erreurMinMax:false};var lDureeMinEnMin=aDureeMinEnMin||0,lDureeMaxEnMin=aDureeMaxEnMin||24*60;if(!MethodesObjet.isString(aValue)){return lResult;}
  var lValue=aValue.trim(),lHeure,lMinute=0,lIndice=0,lZeroDevant=false;if(!_estUnChiffre(lValue[lIndice])&&lValue[lIndice]!=='+'){return lResult;}
  if(lValue[lIndice]==='+'){lIndice+=1;while(lIndice<lValue.length&&lValue[lIndice]===' '){lIndice+=1;}}
  lZeroDevant=lValue[lIndice]==='0';lHeure=0;while(lIndice<lValue.length&&_estUnChiffre(lValue[lIndice])){lHeure=lHeure*10+parseInt(lValue[lIndice],10);lIndice+=1;}
  while(lIndice<lValue.length&&!_estUnChiffre(lValue[lIndice])){lIndice+=1;}
  if(lIndice>=lValue.length){if(lZeroDevant||(lHeure>=100&&lHeure*60>=lDureeMaxEnMin)){lMinute=lHeure%100;lHeure=Math.floor(lHeure/100);} else{lMinute=0;}} else{lMinute=0;while(lIndice<lValue.length&&_estUnChiffre(lValue[lIndice])){lMinute=lMinute*10+parseInt(lValue[lIndice],10);lIndice+=1;}
  while(lIndice<lValue.length&&!_estUnChiffre(lValue[lIndice])){lIndice+=1;}
  if(lIndice<lValue.length){return lResult;}}
  if(lMinute>=60||lMinute<0||lHeure<0){return lResult;}
  lResult.heure=lHeure;lResult.minute=lMinute;if((lHeure*60+lMinute)<lDureeMinEnMin||(lHeure*60+lMinute)>=lDureeMaxEnMin){lResult.erreurMinMax=true;return lResult;}
  lResult.ok=true;return lResult;};var GDate=new ObjetDate();module.exports.ObjetDate=ObjetDate;module.exports.GDate=GDate;},fn:"objetdate.js"});;
  IE.fModule({f:function(exports,require,module,global){require('produit/css/IEHtml.BtnImage.css');var IEHtml=require('IEHtml.js');var GLog=require('IELog.js');var Invocateur=require('Invocateur.js').Invocateur;var GHtml=require('GHtml.js');var ControleSaisieEvenement=require('ControleSaisieEvenement.js');var GObjetWAI=require('ObjetWAI.js').GObjetWAI;var EGenreRole=require('ObjetWAI.js').EGenreRole;var EGenreAttribut=require('ObjetWAI.js').EGenreAttribut;var TypeEtatBtnImage={NonSelectionne:0,Inactif:1,ClicNonSelectionne:2,Selectionne:3,SurvolNonSelectionne:4,SurvolSelectionne:5};IEHtml.addBalise('ie-btnImage',function(aContexteCourant,aOutils){function _actualiser(aJBouton,aData,aEtat){if(lEstIcone||lEstSVG){return;}
  if(!aData.$disabled){if(aData.$selection){aData.$genre=aEtat.survol?TypeEtatBtnImage.SurvolSelectionne:TypeEtatBtnImage.Selectionne;} else if(aEtat.clique){aData.$genre=TypeEtatBtnImage.ClicNonSelectionne;} else{aData.$genre=aEtat.survol?TypeEtatBtnImage.SurvolNonSelectionne:TypeEtatBtnImage.NonSelectionne;}} else{aData.$genre=TypeEtatBtnImage.Inactif;}
  aJBouton.css('background-position',(-aData.$width*aData.$genre)+'px 0');}
  var lEtat={clique:false,survole:false};Object.assign(aContexteCourant.data,{$width:20,$selection:false,$genre:TypeEtatBtnImage.NonSelectionne,$disabled:false});var lInnerHtml=aContexteCourant.node.innerHTML;var lEstSVG=!!lInnerHtml&&$(aContexteCourant.node).find('svg').length>0;var lEstIconeStandard=$(aContexteCourant.node).hasClass('btnImageIcon');var lEstIcone=lEstIconeStandard||$(aContexteCourant.node).hasClass('ObjetBoutonBandeau_icone')||$(aContexteCourant.node).hasClass('ObjetBoutonMenu_icone');var lBouton=lEstIcone?GHtml.htmlToDOM('<i '+GObjetWAI.composeRole(EGenreRole.Button)+' tabindex="0">'+'</i>'):GHtml.htmlToDOM('<div '+GObjetWAI.composeRole(EGenreRole.Button)+' tabindex="0">'+'</div>');var lJBouton=$(lBouton);lJBouton.IEData(aContexteCourant.data);var lInfosEvent,lInfosGetSelection,lInfosGetDisabled,lInfosGetTitle,lRefresh,lAvecControleSaisie,lDisabled=false,lModele=aOutils.getModel(aContexteCourant),lAvecLabelAccessible=aOutils.hasAttribute(aContexteCourant.node,GObjetWAI.WaiAttribut[EGenreAttribut.label]),lLabelWAIManquant=!lAvecLabelAccessible,lSetTitle=function(aTitle){aContexteCourant.data.$oldTitle=aTitle;lJBouton.attr('title',aTitle);if(!lAvecLabelAccessible){lJBouton.attr(GObjetWAI.WaiAttribut[EGenreAttribut.label],aTitle);}};if(lModele&&aContexteCourant.data.$modeleParsed){lInfosEvent=aOutils.getAccesParametresModel('event',aContexteCourant);lInfosGetSelection=aOutils.getAccesParametresModel('getSelection',aContexteCourant);lInfosGetDisabled=aOutils.getAccesParametresModel('getDisabled',aContexteCourant);lInfosGetTitle=aOutils.getAccesParametresModel('getTitle',aContexteCourant);lRefresh=aContexteCourant.contexte.refresh;lAvecControleSaisie=aOutils.getControleSaisieEvent(aContexteCourant);if(lInfosEvent.estFonction){lJBouton.eventValidation(function(event){if(aContexteCourant.data.$disabled){return;}
  var lAction=function(){var lResult=lInfosEvent.callback([event,this,aContexteCourant.data]);lRefresh();return lResult;};if(lAvecControleSaisie){ControleSaisieEvenement(lAction);} else{return lAction();}});}
  var lGetSelection,lGetterDisabled,lGetterTitle;if(lInfosGetSelection.valide){lGetSelection=function(){return!!lInfosGetSelection.callback([aContexteCourant.node,aContexteCourant.data]);};aContexteCourant.data.$selection=lGetSelection();}
  if(lInfosGetDisabled.valide){lGetterDisabled=function(){return!!lInfosGetDisabled.callback([lBouton,aContexteCourant.data]);};if(lInfosGetDisabled.estFonction||!lGetterDisabled()||lGetterDisabled()===true){lDisabled=!!lGetterDisabled();} else{lGetterDisabled=null;GLog.addLog('echec getDisabled de ie-bouton, propriété incorrecte du model "'+lModele+'"');}}
  if(lInfosGetTitle.estFonction){lGetterTitle=function(){return lInfosGetTitle.callback([lBouton,aContexteCourant.data])||'';};lSetTitle(lGetterTitle());lLabelWAIManquant=false;}
  var lSetDisabled=function(aDisabled){if(aDisabled){lJBouton.attr(GObjetWAI.WaiAttribut[EGenreAttribut.disabled],'true');lJBouton.addClass('btnImageDisable');} else{lJBouton.get(0).removeAttribute(GObjetWAI.WaiAttribut[EGenreAttribut.disabled]);lJBouton.removeClass('btnImageDisable');}};if(lGetSelection||lGetterDisabled||lGetterTitle){aOutils.abonnerRefresh(function(){var lActualiser=false;if(lGetSelection){var lSelection=lGetSelection();if(lSelection!==aContexteCourant.data.$selection){aContexteCourant.data.$selection=lSelection;lActualiser=true;}}
  if(lGetterDisabled){var lDisabled=!!lGetterDisabled();if(lDisabled!==aContexteCourant.data.$disabled){aContexteCourant.data.$disabled=lDisabled;lSetDisabled(lDisabled);lActualiser=true;}}
  if(lActualiser){_actualiser(lJBouton,aContexteCourant.data,lEtat);}
  if(lGetterTitle){var lTitle=lGetterTitle();if(lTitle!==aContexteCourant.data.$oldTitle){lSetTitle(lTitle);}}},lBouton,aContexteCourant);}}
  aOutils.copyAttributs(aContexteCourant.node,lBouton,function(aName,aValue){if(aName==='title'&&aValue&&(!lInfosGetTitle||!lInfosGetTitle.estFonction)){lJBouton.attr(GObjetWAI.WaiAttribut[EGenreAttribut.label],aValue);lLabelWAIManquant=false;}});if(!lBouton.style.width){if(!lEstSVG&&!lEstIconeStandard){lBouton.style.width=aContexteCourant.data.$width+'px';}} else{aContexteCourant.data.$width=parseInt(lBouton.style.width,10)||aContexteCourant.data.$width;}
  aContexteCourant.data.$disabled=lDisabled;_actualiser(lJBouton,aContexteCourant.data,lEtat);if(lDisabled){lSetDisabled(lDisabled);}
  lJBouton.addClass('btnImage OmbreFocus').on('focusin mouseover',function(){lEtat.survol=true;_actualiser(lJBouton,aContexteCourant.data,lEtat);}).on('focusout mouseout',function(){lEtat.survol=false;_actualiser(lJBouton,aContexteCourant.data,lEtat);}).on('iedown',function(){lEtat.clique=true;_actualiser(lJBouton,aContexteCourant.data,lEtat);Invocateur.abonnerUnique(GNavigateur.getEventInvocateur('ieup'),function(){lEtat.clique=false;_actualiser(lJBouton,aContexteCourant.data,lEtat);});});var lRacine=lJBouton.get(0);aOutils.replaceNode(aContexteCourant.node,lRacine);if(lModele&&aContexteCourant.data.$modeleParsed){aOutils.surNodeEtNodeAfter(aContexteCourant);}
  aOutils.addCommentaireDebug(lRacine,'ie-btnImage');if(lInnerHtml){aOutils.injectHTML({element:lRacine,html:lInnerHtml,controleur:aContexteCourant.controleur,ignorerScroll:true,contexte:aContexteCourant.contexte});}
  return{node:lRacine,avecCompileFils:false};});module.exports=IEHtml;},fn:"iehtml.btnimage.js"});;
  IE.fModule({f:function(exports,require,module,global){require('espace/css/ObjetSaisie.css');var GUID=require('GUID.js');var GLog=require('IELog.js');var MethodesObjet=require('MethodesObjet.js');var MethodesTableau=require('MethodesTableau.js');var GChaine=require('GChaine.js');var GHtml=require('GHtml.js');var GPosition=require('GPosition.js');var GStyle=require('GStyle.js');var ControleSaisieEvenement=require('ControleSaisieEvenement.js');var EGenreEvenementObjetSaisie=require('Enumere_EvenementObjetSaisie.js');var EEvent=require('Enumere_Event.js');var EGenreSaisie=require('Enumere_Saisie.js');require('iehtml.bouton.js');require('iehtml.btnimage.js');require('IEHtmlComposants.js');var ObjetCelluleBouton=require('ObjetCelluleBouton.js').ObjetCelluleBouton;var Identite=require('ObjetIdentite.js');var ObjetElement=require('ObjetElement.js');var ObjetListeElements=require('ObjetListeElements.js');var GTraductions=require('ObjetTraduction.js');var GObjetWAI=require('ObjetWAI.js').GObjetWAI;var EGenreRole=require('ObjetWAI.js').EGenreRole;var EGenreAttribut=require('ObjetWAI.js').EGenreAttribut;var EGenreObjet=require('ObjetWAI.js').EGenreObjet;var EGenreBoutonCellule=require('ObjetCelluleBouton.js').EGenreBoutonCellule;var TypeThemeBouton=require('Type_ThemeBouton.js');function ObjetSaisie(){this.inheritedCreate(arguments);this.NomListe=this.Nom+'_Liste';this.idContenu=this.Nom+'_Contenu';this.idContenuScroll=this.Nom+'_ContenuScroll';this.idWrapperBouton=this.Nom+'_wrapperbouton';this.NomLabel=this.Nom+'_Label';this.idBtnValidation=this.Nom+'_btnValidation';this.idBloc=this.Nom+'_bloc';this.withTabulation=true;this.Survolee= -1;this.Selection= -1;this.largeurBouton=25;this.Timer=null;this._listeSelections=new ObjetListeElements();this.positionTouchStart=false;this.lastTouchEndScroll=0;this.modeTactile=GNavigateur.isTactile;this.cache={editionEnCours:false};this.init();}
  MethodesObjet.heritagePrototype(ObjetSaisie,Identite);var lClasseJQ=GUID.getClassCss(),c_decalageTopOuvertureInverse=3;ObjetSaisie.prototype.init=function(){_initParseur.bind(this)();this.bouton=new ObjetCelluleBouton(this.Nom+'.bouton',null,this,_surEvenementBouton.bind(this));this.IdPremierElement=this.bouton.NomEdit;this.initialiserOptions_ObjetSaisie();};ObjetSaisie.prototype.DetruireInstances=function(){$('#'+this.idContenu.escapeJQ()).stop(true,true);clearTimeout(this.cache.timerMAJ);clearTimeout(this._timerInitParseur);clearTimeout(this._timerEditionRecherche);};ObjetSaisie.prototype.initialiserOptions_ObjetSaisie=function(){this._options={mode:EGenreSaisie.Combo,multiSelection:false,longueur:125,hauteur:null,hauteurLigneDefault:18,hauteurLigneTactile:36,largeurListe:null,estLargeurAuto:false,getTailleElementlargeurAuto:function(aElement,aEstGras){return Math.ceil(GChaine.GetLongueurChaineDansDiv(aElement.GetLibelle(),10,aEstGras));},largeurAutoMin:50,largeurAutoMax:500,avecBouton:true,couleur:GCouleur,controlerNbrElements:false,accepterUnElement:false,avecGestionUnElement:true,avecTriListeElements:false,nbrLignes:25,classTexte:'Gras',classBackground:null,placeHolder:'',desactiverAideSaisie:false,classTexteReference:'Texte10',couleurFondDeroulant:null,celluleAvecTexteHtml:false,getContenuCellule:null,texteEdit:'',couleurTexteEdit:null,styleTexteEdit:null,classTexteEdit:null,largeurTexteEdit:null,libelleHaut:'',avecEventSurFermetureListe:false,avecFondSelectionSurSurvol:true,avecGrasSurSurvol:false,modifierContenuCelluleSurSelection:true,avecReservationPlaceBarreScroll:false,avecTextOverflowEllipsis:false,desactiverScrollInfini:false,nbBlocsScrollInfini:2,labelWAIZone:'',roleWAIZone:'',labelWAIEdit:'',roleWAIEdit:'',describedByWAI:false,roleWAIList:EGenreRole.Listbox,avecBoutonsPrecSuiv:false,avecBoutonsPrecSuivVisiblesInactifs:true,avecBoutonsPrecSuiv_boucle:false,optionsBouton:{},getPaddingLeftElement:null,getCouleurFondElement:null,getClassElement:null,getContenuElement:null,getEstElementNonSelectionnable:null,getElementSelectionnableParPrecSuiv:null,surValidation:null,getInfosElementCB:null,getLibelleCelluleMultiSelection:function(aListeSelections){return aListeSelections?aListeSelections.getTableauLibelles().join(', '):'';},surEditionRecherche:null,nbCarMinRecherche:2,delaiSurEditionRecherche:500,rechercheTout:['','*'],avecSurlignageSuggestion:true,couleurSurlignageSuggestion:GCouleur.surlignageTexte,callbackToutCalcule:null};};ObjetSaisie.prototype.setOptions_ObjetSaisie=function(aOptions){$.extend(this._options,aOptions);this._options.couleur=GCouleur;var lEstListeOuCombo=MethodesTableau.existe(this._options.mode,[EGenreSaisie.Combo]),lAvecSaisieRechercheDynamique=_avecSaisieRechercheDynamique.call(this);var lOptionsBouton=$.extend({estSaisissable:!lEstListeOuCombo,avecZoneSaisie:!lEstListeOuCombo,genreBouton:this._options.avecBouton?lEstListeOuCombo?EGenreBoutonCellule.Fleche:EGenreBoutonCellule.Loupe:EGenreBoutonCellule.Aucun,largeur:$.isNumeric(this._options.longueur)?this._options.longueur+this.largeurBouton:this._options.longueur,hauteur:this._options.hauteur||undefined,classTexte:this._options.classTexte,classBackground:this._options.classBackground,placeHolder:this._options.placeHolder,desactiverAideSaisie:this._options.desactiverAideSaisie||this._options.mode===EGenreSaisie.SaisieRecherche,roleWAIZone:this._options.roleWAIZone||undefined,roleWAIEdit:this._options.roleWAIEdit||undefined,labelWAIZone:this._options.labelWAIZone||undefined,describedByWAI:this._options.describedByWAI||undefined,owns:lEstListeOuCombo?this.NomListe:'',avecTextOverflowEllipsis:this._options.avecTextOverflowEllipsis,setValue:this._options.mode===EGenreSaisie.SaisieRecherche?_modificationSaisieBoutonRecherche.bind(this):null,editAvecTrim:lAvecSaisieRechercheDynamique,selectionSaisieSurFocus:lAvecSaisieRechercheDynamique},aOptions.optionsBouton);this.bouton.setOptions_ObjetCelluleBouton(lOptionsBouton);this.$refreshSelf();return this;};function _avecSaisieRechercheDynamique(){return this._options.mode===EGenreSaisie.SaisieRecherche&&!this.modeTactile&&!!this._options.surEditionRecherche;}
  function _trierElements(){if(this._options.avecTriListeElements&&this.ListeElements){this.ListeElements.trier();}}
  function _callbackRecherche(aParam){var lParam=Object.assign({liste:null},aParam);if(lParam.liste&&lParam.liste.GetNbrElements()>0){this.ListeElements=lParam.liste;_trierElements.call(this);this.FermerListe(false);_deroulerListe.call(this,0,false ,true);} else{this.FermerListe(false);}}
  function _modificationSaisieBoutonRecherche(aValue){this.ListeElements=new ObjetListeElements();this.Selection= -1;var lValue=(aValue+'').trim();clearTimeout(this._timerEditionRecherche);if(lValue.length<this._options.nbCarMinRecherche){this.FermerListe(false);} else if(this._options.surEditionRecherche){this.cache.editionEnCours=true;if(_avecSaisieRechercheDynamique.call(this)){if(this._options.delaiSurEditionRecherche>=0){this._timerEditionRecherche=setTimeout(function(){this.cache.surDemandeSaisieRechercheTout=false;this._options.surEditionRecherche(lValue,_callbackRecherche.bind(this));}.bind(this),this._options.delaiSurEditionRecherche);} else{this.cache.surDemandeSaisieRechercheTout=false;this._options.surEditionRecherche(lValue,_callbackRecherche.bind(this));}}}}
  function _chercherIndiceSelectionSelonSens(aIndice,aPrecedent,aEnBoucle,aMethodeSelec){if(!this.ListeElements||!this.ListeElements.GetNbrElements){return-1;}
  var lIndice=aIndice,lNbr=this.ListeElements.GetNbrElements();if(lIndice!==null&&lIndice!==undefined){while(lIndice<lNbr&&
  lIndice>=0&&(!_estSelectionnable.call(this,this.ListeElements.GetElement(lIndice))||(aMethodeSelec&&aMethodeSelec({element:this.ListeElements.GetElement(lIndice)})!==true))){lIndice+=aPrecedent?-1:1;}} else{lIndice= -1;}
  if(lIndice>=lNbr){lIndice= -1;}
  if(aEnBoucle&&lIndice=== -1){return _chercherIndiceSelectionSelonSens.call(this,aPrecedent?lNbr-1:0,aPrecedent,false,aMethodeSelec);}
  return lIndice;}
  function _boutonPrecSuivOK(aPrecedent){var lListe=this.ListeElements;if(!lListe||!lListe.GetElement){return false;}
  var lIndice=this.Selection,lEnBoucle=this._options.avecBoutonsPrecSuiv_boucle;if(lIndice=== -1){if(aPrecedent){lIndice=lEnBoucle?0:-1;} else{return lListe.GetNbrElements()>0;}}
  var lElement=lListe.GetElement(lIndice);if(!lElement){return false;}
  if(aPrecedent&&lListe.GetElement(_chercherIndiceSelectionSelonSens.call(this,lIndice-1,true,lEnBoucle,this._options.getElementSelectionnableParPrecSuiv))){return true;}
  if(!aPrecedent&&lListe.GetElement(_chercherIndiceSelectionSelonSens.call(this,lIndice+1,false,lEnBoucle,this._options.getElementSelectionnableParPrecSuiv))){return true;}
  return false;}
  function _parcourirFilsDeCumul(aIndice,aFunction){var lInfos=this._infosElementsCbs[aIndice];this.ListeElements.parcourir(function(D,aIndex){if(aIndice!==aIndex&&
  D.Visible!==false&&(!lInfos.estFilsCumul||lInfos.estFilsCumul(D))){aFunction.call(this,D,aIndex);}},this);}
  function _getSelectionElement(aInfos,aIndice){var lResult={selectionne:false,nbFils:0,nbFilsSelectionne:0};if(!aInfos.estCumul){lResult.selectionne=aInfos.selectionne;} else{_parcourirFilsDeCumul.call(this,aIndice,function(D,aIndex){lResult.nbFils+=1;var lInfosFils=this._infosElementsCbs[aIndex];if(lInfosFils&&lInfosFils.selectionne){lResult.nbFilsSelectionne+=1;}});lResult.selectionne=lResult.nbFilsSelectionne>0&&lResult.nbFilsSelectionne===lResult.nbFils;}
  return lResult;}
  function getValueElementCB(aIndice){var lInfos=this._infosElementsCbs?this._infosElementsCbs[aIndice]:null;if(lInfos){return _getSelectionElement.call(this,lInfos,aIndice).selectionne;}
  return false;}
  function _modifierSelectionElement(aIndice,aValue,aProfondeur){var lInfos=this._infosElementsCbs?this._infosElementsCbs[aIndice]:null
  ;if(lInfos){lInfos.selectionne=aValue;var lElementSource=this.ListeElements.GetElement(aIndice),lProfondeur=aProfondeur||0;if(lProfondeur>1){
  return;}
  this.ListeElements.parcourir(function(D,aIndex){var lInfosElement=this._infosElementsCbs?this._infosElementsCbs[aIndex]:null;if(aIndice!==aIndex&&
  D.Visible!==false&&
  lInfosElement&&
  !lInfosElement.estCumul&&
  lInfosElement.setModifierSelection){var lResult=lInfosElement.setModifierSelection({elementCourantSelectionne:lInfosElement.selectionne,elementSource:lElementSource,elementSourceSelectionne:aValue});if((lResult===true&&lInfosElement.selectionne!==true)||(lResult===false&&lInfosElement.selectionne!==false)){_modifierSelectionElement.call(this,aIndex,lResult,lProfondeur+1);}}},this);}}
  function _setValueElementCB(aIndice,aValue){var lInfos=this._infosElementsCbs?this._infosElementsCbs[aIndice]:null;if(lInfos){if(lInfos.estCumul){_parcourirFilsDeCumul.call(this,aIndice,function(D,aIndex){_modifierSelectionElement.call(this,aIndex,aValue);});} else{_modifierSelectionElement.call(this,aIndice,aValue);}}}
  function _surPrecedentSuivant(aPrecedent){var lIndice=this.Selection,lListe=this.ListeElements,lEnBoucle=this._options.avecBoutonsPrecSuiv_boucle,lMethodeSelec=this._options.getElementSelectionnableParPrecSuiv;if(this._options.multiSelection&&lListe){lListe.parcourir(function(D,aIndex){var lInfos=this._infosElementsCbs?this._infosElementsCbs[aIndex]:null;if(lInfos&&!lInfos.estCumul&&lInfos.selectionne){lIndice=aIndex;if(aPrecedent){return false;}}},this);}
  if(lIndice=== -1&&aPrecedent){lIndice=lEnBoucle?0:-1;}
  if(MethodesObjet.isNumber(lIndice)&&lListe&&lListe.GetElement){if(aPrecedent&&(lListe.GetElement(lIndice-1)||lEnBoucle)){lIndice=_chercherIndiceSelectionSelonSens.call(this,lIndice-1,true,lEnBoucle,lMethodeSelec);} else if(!aPrecedent&&(lListe.GetElement(lIndice+1)||lEnBoucle)){lIndice=_chercherIndiceSelectionSelonSens.call(this,lIndice+1,false,lEnBoucle,lMethodeSelec);}
  if(lIndice>=0){if(this._options.multiSelection){lListe.parcourir(function(D,aIndex){var lInfos=this._infosElementsCbs?this._infosElementsCbs[aIndex]:null;if(lInfos&&lInfos.selectionne){lInfos.selectionne=false;}},this);_setValueElementCB.call(this,lIndice,true);this.SurValidation(true,lIndice);} else{this.SurValidation(true,lIndice);}}}}
  ObjetSaisie.prototype.getControleur=function(aInstance){return{ifLibelleHaut:function(){return!!aInstance._options.libelleHaut;},htmlLibelleHaut:function(){return aInstance._options.libelleHaut;},getTitleHtml:function(aChaine){return aChaine;},getStyleListe:function(){return{width:_getLargeurListe.call(aInstance)+'px'};},btnSuivPrec:{event:function(aPrecedent){_surPrecedentSuivant.call(this.instance,aPrecedent);},getDisabled:function(aPrecedent){return!_boutonPrecSuivOK.call(this.instance,aPrecedent);},getStyle:function(aPrecedent){if(this.instance._options.avecBoutonsPrecSuivVisiblesInactifs){return;}
  return{visibility:_boutonPrecSuivOK.call(this.instance,aPrecedent)?'':'hidden'};}},getNodeContenu:function(){if(aInstance.cache.scrollInfiniActif){$(this.node).on('scroll',function(){if(aInstance.cache.surReinitScroll){return;}
  var lPosition=$('#'+aInstance.idContenuScroll.escapeJQ()).parent().position();_majBlocsDeTop.call(aInstance,lPosition.top);});}},getAttrWAIOption:function(aLigne){var lResult={};if(this.instance._options.multiSelection){lResult[GObjetWAI.getAttribut(EGenreAttribut.selected)]=''+(!!this.instance._listeSelections.GetElementParElement(this.instance.ListeElements?this.instance.ListeElements.GetElement(aLigne):null));} else{lResult[GObjetWAI.getAttribut(EGenreAttribut.selected)]=''+(this.instance.Selection===aLigne);}
  return lResult;},cbElement:{getValue:function(aIndice){return getValueElementCB.call(this.instance,aIndice);},setValue:function(aIndice,aValue){_setValueElementCB.call(this.instance,aIndice,aValue);},getIndeterminate:function(aIndice){var lInfos=this.instance._infosElementsCbs?this.instance._infosElementsCbs[aIndice]:null;if(lInfos){var lSelection=_getSelectionElement.call(this.instance,lInfos,aIndice);return lSelection.nbFilsSelectionne>0&&lSelection.nbFilsSelectionne<lSelection.nbFils;}
  return false;},getDisabled:function(aIndice){var lInfos=this.instance._infosElementsCbs?this.instance._infosElementsCbs[aIndice]:null;if(lInfos){return lInfos.nonEditable;}
  return false;}},getNodeCBMulti:function(){$(this.node).on({'mouseup touchend pointerup':function(event){if(event.type==='pointerup'&&event.originalEvent.pointerType!=='touch'){return;}
  var lNode=_getNodeOrigineTouchend(event);if(lNode&&lNode!==this){return;}
  var lPositionFin=_getPositionTouchend(event);if(aInstance.positionTouchStart){var lEstScrolle=!!lPositionFin&&(Math.abs(lPositionFin.x-aInstance.positionTouchStart.x)>aInstance._options.hauteurLigneTactile||Math.abs(lPositionFin.y-aInstance.positionTouchStart.y)>aInstance._options.hauteurLigneTactile);aInstance.positionTouchStart=false;if(lEstScrolle){aInstance.lastTouchEndScroll=new Date().getTime();return;}}
  if(aInstance.modeTactile&&event.type==='mouseup'&&new Date().getTime()-aInstance.lastTouchEndScroll<500){return;}},'mouseenter mouseleave':function(event){if(event.type==='mouseenter'){_selectionLigne.call(aInstance,aInstance.Survolee,false);aInstance.Survolee= -1;}}});},btnValidationCB:{event:function(aEvent){aEvent.stopPropagation();this.instance.SurValidation(true,-1,{validationMultiSelection:true});},getNode:function(){$(this.node).on({mouseover:function(){_survolBoutonMultiSelection.call(aInstance);},focusin:function(){_arreterFermetureListe.call(aInstance);},focusout:function(){_declencherFermetureListe.call(aInstance);}});}}};};ObjetSaisie.prototype.SetParametres=function(AMode,ALongueur,AAvecBouton,aAvecStyleSite,aControlerNbrElements,aHauteur,aClassTexte){this.setOptions_ObjetSaisie({mode:AMode,longueur:ALongueur===null||ALongueur===undefined?undefined:ALongueur,hauteur:aHauteur,avecBouton:AAvecBouton===null||AAvecBouton===undefined?undefined:AAvecBouton,controlerNbrElements:aControlerNbrElements,classTexte:aClassTexte});GLog.addLog('ObjetSaisie.prototype.SetParametres deprecated!',null,GLog.genre.Avertissement);};ObjetSaisie.prototype.setLabel=function(aTexte,aClass,aStyle){this._options.texteEdit=aTexte;$.extend(this._options,{classTexteEdit:aClass?aClass:undefined,styleTexteEdit:aStyle?aStyle:undefined});var lElementLabel=GHtml.getElement(this.NomLabel);if(GHtml.estElement(lElementLabel)){GHtml.setHtml(lElementLabel,GChaine.Insecable(this._options.texteEdit)+'&nbsp;');if(this._options.classTexteEdit){GHtml.setClass(lElementLabel,this._options.classTexteReference+' '+this._options.classTexteEdit);}
  if(this._options.styleTexteEdit){GStyle.setStyle(lElementLabel,this._options.styleTexteEdit);}}};ObjetSaisie.prototype.setWithTabulation=function(aValeur){this.withTabulation=aValeur;this.bouton.setWithTabulation(aValeur);};ObjetSaisie.prototype.RecupererDonnees=function(){this.bouton.Initialiser();};function _getLargeurListe(){return this.modeTactile?(window.innerWidth||document.body.offsetWidth)/2:this._options.largeurListe?this._options.largeurListe:$.isNumeric(this.cache.largeurCellule)?this.cache.largeurCellule+this.largeurBouton+1:$('#'+this.bouton.GetNom().escapeJQ()).width();}
  ObjetSaisie.prototype.ConstruireAffichage=function(){$('#'+this.idContenu.escapeJQ()).stop(true,true);var H='';H+='<div ie-if="ifLibelleHaut" ie-html="htmlLibelleHaut" class="LibelleHaut"></div>';H+='<table class="ObjetSaisie" '+GObjetWAI.composeRole(EGenreRole.Presentation)+' style="'+GStyle.composeCouleurTexte(GCouleur.noir)+(this._options.longueur==='100%'?'width:100%;':'')+'" border="0" cellspacing="0" cellpadding="0">';H+='<tr>';var LFor=(this._options.labelWAIZone||MethodesTableau.existe(this._options.mode,[EGenreSaisie.Combo]))?'':'for="'+this.bouton.NomEdit+'"';if(this._options.texteEdit){var lLineHeight=(this._options.hauteur||18)+2;H+='<td style="line-height:'+lLineHeight+'px;">';if(this._options.largeurTexteEdit){H+='<div style="'+GStyle.composeWidth(this._options.largeurTexteEdit)+'">';}
  var lStyleTextEdit=this._options.couleurTexteEdit?'style="'+GStyle.composeCouleurTexte(this._options.couleurTexteEdit)+'"':this._options.styleTexteEdit?'style="'+this._options.styleTexteEdit+'"':'';H+='<label id="'+this.NomLabel+'" class="'+this._options.classTexteReference+' '+((this._options.classTexteEdit!==null&&this._options.classTexteEdit!==undefined)?this._options.classTexteEdit:' Gras')+'" '+LFor+' '+lStyleTextEdit+'>'+GChaine.Insecable(this._options.texteEdit)+'&nbsp;</label>';if(this._options.largeurTexteEdit){H+='</div>';}
  H+='</td>';}
  if(this._options.avecBoutonsPrecSuiv){H+='<td>';H+='<ie-btnimage class="Image_PassageAuPrecedentPourBandeau" ie-model="btnSuivPrec(true)" ie-style="getStyle" title="'+GChaine.toTitle(GTraductions.getValeur('Precedent'))+'"></ie-btnImage>';H+='</td>';}
  H+='<td>';H+='<div id="'+this.idWrapperBouton+'" style="'+(this.modeTactile?'':'position:relative;')+'">';H+='<div id="'+this.bouton.GetNom()+'" style="width:auto;"></div>';H+='<div '+GObjetWAI.composeRole(this._options.roleWAIList)+' '+GObjetWAI.composeAttribut({genre:EGenreAttribut.labelledby,valeur:this.bouton.NomEdit})+' '+(this._options.multiSelection?GObjetWAI.composeAttribut({genre:EGenreAttribut.multiselectable,valeur:'true'}):'')+' id="'+this.NomListe+'"'+' class="os_MenuDeroulant" tabIndex="-1"'+' ie-style="getStyleListe"'+' style="display:none;"></div>';H+='</div>';H+='</td>';if(this._options.avecBoutonsPrecSuiv){H+='<td>';H+='<ie-btnimage class="Image_PassageAuSuivantPourBandeau" ie-model="btnSuivPrec(false)" ie-style="getStyle" title="'+GChaine.toTitle(GTraductions.getValeur('Suivant'))+'"></ie-btnImage>';H+='</td>';}
  H+='</tr>';H+='</table>';return H;};function _surEvenementBouton(aGenreEvent,aEvent,aEvenementSurEdit){switch(aGenreEvent){case EEvent.SurMouseDown:if(aEvenementSurEdit){if(MethodesTableau.existe(this._options.mode,[EGenreSaisie.Combo])){this.SurSelection();}} else{this.SurSelection({surBoutonCellule:true});}
  break;case EEvent.SurKeyDown:if(MethodesTableau.existe(this._options.mode,[EGenreSaisie.Combo])&&(GNavigateur.IsToucheFlecheBas()||GNavigateur.IsToucheFlecheHaut())){this.SurSelection();}
  break;case EEvent.SurKeyUp:switch(this._options.mode){case EGenreSaisie.SaisieRecherche:if(!this.listeDeroulee&&
  GNavigateur.IsToucheFlecheBas()&&
  this.ListeElements&&this.ListeElements.GetNbrElements()>0){_deroulerListe.call(this,0 ,true);} else{_defilerFleches.call(this);}
  if(GNavigateur.IsToucheRetourChariot()){if(this.listeDeroulee&&this.ListeElements&&this.ListeElements.GetNbrElements()){this.SurValidation(true,this.Selection>=0?this.Selection:0);} else if(this.ListeElements&&this.ListeElements.GetNbrElements()&&!this.ActualiserListe){if(this.getNbElementsVisible()>1){_deroulerListe.call(this,false,true);} else{_gererCasUnSeulElement.call(this);}} else{this.SurValidation(false,-1,{saisieRecherche:true});}}
  return;}
  if(GNavigateur.IsToucheRetourChariot()){this.SurSelection();}
  break;case EEvent.SurFocusOut:switch(this._options.mode){case EGenreSaisie.SaisieRecherche:if(_avecSaisieRechercheDynamique.call(this)){_declencherFermetureListe.call(this);}
  break;}
  break;}}
  ObjetSaisie.prototype.SetSelection=function(ASelection){var lIndice=_chercherIndiceSelectionSelonSens.call(this,ASelection,false);if(lIndice>=0){if(this._options.multiSelection){_selectionnerUnElementEnMultiSelection.call(this,lIndice);}
  this.SurValidation(false,lIndice);}};ObjetSaisie.prototype.SurSelection=function(aParams){if(this.ListeElements&&this.ListeElements.GetNbrElements()&&!this.ActualiserListe){_deroulerListe.call(this);} else{this.SurValidation(false,undefined,aParams);}};ObjetSaisie.prototype.DeroulerListe=function(){_deroulerListe.call(this);};function _appliquerGetContenuCellule(aElement){var lContenuCellule=this._options.getContenuCellule(aElement,this);if(lContenuCellule&&lContenuCellule.libelleHtml){if(MethodesObjet.isString(lContenuCellule.libelleHtml)){this.bouton.setLibelleHtml(lContenuCellule.libelleHtml);}} else{var lLibelle=lContenuCellule&&lContenuCellule.libelle?lContenuCellule.libelle:lContenuCellule;if(lLibelle&&MethodesObjet.isString(lLibelle)){this.SetContenu(lContenuCellule&&lContenuCellule.libelle?lContenuCellule.libelle:lContenuCellule);}}}
  ObjetSaisie.prototype.SurValidation=function(aInteractionUtilisateur,ASelection,aParams){this.InteractionUtilisateur=aInteractionUtilisateur;this.cache.surDemandeSaisieRechercheTout=false;var lParams=Object.assign({saisieRecherche:false,validationMultiSelection:false,surBoutonCellule:false},aParams);var lEstMultiSelection=this._options.multiSelection;if(this.ListeElements===null||
  this.ListeElements===undefined||
  lEstMultiSelection||
  !this.ListeElements.GetElement(ASelection)||
  _estSelectionnable.call(this,this.ListeElements.GetElement(ASelection))){this.Selection=ASelection;this.FermerListe(true);this.$refreshSelf();clearTimeout(this._timerEditionRecherche);var LValeur;var lEditionEnCours=this.cache.editionEnCours;this.cache.editionEnCours=false;if(lEstMultiSelection){if(!this._listeSelections){this._listeSelections=new ObjetListeElements();}
  this._listeSelections.vider();var lListeIndices=[];if(this.ListeElements){this.ListeElements.parcourir(function(D,aIndex){var lInfos=this._infosElementsCbs?this._infosElementsCbs[aIndex]:null;if(lInfos&&ASelection===aIndex&&lInfos.estCumul){this.Selection= -1;}
  if(lInfos&&!lInfos.estCumul&&lInfos.selectionne){this._listeSelections.AddElement(D);lListeIndices.push(aIndex);}}.bind(this));}
  var lMAJContenu=lParams.validationMultiSelection||this.Selection>=0||this._listeSelections.GetNbrElements()>0;if(lParams.surBoutonCellule&&this._options.mode===EGenreSaisie.SaisieRecherche&&!lEditionEnCours){LValeur='';lMAJContenu=false;this.cache.surDemandeSaisieRechercheTout=true;} else if(lParams.saisieRecherche||lEditionEnCours||(this._options.mode===EGenreSaisie.SaisieRecherche&&this._listeSelections.GetNbrElements()===0&&!lParams.validationMultiSelection)){LValeur=this.GetContenu();} else{LValeur=this._options.getLibelleCelluleMultiSelection(this._listeSelections);}
  if(this._options.modifierContenuCelluleSurSelection&&lMAJContenu){this.SetContenu(LValeur);}
  $('#'+this.NomListe.escapeJQ()+', #'+this.bouton.NomEdit.escapeJQ()).attr(GObjetWAI.getAttribut(EGenreAttribut.activedescendant),this.Nom+'_'+lListeIndices.join(','+this.Nom+'_'));$('#'+this.bouton.NomEdit.escapeJQ()).attr(GObjetWAI.getAttribut(EGenreAttribut.labelledby),this.Nom+'_'+lListeIndices.join(','+this.Nom+'_'));} else if(ASelection>=0){var lElement=this.ListeElements.GetElement(this.Selection);LValeur=lElement?lElement.GetLibelle():'';if(this._options.modifierContenuCelluleSurSelection){if(this._options.getContenuCellule){_appliquerGetContenuCellule.call(this,lElement);} else if(this._options.celluleAvecTexteHtml&&lElement&&lElement.libelleHtml){this.bouton.setLibelleHtml(lElement.libelleHtml);} else{this.SetContenu(LValeur);}
  $('#'+this.NomListe.escapeJQ()+', #'+this.bouton.NomEdit.escapeJQ()).attr(GObjetWAI.getAttribut(EGenreAttribut.activedescendant),this.Nom+'_'+ASelection);$('#'+this.bouton.NomEdit.escapeJQ()).attr(GObjetWAI.getAttribut(EGenreAttribut.labelledby),this.Nom+'_'+ASelection);}} else{if(lParams.surBoutonCellule&&this._options.mode===EGenreSaisie.SaisieRecherche&&!lEditionEnCours){LValeur='';this.cache.surDemandeSaisieRechercheTout=true;} else{LValeur=MethodesTableau.existe(this._options.mode,[EGenreSaisie.Combo])?'*':this.GetContenu();}}
  if((ASelection>=0||lEstMultiSelection)&&this.ControleNavigation&&ControleSaisieEvenement){ControleSaisieEvenement(_retourSurNavigation.bind(this,Object.assign({valeur:LValeur,retourSaisieAnnule:true},lParams)));} else{_retourSurNavigation.call(this,Object.assign({valeur:LValeur,retourSaisieAnnule:false},lParams));}}};function _retourSurNavigation(aParams){if(aParams.retourSaisieAnnule){this.SetEtatSaisie(false);}
  var lSurSetDonnes=this._surSetDonnnes;var lParams=Object.assign({combo:this,genreEvenement:EGenreEvenementObjetSaisie.selection,element:this.Selection>=0?this.ListeElements.GetElement(this.Selection):null,indice:Math.max(this.Selection||0,0),genre:this.Genre,surSetDonnees:lSurSetDonnes,listeSelections:this._listeSelections,estComboMultiSelection:this._options.multiSelection,interactionUtilisateur:this.InteractionUtilisateur,editionEnCours:this.cache.editionEnCours},aParams);delete this._surSetDonnnes;this.callback.appel(EGenreEvenementObjetSaisie.selection,this.Selection>=0?this.ListeElements.GetElement(this.Selection):null,Math.max(this.Selection||0,0),this.Genre,aParams.valeur,lSurSetDonnes,this._listeSelections,lParams);if(this._options.surValidation){this._options.surValidation.call(this.Pere,lParams);}
  if(this.Pere&&this.Pere.$refreshSelf){this.Pere.$refreshSelf();}
  if(this._options.mode===EGenreSaisie.SaisieRecherche){this.ListeElements=new ObjetListeElements();}}
  function _survolBoutonMultiSelection(){_selectionLigne.call(this,this.Survolee,false);this.Survolee+=1;}
  function _defilerFleches(){if(this.listeDeroulee){if(GNavigateur.IsToucheFlecheBas()){if(_chercherSuivantSelectionnable.bind(this)(this.Survolee,true)<this.getNbElementsVisible()){this.SurLigne(_chercherSuivantSelectionnable.bind(this)(this.Survolee,true));return true;}
  if(this._options.multiSelection&&this.Survolee<this.getNbElementsVisible()){_survolBoutonMultiSelection.call(this);GHtml.setFocus(this.idBtnValidation,true);return true;}}
  if(GNavigateur.IsToucheFlecheHaut()){if(_chercherSuivantSelectionnable.bind(this)(this.Survolee,false)> -1){this.SurLigne(_chercherSuivantSelectionnable.bind(this)(this.Survolee,false));} else{this.FermerListe(true);}
  return true;}}
  return false;}
  function _defiler(aIgnorerFleches){if(!this.listeDeroulee&&(MethodesTableau.existe(this._options.mode,[EGenreSaisie.Combo]))){if(GNavigateur.IsToucheRetourChariot()||GNavigateur.IsToucheFlecheBas()){_deroulerListe.call(this);}}
  if(this.listeDeroulee){if(GNavigateur.IsToucheRetourChariot()||GNavigateur.IsToucheEspace()){if(this._options.multiSelection){_setValueElementCB.call(this,this.Survolee,!getValueElementCB.call(this,this.Survolee));this.$refreshSelf();} else{this.SurValidation(true,this.Survolee);}} else if(GNavigateur.IsToucheEchap()){this.FermerListe(true);} else if(!(!aIgnorerFleches&&_defilerFleches.call(this))&&GNavigateur.estCaractereAlphaNumerique()){clearTimeout(this._timerInitParseur);this._timerInitParseur=setTimeout(_initParseur.bind(this),500);this._parseur=this._parseur+GNavigateur.CaractereTouche;var lIndice=this.ListeElements.GetIndiceParParsingLibelle(this._parseur);if(lIndice>=0){this.SurLigne(lIndice);}}}}
  function _initParseur(){this._parseur='';}
  function _chercherSuivantSelectionnable(aIndice,aSensSuivant){var lSens=aSensSuivant?1:-1;aIndice=aIndice+lSens;var N=this.ListeElements.GetNbrElements();while((aIndice> -1)&&(aIndice<N)&&this.ListeElements&&this.ListeElements.GetElement(aIndice)&&!_estSelectionnable.call(this,this.ListeElements.GetElement(aIndice))){aIndice+=lSens;}
  return aIndice;}
  function _initInfosElementsCBs(aNumeroLigne){var lElement=this.ListeElements.GetElement(aNumeroLigne);this._infosElementsCbs[aNumeroLigne]={selectionne:!!this._listeSelections.GetElementParElement(lElement),avecCB:true,nonEditable:false,estCumul:false,estFilsCumul:null,setModifierSelection:null};if(this._options.getInfosElementCB&&lElement){$.extend(this._infosElementsCbs[aNumeroLigne],this._options.getInfosElementCB(lElement));}}
  function _composeLigne(aElement,I){var T=[],lWidthCB=15+3;var LLibelle=aElement.GetLibelle();var lParams={element:aElement,indice:I};var lPaddingLeft=3+(this._options.getPaddingLeftElement?this._options.getPaddingLeftElement(lParams)||0:0);lParams.largeur=this.cache.largeurContenu-lPaddingLeft;var lCouleurFond=this._options.getCouleurFondElement?this._options.getCouleurFondElement(lParams):null;var lClassElement=this._options.getClassElement?this._options.getClassElement(lParams):'';var lLibelleTitle=!aElement.libelleHtmlTitle&&!this._options.getContenuElement&&GChaine.GetLongueurChaine(LLibelle,10,true,null)>=lParams.largeur?LLibelle:(aElement.libelleHtmlTitle&&aElement.libelleHtmlTitle!==''?aElement.libelleHtmlTitle:'');if(this.cache.avecSurlignage&&this.cache.recherchesSurlignage&&!aElement.libelleHtml&&!this._options.getContenuElement){LLibelle=GChaine.getLibelleSurligne(LLibelle,this.cache.recherchesSurlignage,{couleur:this._options.couleurSurlignageSuggestion});} else{LLibelle=GChaine.Insecable(LLibelle);}
  LLibelle=GChaine.AvecEspaceSiVide(LLibelle);if(aElement.ClassAffichage||aElement.StyleAffichage){LLibelle='<div '+(aElement.ClassAffichage?'class="'+aElement.ClassAffichage+'" ':'')+(aElement.StyleAffichage?'style="'+aElement.StyleAffichage+'"':'')+'>'+LLibelle+'</div>';}
  var lLineHeight=(this.modeTactile?this._options.hauteurLigneTactile:this._options.hauteur?this._options.hauteur:this._options.hauteurLigneDefault);if(this.cache.avecCBMultiSelection){T.push('<div class="NoWrap">');T.push('<div',GHtml.composeAttr('ie-node','getNodeCBMulti',[I]),' class="InlineBlock AlignementMilieuVertical"',' style="padding-left:'+(lPaddingLeft||0)+'px;','">','<ie-checkbox ie-model="cbElement(',I,')" class="AlignementMilieuVertical" style="margin-bottom:1px;"></ie-checkbox>','<div class="InlineBlock AlignementMilieuVertical" style="width:0;',GStyle.composeHeight(lLineHeight),'"></div>','</div>');}
  var lPaddingLeftLibelle=this.cache.avecCBMultiSelection?1:(lPaddingLeft||0);T.push('<div id="'+this.Nom+'_'+I+'" '+GObjetWAI.composeRole(EGenreRole.Option),' ie-attr="getAttrWAIOption(',I,')"',lLibelleTitle?aElement.libelleHtmlTitle?' ie-hint="'+GChaine.toTitle(lLibelleTitle)+'" ':' title="'+GChaine.toTitle(lLibelleTitle)+'" ':'','class="',(this.cache.avecCBMultiSelection?'InlineBlock AlignementMilieuVertical ':''),'PetitEspaceDroit ',lClasseJQ,(lClassElement?' '+lClassElement:''),'" '+'style="line-height:'+lLineHeight+'px; outline:none;overflow: hidden;'+'padding-left:'+lPaddingLeftLibelle+'px;',(lCouleurFond?GStyle.composeCouleurFond(lCouleurFond):''),(this._options.avecTextOverflowEllipsis?'text-overflow:ellipsis;':''),GStyle.composeWidth(this.cache.largeurContenu-lPaddingLeft-3-(this.cache.avecCBMultiSelection?lWidthCB-2:0)-(this.modeTactile?1:0)),'" tabindex="-1">');if(aElement.libelleHtml||this._options.getContenuElement){var lContenu=this._options.getContenuElement?this._options.getContenuElement(lParams):aElement.libelleHtml;if(this.modeTactile){T.push('<div class="InlineBlock" style="height:100%;width:0;">&nbsp;</div><div class="InlineBlock" style="line-height:initial; width:100%;">');}
  T.push(lContenu+(this.modeTactile?'</div>':''));} else{T.push(LLibelle);}
  T.push('</div>');if(this.cache.avecCBMultiSelection){T.push('</div>');}
  return T.join('');}
  function _composeBloc(aBloc,aNumeroBloc){var T=[];if(aBloc&&aBloc.lignesVisibles){aBloc.dessine=true;aBloc.calcule=false;aBloc.top=0;aBloc.height=0;if(this.cache.scrollInfiniActif){T.push('<div id="',this.idBloc+aNumeroBloc,'" style="position:absolute;top:-1000px">');}
  aBloc.lignesVisibles.forEach(function(aNumeroLigne){T.push(_composeLigne.call(this,this.ListeElements.GetElement(aNumeroLigne),aNumeroLigne));}.bind(this));if(this.cache.scrollInfiniActif){T.push('</div>');}}
  return T.join('');}
  function _majBlocsTacheFond(){clearTimeout(this.cache.timerMAJ);if(!this.listeDeroulee){return;}
  if(this.cache.toutCalcule){return;}
  var lNumeroACalculer=0;var lToutCalcule=this.cache.blocs.every(function(aBloc,aNumeroBloc){if(!aBloc.calcule){lNumeroACalculer=aNumeroBloc;}
  return!!aBloc.calcule;});if(lNumeroACalculer>0){this.cache.timerMAJ=setTimeout(function(aNumeroBloc){var lBloc=this.cache.blocs[aNumeroBloc];var lASupprimer=!lBloc.dessine;_majBloc.call(this,aNumeroBloc);if(lASupprimer){$('#'+(this.idBloc+aNumeroBloc).escapeJQ()).remove();lBloc.dessine=false;}
  _majBlocsTacheFond.call(this);}.bind(this,lNumeroACalculer),0);}
  if(!this.cache.toutCalcule&&lToutCalcule){this.cache.toutCalcule=true;if(this._options.callbackToutCalcule){this._options.callbackToutCalcule();}
  var lDernierBloc=this.cache.blocs[this.cache.blocs.length-1];var lHeightScroll=lDernierBloc.top+lDernierBloc.height;if(lHeightScroll!==this.cache.heightScroll){this.cache.heightScroll=lHeightScroll;$('#'+this.idContenuScroll.escapeJQ()).height(lHeightScroll);var lContenuJspAPI=$('#'+this.idContenu.escapeJQ()).data('jsp');if(lContenuJspAPI){this.cache.surReinitScroll=true;try{lContenuJspAPI.reinitialise();} finally{this.cache.surReinitScroll=false;}}}}}
  function _majBloc(aNumeroBloc,aSurFermeture){if(!aSurFermeture){var lBlocPrecedent=this.cache.blocs[aNumeroBloc-1];if(lBlocPrecedent&&!lBlocPrecedent.calcule){_majBloc.call(this,aNumeroBloc-1);}}
  var lBloc=this.cache.blocs[aNumeroBloc];if(!lBloc.dessine){lBloc.dessine=true;GHtml.addHtml(this.idContenuScroll,_composeBloc.call(this,lBloc,aNumeroBloc),{controleur:this.controleur,ignorerScroll:true});}
  if(!lBloc.calcule&&!aSurFermeture){var lJBloc=$('#'+(this.idBloc+aNumeroBloc).escapeJQ());lBloc.height=lJBloc.height();lBloc.top=aNumeroBloc===0?0:this.cache.blocs[aNumeroBloc-1].top+this.cache.blocs[aNumeroBloc-1].height;lBloc.calcule=true;lJBloc.css('top',lBloc.top);}}
  function _visibiliteSurNumeroBloc(aNumeroBlocVisible,aSurFermeture){this.cache.blocs.forEach(function(aBloc,aNumeroBloc){var lVisible=aSurFermeture?aNumeroBloc===aNumeroBlocVisible:aNumeroBloc<=aNumeroBlocVisible+this._options.nbBlocsScrollInfini&&aNumeroBloc>=aNumeroBlocVisible-this._options.nbBlocsScrollInfini;var lSurvolSurBloc=aBloc.debut<=this.Survolee&&aBloc.fin>=this.Survolee;if(lVisible){var lEstDejaDessine=aBloc.dessine;_majBloc.call(this,aNumeroBloc,aSurFermeture);if(!lEstDejaDessine&&lSurvolSurBloc){_selectionLigne.call(this,this.Survolee,true);GHtml.setFocus(this.Nom+'_'+this.Survolee);}} else{if(aBloc.dessine){$('#'+(this.idBloc+aNumeroBloc).escapeJQ()).remove();}
  aBloc.dessine=false;if(lSurvolSurBloc){GHtml.setFocus(this.idContenu);}}}.bind(this));}
  function _majBlocsDeLigne(aLigne,aSurFermeture){if(!this.cache.scrollInfiniActif){return;}
  var lNumeroBloc=0;this.cache.blocs.every(function(aBloc,aNumeroBloc){lNumeroBloc=aNumeroBloc;return aLigne>=0&&(aLigne<aBloc.debut||aLigne>aBloc.fin);});_visibiliteSurNumeroBloc.call(this,lNumeroBloc,aSurFermeture);if(!aSurFermeture){_majBlocsTacheFond.call(this);}}
  function _majBlocsDeTop(aTop){if(!this.cache.scrollInfiniActif){return;}
  var lNumeroBlocVisible=0,lTrouve=false,lDernierBlocCalcule=0;this.cache.blocs.every(function(aBloc,aNumeroBloc){if(aBloc.calcule){lDernierBlocCalcule=aNumeroBloc;}
  return!!aBloc.calcule;});this.cache.blocs.every(function(aBloc,aNumeroBloc){if(aBloc.calcule&&
  aBloc.top<= -aTop&&(aBloc.top+aBloc.height)> -aTop){lNumeroBlocVisible=aNumeroBloc;lTrouve=true;}
  return!lTrouve;});if(!lTrouve){if(lDernierBlocCalcule>=0){_majBloc.call(this,lDernierBlocCalcule+1);_majBlocsDeTop.call(this,aTop);}
  return;}
  _visibiliteSurNumeroBloc.call(this,lNumeroBlocVisible);_majBlocsTacheFond.call(this);}
  ObjetSaisie.prototype._remplirListe=function(){var lHeightScroll=this.cache.heightScroll;this.cache={scrollInfiniActif:false,blocs:[],nbVisibles:0,toutCalcule:false,heightScroll:lHeightScroll,largeurCellule:this._options.longueur,editionEnCours:false,surDemandeSaisieRechercheTout:this.cache.surDemandeSaisieRechercheTout};if(!this.ListeElements){if(this._options.multiSelection){this._infosElementsCbs={};}
  return;}
  _trierElements.call(this);var lBlocs={debut:0,fin:0,lignesVisibles:[]},lNb=0;var lTailleMaxLibelle=0;this.cache.blocs.push(lBlocs);this.ListeElements.parcourir(function(aElement,aIndex){if(lNb>=this._options.nbrLignes){lBlocs={debut:aIndex,fin:aIndex,lignesVisibles:[]};this.cache.blocs.push(lBlocs);lNb=0;}
  lBlocs.debut=Math.min(lBlocs.debut,aIndex);lBlocs.fin=Math.max(lBlocs.debut,aIndex);if(aElement.Existe()&&aElement.Visible!==false){lNb+=1;lBlocs.lignesVisibles.push(aIndex);this.cache.nbVisibles+=1;if(this._options.estLargeurAuto&&MethodesObjet.isFunction(this._options.getTailleElementlargeurAuto)){lTailleMaxLibelle=Math.max(lTailleMaxLibelle,this._options.getTailleElementlargeurAuto(aElement,this._options.classTexte==='Gras'));}}}.bind(this));if(this._options.estLargeurAuto&&lTailleMaxLibelle){this.cache.largeurCellule=Math.min(Math.max(lTailleMaxLibelle,this._options.largeurAutoMin),this._options.largeurAutoMax);this.bouton.setLargeur(this.cache.largeurCellule+this.largeurBouton);}
  this.cache.scrollInfiniActif=!this._options.desactiverScrollInfini&&
  this.cache.blocs.length>(2*this._options.nbBlocsScrollInfini+2)&&
  this.cache.nbVisibles>100;this.cache.avecCBMultiSelection=false;if(this._options.multiSelection){if(!this._infosElementsCbs){this._infosElementsCbs={};}
  this.ListeElements.parcourir(function(aElement,aIndex){if(aElement.Existe()&&aElement.Visible!==false){_initInfosElementsCBs.call(this,aIndex);this.cache.avecCBMultiSelection=this._infosElementsCbs[aIndex].avecCB;}}.bind(this));}
  if(this.cache.nbVisibles===0){return;}
  var N=this.ListeElements.GetNbrElements();if($('#'+this.Nom.escapeJQ()).length===0){return;}
  var lHeightEcran=GNavigateur.EcranH;var lEtaitModeTactile=this.modeTactile;this.modeTactile=this.modeTactile&&$('#'+this.NomListe.escapeJQ()).parents().filter(function(){return $(this).css('overflow')!=='visible';}).length===1;var lLargeurListe=_getLargeurListe.call(this),I,lElement,lCompteurLigne=0,lNumeroDerniereLigne=0,lNumeroLigneReference= -1,lHeightBoutonTactile=36,lEstMultiSelection=this._options.multiSelection,lAvecScroll=false;this.cache.recherchesSurlignage=null;this.cache.avecSurlignage=this._options.avecSurlignageSuggestion&&this._options.mode===EGenreSaisie.SaisieRecherche;if(lEtaitModeTactile&&!this.modeTactile){$('#'+this.idWrapperBouton.escapeJQ()).css('position','relative');$('#'+this.NomListe.escapeJQ()).css('width',lLargeurListe);}
  if(lEstMultiSelection&&!this._infosElementsCbs){this._infosElementsCbs={};}
  if(this.cache.avecSurlignage&&!this.cache.surDemandeSaisieRechercheTout){var lRecherche=this.bouton.getLibelle().trim();if(lRecherche&&lRecherche.length>0&&(!this._options.rechercheTout||!MethodesTableau.existe(lRecherche,this._options.rechercheTout))){this.cache.recherchesSurlignage=lRecherche.split(' ');}}
  if(N<2&&!this._options.accepterUnElement&&this._options.mode!==EGenreSaisie.SaisieRecherche){if(N===1&&lEstMultiSelection&&this._infosElementsCbs){_initInfosElementsCBs.call(this,0);}
  return;}
  var T=[];T.push('<div  class="',this._options.classTexteReference,' AvecMain FondBlanc"',' style="',GStyle.composeCouleurBordure(GCouleur.bordure),GStyle.composeBoxShadow(),this._options.couleurFondDeroulant?GStyle.composeCouleurFond(this._options.couleurFondDeroulant):'','">');lLargeurListe=lLargeurListe-2;T.push('<div id="'+this.idContenu+'" tabIndex="-1" ie-node="getNodeContenu"',' style="height:0px; overflow-y: auto; overflow-x: hidden;'+GStyle.composeWidth(lLargeurListe),'text-align:left;','"',' ',GObjetWAI.composeRole(EGenreRole.Presentation),'>');for(I=0;I<N;I++){lElement=this.ListeElements.GetElement(I);if(lElement.Existe()&&lElement.Visible!==false){lNumeroDerniereLigne=I;lCompteurLigne+=1;if(lCompteurLigne===this._options.nbrLignes){lNumeroLigneReference=I;}
  if(lCompteurLigne>this._options.nbrLignes){lAvecScroll=true;}}}
  this.cache.largeurContenu=lLargeurListe-(lAvecScroll||this._options.avecReservationPlaceBarreScroll?GNavigateur.GetLargeurBarreDeScroll()-2:0);T.push('<div id="',this.idContenuScroll,'" style="position:relative;">');if(this.cache.scrollInfiniActif){for(var i=0;i<=this._options.nbBlocsScrollInfini;i++){T.push(_composeBloc.call(this,this.cache.blocs[i],i));}} else{this.cache.blocs.forEach(function(aBloc,aIndex){T.push(_composeBloc.call(this,aBloc,aIndex));}.bind(this));}
  T.push('</div>');T.push('</div>');T.push('</div>');if(lEstMultiSelection){T.push('<div style="',GStyle.composeBoxShadow(),GStyle.composeWidth(lLargeurListe+2),'">');T.push('<ie-bouton ie-model="btnValidationCB" ie-node="getNode" class="'+TypeThemeBouton.primaire+'" id="',this.idBtnValidation,'"',' style="',GStyle.composeWidth(lLargeurListe+2),(this.modeTactile?GStyle.composeHeight(lHeightBoutonTactile):''),'">',GTraductions.getValeur('Valider'),'</ie-bouton>');T.push('</div>');}
  if(GHtml.elementExiste(this.NomListe)){GHtml.setDisplay(this.NomListe,true);GHtml.setHtml(this.NomListe,T.join(''),{controleur:this.controleur,ignorerScroll:true});if(this.cache.scrollInfiniActif){var lTop=0,lNbLignesVisibles=0,lAvecBlocInvisible=false;this.cache.blocs.forEach(function(aBloc,aNumeroBloc){if(aBloc.dessine){_majBloc.call(this,aNumeroBloc);lTop+=aBloc.height;lNbLignesVisibles+=aBloc.lignesVisibles.length;} else{lAvecBlocInvisible=true;}}.bind(this));if(!this.cache.heightScroll){this.cache.heightScroll=lTop;if(lAvecBlocInvisible){this.cache.heightScroll=lTop/lNbLignesVisibles*this.cache.nbVisibles;}}
  $('#'+this.idContenuScroll.escapeJQ()).height(this.cache.heightScroll);_majBlocsTacheFond.call(this);}
  var lEventMap={'focusin.saisie':_surFocusLigne,'focusout.saisie':_surBlurLigne,'touchstart.saisie pointerdown.saisie':function(event){var T=this.id.split('_');var lIndice=parseInt(T[T.length-1],10);event.data.instance.SurLigne(lIndice);if(event.type==='touchstart'&&event.originalEvent.changedTouches&&event.originalEvent.changedTouches[0]){event.data.instance.positionTouchStart={x:event.originalEvent.changedTouches[0].pageX,y:event.originalEvent.changedTouches[0].pageY};} else if(event.type==='pointerdown'){event.data.instance.positionTouchStart={x:event.originalEvent.pageX,y:event.originalEvent.pageY};}},'click.saisie':_surClickListe,'mousemove.saisie':_surMouseMoveListe};if(this.modeTactile){lEventMap['touchend.saisie']=_surClickListe;lEventMap['pointerup.saisie']=_surClickListe;}
  $('#'+this.Nom.escapeJQ()).off(lEventMap).on(lEventMap,'.'+lClasseJQ,{instance:this});var lEventMap2={focusin:_surFocusLigne,focusout:_surBlurLigne,keydown:_surKeyDownListe,keyup:_surKeyUpListe};$('#'+this.NomListe.escapeJQ()).off(lEventMap2).on(lEventMap2,{instance:this});}
  if(lNumeroLigneReference<0){lNumeroLigneReference=lNumeroDerniereLigne;}
  var lJLigne=$('#'+this.Nom.escapeJQ()+'_'+lNumeroLigneReference);if(lJLigne.length>0){this.hauteurContenu=lJLigne.position().top+lJLigne.outerHeight(true);} else{this.hauteurContenu=0;}
  if(lEstMultiSelection){this.hauteurContenu+=1;}
  this._ouvertureInverse=false;var lDecalageOmbre=1,lJBouton=$('#'+this.bouton.GetNom().escapeJQ()),lJelemOffset=lJBouton.offsetParent()||lJBouton,lHeightBouton=lJBouton.outerHeight(),lPositionBouton=lJBouton.position(),lTopAbsolueBouton=GPosition.getTop(this.bouton.GetNom()),lJListe=$('#'+this.NomListe.escapeJQ());var lMargeBordEcran=5;if(!lPositionBouton){lPositionBouton={top:0,left:0};}
  if(!this.modeTactile){if(lTopAbsolueBouton+lHeightBouton+this.hauteurContenu+lDecalageOmbre+lMargeBordEcran>lHeightEcran&&lTopAbsolueBouton-this.hauteurContenu>0){this._ouvertureInverse=true;} else{if(lJListe.length){lJListe.css({top:(lHeightBouton+lDecalageOmbre)+'px'});}
  this.hauteurContenu=Math.min(this.hauteurContenu,lHeightEcran-lTopAbsolueBouton-lHeightBouton-lDecalageOmbre-lMargeBordEcran);}
  var lLeft=lPositionBouton.left;if(this._options.largeurListe&&!this.modeTactile){var lLeftAbs=GPosition.getLeft(this.Nom);if(lLeftAbs+this._options.largeurListe>GNavigateur.ClientL){lLeft=Math.max(-lLeftAbs+2 ,GPosition.getWidth(this.Nom)-this._options.largeurListe-6);}}
  lJListe.css({left:lLeft});} else{this.hauteurContenu=Math.min(this.hauteurContenu,document.body.clientHeight-lDecalageOmbre-40-(lEstMultiSelection?lHeightBoutonTactile:0));if(lJListe.length){lJListe.css({top:-lJelemOffset.offset().top,left:-(lJelemOffset.get(0).offsetLeft||lJelemOffset.offset().left),width:GNavigateur.EcranL,height:GNavigateur.EcranH,backgroundColor:'rgba(0,0,0,0.25)'}).off('click').on('click',{instance:this},function(event){_declencherFermetureListe.call(event.data.instance,true);});}
  var lThis=this;lJListe.children('div').each(function(aIndex){var lTop=document.body.clientHeight/2-lThis.hauteurContenu/2+$(window).scrollTop()-(lEstMultiSelection?lHeightBoutonTactile/2:0),lEstBouton=lEstMultiSelection&&aIndex===1;if(lEstBouton){lTop+=lThis.hauteurContenu;}
  $(this).css({position:'absolute',top:lTop+'px',left:''+(((window.innerWidth||document.body.offsetWidth)/2)-(lLargeurListe/2)+window.pageXOffset)+'px'});if(lEstBouton){$(this).hide();} else if(lEstMultiSelection){$(this).click(function(event){event.stopPropagation();});}});}
  if(this.cache.largeurCellule===0){this.cache.largeurCellule=GHtml.getElement(this.NomListe).scrollWidth;this.bouton.setLargeur(this.cache.largeurCellule+this.largeurBouton);GPosition.setWidth(this.NomListe,this.cache.largeurCellule+this.largeurBouton);}
  GHtml.setDisplay(this.NomListe,false);};function _surFocusLigne(event){_arreterFermetureListe.call(event.data.instance);}
  function _surBlurLigne(event){_declencherFermetureListe.call(event.data.instance);}
  function _surKeyDownListe(event){_defilerFleches.bind(event.data.instance)();}
  function _surKeyUpListe(event){_defiler.bind(event.data.instance)(true);if(GNavigateur.IsToucheEchap()){GNavigateur.StopperEvenement(event);}}
  function _selectionnerUnElementEnMultiSelection(aIndice){if(this.ListeElements){this.ListeElements.parcourir(function(D,aIndex){var lInfos=this._infosElementsCbs?this._infosElementsCbs[aIndex]:null;if(lInfos&&lInfos.selectionne){lInfos.selectionne=false;}},this);}
  _setValueElementCB.call(this,aIndice,true);}
  function _getNodeOrigineTouchend(event){if(event.type==='touchend'&&event.originalEvent.changedTouches&&event.originalEvent.changedTouches[0]&&document.elementFromPoint){return document.elementFromPoint(event.originalEvent.changedTouches[0].pageX,event.originalEvent.changedTouches[0].pageY);} else if(event.type==='pointerup'&&document.elementFromPoint){return document.elementFromPoint(event.originalEvent.pageX,event.originalEvent.pageY);}
  return null;}
  function _getPositionTouchend(event){if(event.type==='touchend'&&event.originalEvent.changedTouches&&event.originalEvent.changedTouches[0]){return{x:event.originalEvent.changedTouches[0].pageX,y:event.originalEvent.changedTouches[0].pageY};} else if(event.type==='pointerup'){return{x:event.originalEvent.pageX,y:event.originalEvent.pageY};}
  return false;}
  function _surClickListe(event){var T=this.id.split('_'),lIndice=parseInt(T[T.length-1],10),lInstance=event.data.instance;if(event.type==='pointerup'&&event.originalEvent.pointerType!=='touch'){return;}
  var lNode=_getNodeOrigineTouchend(event);if(lNode&&lNode.id!==this.id){return;}
  var lPositionFin=_getPositionTouchend(event);if(lInstance.positionTouchStart){var lEstScrolle=!!lPositionFin&&(Math.abs(lPositionFin.x-lInstance.positionTouchStart.x)>lInstance._options.hauteurLigneTactile||Math.abs(lPositionFin.y-lInstance.positionTouchStart.y)>lInstance._options.hauteurLigneTactile);lInstance.positionTouchStart=false;if(lEstScrolle){lInstance.lastTouchEndScroll=new Date().getTime();return;}}
  if(this.modeTactile&&event.type==='click'&&new Date().getTime()-lInstance.lastTouchEndScroll<500){return;}
  if(lInstance._options.multiSelection){_selectionnerUnElementEnMultiSelection.call(lInstance,lIndice);}
  lInstance.SurValidation(true,lIndice);}
  function _surMouseMoveListe(event){var T=this.id.split('_');var lIndice=parseInt(T[T.length-1],10);event.data.instance.SurLigne(lIndice);_arreterFermetureListe.call(event.data.instance);}
  ObjetSaisie.prototype.getNbElementsVisible=function(){var lResult=0;for(var i=0;i<this.ListeElements.GetNbrElements();i++){var lElement=this.ListeElements.GetElement(i);if(lElement.Existe()&&lElement.Visible!==false){lResult++;}}
  return lResult;};function _deroulerListe(ASurvolee,aListeDejaRemplie,aSansFocusLigne){if(this.listeDeroulee){this.FermerListe();this.listeDeroulee=false;return;}
  if(this.callback.appel(EGenreEvenementObjetSaisie.deploiement,null,null,null,null,null,null,{combo:this,genreEvenement:EGenreEvenementObjetSaisie.deploiement})===false){if(this.Pere&&this.Pere.$refreshSelf){this.Pere.$refreshSelf();}
  return;}
  var lNbVisibles=this.getNbElementsVisible();if(lNbVisibles>1||(lNbVisibles>0&&this._options.mode===EGenreSaisie.SaisieRecherche)||(this._options.accepterUnElement&&lNbVisibles>0)){_arreterFermetureListe.call(this);if(_avecSaisieRechercheDynamique.call(this)){setTimeout(_arreterFermetureListe.bind(this),0);}
  if(!aListeDejaRemplie){this._remplirListe();}
  var lElementListe=GHtml.getElement(this.NomListe);var lElementContenuListe=GHtml.getElement(this.idContenu);GHtml.setDisplay(lElementListe,true);lElementContenuListe.style.overflowY='hidden';GStyle.setZindex(lElementListe,500);this.listeDeroulee=true;var lObjet=this;$(lElementContenuListe).css({height:0}).animate({height:lObjet.hauteurContenu+'px'},150);if(this._ouvertureInverse){$(lElementListe).css({top:-c_decalageTopOuvertureInverse}).animate({top:-(lObjet.hauteurContenu+c_decalageTopOuvertureInverse)+'px'},150);}
  $(lElementContenuListe).queue(function(){_eventAnimationOuvertureFin.call(lObjet,ASurvolee,aSansFocusLigne,aListeDejaRemplie);$(this).dequeue();});} else{_gererCasUnSeulElement.bind(this)();}}
  function _eventAnimationOuvertureFin(ASurvolee,aSansFocusLigne,aListeDejaRemplie){if(!aListeDejaRemplie){$('#'+this.idContenu.escapeJQ()).ieScrollPane({avecResize:false});}
  if(this.modeTactile){var lJListe=$('#'+this.NomListe.escapeJQ()),lJBouton=$('#'+this.bouton.GetNom().escapeJQ()),lJelemOffset=lJBouton.offsetParent()||lJBouton;lJListe.css({top:-lJelemOffset.offset().top,left:-(lJelemOffset.get(0).offsetLeft||lJelemOffset.offset().left),width:GNavigateur.EcranL,height:GNavigateur.EcranH});if(this._options.multiSelection){$('#'+this.idBtnValidation.escapeJQ()).parent().show();}}
  this.SurLigne(ASurvolee===null||ASurvolee===undefined?this.Selection===null||this.Selection===undefined?0:this.Selection:ASurvolee,aSansFocusLigne);}
  function _declencherFermetureListe(AAvecFocus){clearTimeout(this.Timer);this.Timer=setTimeout(this.FermerListe.bind(this,AAvecFocus),100);}
  function _arreterFermetureListe(){clearTimeout(this.Timer);this.Timer=null;}
  ObjetSaisie.prototype.FermerListe=function(AAvecFocus){if(this.Selection>=0){_majBlocsDeLigne.call(this,this.Selection,true);}
  if(this.listeDeroulee){_arreterFermetureListe.call(this);clearTimeout(this._timerEditionRecherche);_selectionLigne.bind(this)(this.Survolee,false);this.Survolee= -1;if(AAvecFocus){this.SetFocus();}
  this.listeDeroulee=false;var lElementListe=GHtml.getElement(this.NomListe);var lElementContenuListe=GHtml.getElement(this.idContenu);if(this._options.multiSelection&&this.modeTactile){$('#'+this.idBtnValidation.escapeJQ()).parent().hide();}
  if(GHtml.estElement(lElementListe)&&GHtml.estElement(lElementContenuListe)){lElementContenuListe.style.overflowY='hidden';GStyle.setZindex(lElementListe,200);var lObjet=this;if(this._ouvertureInverse){var lJElementListe=$(lElementListe);lJElementListe.css({top:-lObjet.hauteurContenu-c_decalageTopOuvertureInverse});$(lElementContenuListe).css({height:lObjet.hauteurContenu}).animate({height:0},{duration:150,step:_etapeFermetureInverse.bind(this,lJElementListe)});} else{$(lElementContenuListe).css({height:lObjet.hauteurContenu}).animate({height:0},150);}
  $(lElementContenuListe).queue(function(){_eventAnimationFermetureFin.bind(lObjet)();$(this).dequeue();});} else{_eventAnimationFermetureFin.bind(this)();}}};function _etapeFermetureInverse(aJElement ,aNow){aJElement.css({top:-aNow-c_decalageTopOuvertureInverse});}
  function _eventAnimationFermetureFin(){setTimeout(GHtml.setDisplay.bind(GHtml,this.NomListe,false),5);if(this._options.avecEventSurFermetureListe){this.callback.appel(EGenreEvenementObjetSaisie.fermeture,null,0,this.Genre,null,null,null,{combo:this,genreEvenement:EGenreEvenementObjetSaisie.fermeture});if(this.Pere&&this.Pere.$refreshSelf){this.Pere.$refreshSelf();}}}
  function _estSelectionnable(aElement){return!!aElement&&aElement.AvecSelection!==false&&(!this._options.getEstElementNonSelectionnable||this._options.getEstElementNonSelectionnable(aElement)!==true);}
  ObjetSaisie.prototype.SurLigne=function(ASurvolee,aSansFocusLigne){if(!this.listeDeroulee){return;}
  if(this.Survolee!==ASurvolee&&MethodesObjet.isNumber(ASurvolee)){_majBlocsDeLigne.call(this,ASurvolee);var N=this.ListeElements.GetNbrElements();if(_estSelectionnable.call(this,this.ListeElements.GetElement(ASurvolee))){if((this.Survolee> -1)&&(this.Survolee<N)){_selectionLigne.bind(this)(this.Survolee,false);}
  this.Survolee=ASurvolee;_selectionLigne.bind(this)(this.Survolee,true);}
  var lContenuJsp=$('#'+this.idContenu.escapeJQ());var lContenuJspAPI=lContenuJsp.data('jsp');var lContenuElement=$('#'+this.Nom.escapeJQ()+'_'+this.Survolee);if(lContenuJspAPI&&lContenuElement.length===1){if(this.Survolee===0){lContenuJspAPI.scrollToY(0);} else{lContenuJspAPI.scrollToElement(lContenuElement);}}
  if(aSansFocusLigne!==true){GHtml.setFocus(this.Nom+'_'+this.Survolee);}} else if(ASurvolee=== -1){if(aSansFocusLigne!==true){_majBlocsDeLigne.call(this,ASurvolee);GHtml.setFocus(this.NomListe);}}};function _selectionLigne(aLigne,aSelectionner){if((aLigne> -1)&&(aLigne<this.ListeElements.GetNbrElements())){var lElement=this.ListeElements.GetElement(aLigne);if(aSelectionner&&!_estSelectionnable.call(this,lElement)){return;}
  var lDOM=GHtml.getElement(this.Nom+'_'+aLigne);if(!lDOM){return;}
  if(this._options.avecFondSelectionSurSurvol){var lCouleurFond;if(!aSelectionner&&this._options.getCouleurFondElement){lCouleurFond=this._options.getCouleurFondElement({element:this.ListeElements.GetElement(aLigne)});}
  if(!lCouleurFond){lCouleurFond=aSelectionner?GCouleur.selection.fond:GCouleur.standard.fond;}
  GStyle.setCouleur(lDOM,lCouleurFond);GStyle.setCouleurTexte(lDOM,aSelectionner?GCouleur.selection.texte:GCouleur.standard.texte);}
  if(this._options.avecGrasSurSurvol){if(aSelectionner){$(lDOM).addClass('Gras');} else{$(lDOM).removeClass('Gras');}}}}
  ObjetSaisie.prototype.SetDonnees=function(AListeElements,ASelection,ADeroulerListe,AActualiserListe){if(this.listeDeroulee){this.FermerListe(false);}
  this.ListeElements=AListeElements;this.ActualiserListe=AActualiserListe;_trierElements.call(this);if(!this.ListeElements||this.ListeElements.GetNbrElements()===0){$('#'+this.bouton.NomEdit.escapeJQ()).attr(GObjetWAI.getAttribut(EGenreAttribut.labelledby),GObjetWAI.idInfoWai[EGenreObjet.ObjetSaisieVide]);}
  this.listeDeroulee=false;this.cache.heightScroll=0;this._remplirListe();if(this._options.avecGestionUnElement&&
  !this._options.multiSelection&&
  !_gererCasUnSeulElement.call(this)){this.SetSelection(ASelection);}
  if(this._options.multiSelection&&ASelection instanceof ObjetListeElements){_initListeSelections.call(this,ASelection);}
  if(ADeroulerListe&&(this.ListeElements.GetNbrElements()>1)){_deroulerListe.call(this,ASelection?null:0);}};function _gererCasUnSeulElement(){var lResult=false;if(this._options.accepterUnElement){return false;}
  if(this.ListeElements&&(this.ListeElements.GetNbrElements()===1||this.ListeElements.getListeElements(function(aEl){return aEl.Visible!==false;}).GetNbrElements()===1)){var LLibelle='',lEstHtml=false,lElement,lIndex=0;if(this.ListeElements.GetNbrElements()!==1){lIndex=this.ListeElements.getIndiceElementParFiltre(function(aEl){return aEl.Visible!==false;});}
  if(this.ListeElements.GetLibelle(lIndex)&&this.ListeElements.GetLibelle(lIndex).length){this.Selection=lIndex;lElement=this.ListeElements.GetElement(this.Selection);if(lElement){if(this._options.celluleAvecTexteHtml&&lElement.libelleHtml){LLibelle=lElement.libelleHtml;lEstHtml=true;} else{LLibelle=lElement.GetLibelle();}}
  if(this._options.controlerNbrElements){GHtml.setHtml(this.Nom,'<span class="'+this._options.classTexteReference+' Gras Insecable">'+LLibelle+'</span>');}
  this.SurValidation(false,this.Selection);lResult=true;} else{this.Selection= -1;}
  if(this._options.modifierContenuCelluleSurSelection){if(this._options.getContenuCellule){_appliquerGetContenuCellule.call(this,lElement);} else if(lEstHtml){this.bouton.setLibelleHtml(LLibelle);} else{this.SetContenu(LLibelle);}
  $('#'+this.NomListe.escapeJQ()+', #'+this.bouton.NomEdit.escapeJQ()).attr(GObjetWAI.getAttribut(EGenreAttribut.activedescendant),this.Selection> -1?this.Nom+'_'+this.Selection:'');$('#'+this.bouton.NomEdit.escapeJQ()).attr(GObjetWAI.getAttribut(EGenreAttribut.labelledby),this.Selection> -1?this.Nom+'_'+this.Selection:'');}}
  this.$refreshSelf();return lResult;}
  ObjetSaisie.prototype.SetFocus=function(){this.bouton.setFocus();if(_avecSaisieRechercheDynamique.call(this)){setTimeout(function(){GHtml.setCursorAtEnd(this.bouton.NomEdit);}.bind(this),0);}};ObjetSaisie.prototype.ViderContenu=function(){this.SetContenu('');$('#'+this.NomListe.escapeJQ()+', #'+this.bouton.NomEdit.escapeJQ()).attr(GObjetWAI.getAttribut(EGenreAttribut.activedescendant),'');$('#'+this.bouton.NomEdit.escapeJQ()).attr(GObjetWAI.getAttribut(EGenreAttribut.labelledby),'');};ObjetSaisie.prototype.SetContenu=function(AContenu){var lLibelle='';if(AContenu instanceof ObjetListeElements){lLibelle=this._options.getLibelleCelluleMultiSelection(AContenu);} else if(AContenu instanceof ObjetElement){lLibelle=AContenu.GetLibelle();} else{lLibelle=AContenu||'';}
  this.bouton.setLibelle(lLibelle);};ObjetSaisie.prototype.GetContenu=function(){if(MethodesTableau.existe(this._options.mode,[EGenreSaisie.Combo])){return this.Selection> -1?this.ListeElements.GetElement(this.Selection).GetLibelle():'';} else{return this.bouton.getLibelle();}};ObjetSaisie.prototype.Reset=function(){this.SetDonnees(new ObjetListeElements());this.ViderContenu();};ObjetSaisie.prototype.GetSelection=function(){return this.Selection> -1?this.ListeElements.GetElement(this.Selection):null;};ObjetSaisie.prototype.initSelectionParNumeroEtGenre=function(ANumero,AGenre,AIndice){if((ANumero===null||ANumero===undefined)&&(AGenre===null||AGenre===undefined)){ANumero=0;}
  if(this.ListeElements){var LIndice=this.ListeElements.GetIndiceParNumeroEtGenre(ANumero,AGenre);if(LIndice===null||LIndice===undefined){LIndice=AIndice;}
  this.initSelection(LIndice);}};ObjetSaisie.prototype.initSelection=function(aSelection){this.Selection=aSelection>=0?aSelection:-1;if(this.Selection>=0&&this._options.modifierContenuCelluleSurSelection){var lElement=this.ListeElements.GetElement(this.Selection);if(lElement){if(this._options.getContenuCellule){_appliquerGetContenuCellule.call(this,lElement);} else if(this._options.celluleAvecTexteHtml&&lElement.libelleHtml){this.bouton.setLibelleHtml(lElement.libelleHtml);} else{this.SetContenu(lElement.GetLibelle());}
  $('#'+this.NomListe.escapeJQ()+', #'+this.bouton.NomEdit.escapeJQ()).attr(GObjetWAI.getAttribut(EGenreAttribut.activedescendant),this.Nom+'_'+this.Selection);$('#'+this.bouton.NomEdit.escapeJQ()).attr(GObjetWAI.getAttribut(EGenreAttribut.labelledby),this.Nom+'_'+this.Selection);}}
  this.$refreshSelf();};ObjetSaisie.prototype.SetSelectionParNumeroEtGenre=function(ANumero,AGenre,AIndice){var lResult=false;if((ANumero===null||ANumero===undefined)&&(AGenre===null||AGenre===undefined)){ANumero=0;}
  if(this.ListeElements){var LIndice=this.ListeElements.GetIndiceParNumeroEtGenre(ANumero,AGenre);if(LIndice===null||LIndice===undefined){LIndice=AIndice;}
  lResult=LIndice>=0;this.SetSelection(LIndice);}
  return lResult;};ObjetSaisie.prototype.setSelectionParIndice=function(aIndice){if(this.ListeElements.GetNbrElementsExistes()<=1){return;}
  this.SetSelection(aIndice);};ObjetSaisie.prototype.setSelectionParElement=function(aElement,aIndice){if(aElement){this.SetSelectionParNumeroEtGenre(aElement.GetNumero(),aElement.GetGenre(),aIndice);} else{this.SetSelectionParNumeroEtGenre(null,null,aIndice);}};function _initListeSelections(aListeSelections){var lListeSelections=MethodesObjet.dupliquer(aListeSelections);if(!this._listeSelections){this._listeSelections=new ObjetListeElements();}
  this._listeSelections.vider();var lResult=false;if(this.ListeElements){this.ListeElements.parcourir(function(D,aIndex){var lElement=lListeSelections?lListeSelections.GetElementParNumero(D.GetNumero()):null;if(lElement){lResult=true;this._listeSelections.AddElement(lElement);if(this._infosElementsCbs&&this._infosElementsCbs[aIndex]){this._infosElementsCbs[aIndex].selectionne=true;}} else if(this._infosElementsCbs&&this._infosElementsCbs[aIndex]){this._infosElementsCbs[aIndex].selectionne=false;}}.bind(this));}
  return lResult;}
  ObjetSaisie.prototype.setListeSelections=function(aListeSelections){var lResult=false
  ;if(this._infosElementsCbs){lResult=_initListeSelections.call(this,aListeSelections);}
  this.SurValidation(false,-1,{validationMultiSelection:true});return lResult;};ObjetSaisie.prototype.SetActif=function(AActif){this.inherited('SetActif',AActif);this.bouton.SetActif(AActif);};module.exports=ObjetSaisie;},fn:"objetsaisie.js"});;
  IE.fModule({f:function(exports,require,module,global){var EGenreBordure=require('_ObjetStyle.js').EGenreBordure;var MethodesObjet=require('MethodesObjet.js');var GHtml=require('GHtml.js');var GStyle=require('GStyle.js');var EGenreEvenementObjetSaisie=require('Enumere_EvenementObjetSaisie.js');var EStructureAffichage=require('Enumere_StructureAffichage.js');var GDate=require('ObjetDate.js').GDate;var ObjetAbstraitInterface=require('ObjetInterface.js');var ObjetListeElements=require('ObjetListeElements.js');var ObjetSaisie=require('ObjetSaisie.js');var GTraductions=require('ObjetTraduction.js');var GObjetWAI=require('ObjetWAI.js').GObjetWAI;var EGenreAttribut=require('ObjetWAI.js').EGenreAttribut;var GUID=require('GUID.js');function InterfaceSelecteurDate(ANom,AIdent,APere,AEvenement){this.inheritedCreate(arguments);this.IdContenu=this.Nom+'_Contenu';this.nbrLignes=6;this.nbrColonnes=7;this.idCouleur=this.Nom+'_Couleur';this.idCode=this.Nom+'_Code';this.idJours=this.Nom+'_Jours';this.idPastille=GUID.getId();this.afficherPremiereDateSaisissable=false;this.afficherDateCourante=true;this.tailleCellule=30;this.margeCellule=5;this.parametres={listeMois:new ObjetListeElements(),indiceMoisCourant:-1};}
  MethodesObjet.heritagePrototype(InterfaceSelecteurDate,ObjetAbstraitInterface);(function(){InterfaceSelecteurDate.prototype.setParametres=function(aPremierLundi,aPremiereDate,aDerniereDate,aActifJour,aActifSemaine,aJoursFeries,aAvecAucuneDate,aHorsPeriode){this.premierLundi=aPremierLundi;this.premiereDate=aPremiereDate;this.derniereDate=aDerniereDate;this.actifJour=aActifJour;this.actifSemaine=aActifSemaine;this.joursFeries=aJoursFeries;this.horsPeriode=(aHorsPeriode!==undefined)?aHorsPeriode:true;if(this.premiereDate&&this.derniereDate){if(this.derniereDate<this.premiereDate){this.derniereDate=new Date(this.premiereDate.getTime());}
  this.parametres.listeMois=GDate.getListeMoisAPartirDeDate(this.premiereDate,this.derniereDate);} else{this.parametres.listeMois=new ObjetListeElements();}};InterfaceSelecteurDate.prototype.getControleur=function(){return{btnMois:{event:function(aSuivant){changerDeMois.call(this.instance,aSuivant?1:-1);},getDisabled:function(aSuivant){if(aSuivant){return!!this.instance.derniereDate&&this.instance.parametres.indiceMoisCourant>=this.instance.parametres.listeMois.GetNbrElements()-1;}
  return!!this.instance.premiereDate&&this.instance.parametres.indiceMoisCourant<=0;},getTitle:function(aSuivant){return aSuivant?GTraductions.getValeur('Fenetre_Date.MoisSuivant'):GTraductions.getValeur('Fenetre_Date.MoisPrecedent');}}};};function _initSurSelecMois(aInstance){aInstance.setOptions_ObjetSaisie({longueur:145,classTexte:'AlignementMilieu'});}
  function _eventSurSelecMois(aGenre,aElement,aIndice){if(aGenre===EGenreEvenementObjetSaisie.selection){this.parametres.indiceMoisCourant=aIndice;_acualiserSelonMoisCourant.bind(this)();}}
  InterfaceSelecteurDate.prototype.ConstruireInstances=function(){this.identSelecMois=this.Add(ObjetSaisie,_eventSurSelecMois.bind(this),_initSurSelecMois.bind(this));};InterfaceSelecteurDate.prototype.SetParametresGeneraux=function(){this.GenreStructure=EStructureAffichage.Autre;};InterfaceSelecteurDate.prototype.ConstruireStructureAffichageAutre=function(){var H=[];H.push('<div style="border="0" cellpadding="0" cellspacing="0">');H.push('<div id="',this.IdContenu,'"></div>');H.push('</div>');return H.join('');};InterfaceSelecteurDate.prototype._initBoutonInferieur=function(aIndice,aInstance){var lLibelle=aIndice=== -1?GTraductions.getValeur('Fenetre_Date.MoisPrecedent'):GTraductions.getValeur('Fenetre_Date.MoisSuivant');aInstance.SetParametres(aIndice=== -1?'Image_PassageAuPrecedentPourBandeau':'Image_PassageAuSuivantPourBandeau',true,false,true,[lLibelle,lLibelle,lLibelle],20,false,false);};InterfaceSelecteurDate.prototype.forcerMois=function(aDate){var lIndice=_getIndiceMoisDeDate.call(this,aDate);var lElement=this.parametres.listeMois.GetElement(lIndice);this.GetInstance(this.identSelecMois).SetDonnees(this.parametres.listeMois,lIndice);_eventSurSelecMois.call(this,EGenreEvenementObjetSaisie.selection,lElement,lIndice);};function _getIndiceMoisDeDate(aDate){var lAnnee=aDate.getFullYear(),lMois=aDate.getMonth(),lIndice= -1;this.parametres.listeMois.parcourir(function(D,aIndex){if(D.mois===lMois&&D.annee===lAnnee){lIndice=aIndex;return false;}});return lIndice;}
  InterfaceSelecteurDate.prototype.setJoursMarques=function(aJoursMarques){if(aJoursMarques){this.joursMarques=aJoursMarques;}};InterfaceSelecteurDate.prototype.setAfficherDateCourante=function(aAfficher){this.afficherDateCourante=aAfficher;};function _acualiserSelonMoisCourant(){var lElement=this.parametres.listeMois.GetElement(this.parametres.indiceMoisCourant);this.mois=lElement.mois;this.annee=lElement.annee;this.premierJourDuMois=GDate.GetPremierJourDuMois(lElement.annee,lElement.mois);this.premierLundiDuMois=GDate.GetPremierLundiDuMois(lElement.annee,lElement.mois);this.premiereSemaineDuMois=null;if(this.premierLundi){this.premiereSemaineDuMois=1+Math.floor(GDate.GetDifferenceJours(this.premierLundiDuMois,this.premierLundi)/7);}
  this.$refreshSelf();_afficherJoursDeMoisCourant.bind(this)();}
  function _getLigneEtColonne(aElement){return{i:GHtml.extraireNombreDId(aElement.id,1),j:GHtml.extraireNombreDId(aElement.id)};}
  function _construireListeMoisDAnnee(aAnnee){var lPremiereDate=GDate.GetPremierJourDuMois(aAnnee,0),lDerniereDate=GDate.GetDernierJourDuMois(aAnnee,11);if(this.premiereDate&&this.premiereDate>lPremiereDate){lPremiereDate=this.premiereDate;}
  if(this.derniereDate&&this.derniereDate<lDerniereDate){lDerniereDate=this.derniereDate;}
  return GDate.getListeMoisAPartirDeDate(lPremiereDate,lDerniereDate);}
  InterfaceSelecteurDate.prototype.SetDonnees=function(aDate,aAvecDate){if(aAvecDate===undefined){aAvecDate=true;}
  this.dateCourante=GDate.getDateCourante(this.horsPeriode);this.avecDate=(aDate!==null&&aDate!==undefined&&aAvecDate);this.date=this.avecDate?_getDateBornee.call(this,aDate):this.dateCourante;if(!this.premiereDate||!this.derniereDate){this.parametres.listeMois=_construireListeMoisDAnnee.call(this,this.date.getFullYear());}
  GHtml.setHtml(this.IdContenu,this.ComposeContenu(),{controleur:this.controleur});this.Afficher();this.GetInstance(this.identSelecMois).Initialiser();this.parametres.indiceMoisCourant=_getIndiceMoisDeDate.bind(this)(this.date);this.GetInstance(this.identSelecMois).SetDonnees(this.parametres.listeMois,this.parametres.indiceMoisCourant);$('#'+this.idJours.escapeJQ()).on({focusin:function(event){var lInfo=_getLigneEtColonne(this);event.data.instance.surSurvol(lInfo.i,lInfo.j,true);},focusout:function(event){var lInfo=_getLigneEtColonne(this);event.data.instance.surSurvol(lInfo.i,lInfo.j,false);},keyup:function(event){var lInfo=_getLigneEtColonne(this);_surKeyUp.bind(event.data.instance)(lInfo.i,lInfo.j);}},'td.AvecMain>div',{instance:this}).on({mouseover:function(event){var lInfo=_getLigneEtColonne(this);event.data.instance.surSurvol(lInfo.i,lInfo.j,true);},mouseout:function(event){var lInfo=_getLigneEtColonne(this);event.data.instance.surSurvol(lInfo.i,lInfo.j,false);},touchstart:function(event){var lInfo=_getLigneEtColonne(this);event.data.instance.surSurvol(lInfo.i,lInfo.j,true);},touchend:function(event){var lInfo=_getLigneEtColonne(this);event.data.instance.surSurvol(lInfo.i,lInfo.j,false);},click:function(event){var lInfo=_getLigneEtColonne(this);event.data.instance.surSelection(lInfo.i,lInfo.j);}},'td.AvecMain',{instance:this});};InterfaceSelecteurDate.prototype.ComposeContenu=function(){if(this.dateCourante===null||this.dateCourante===undefined){return'';}
  var T=[];T.push('<div class="Texte10 AvecMain AlignementMilieu" style="'+GStyle.composeCouleurTexte(GCouleur.noir)+' width:100%;" border="0" cellpadding="0" cellspacing="0">','<div style="display:inline-flex">','<ie-btnimage ie-model="btnMois(false)" class="Image_PassageAuPrecedentPourBandeau"></ie-btnImage>','<div id="',this.GetInstance(this.identSelecMois).GetNom(),'"></div>','<ie-btnimage ie-model="btnMois(true)" class="Image_PassageAuSuivantPourBandeau"></ie-btnImage></div>','</div>');T.push('<div id="',this.idJours,'"></div>');return T.join('');};function _getJourPremierSemaine(){return GDate.PremierLundi?GDate.GetJourDeDate(GDate.PremierLundi):0;}
  function _afficherJoursDeMoisCourant(){var T=[],I,J;T.push('<table class="Texte10 EspaceHaut" style="'+GStyle.composeCouleurTexte(GCouleur.noir)+'" border="0" cellpadding="0" cellspacing="0">');T.push('<tr>');for(J=0;J<this.nbrColonnes;J++){var lJour=(J+_getJourPremierSemaine())%7;T.push('<td class="AlignementMilieu" '+(!this.estJourSemaineOuvre(lJour)?'style="'+GStyle.composeCouleurTexte(GCouleur.grisClair)+'"':'')+'>',GTraductions.getValeur('JoursCourt')[lJour],'</td>');}
  T.push('</tr>');for(I=0;I<this.nbrLignes;I++){T.push('<tr>');for(J=0;J<this.nbrColonnes;J++){T.push(this.composeJour(I,J));}
  T.push('</tr>');}
  T.push('</table>');GHtml.setHtml(this.idJours,T.join(''),true);}
  InterfaceSelecteurDate.prototype.composeJour=function(I,J){var lHtml=[];var lDate=GDate.GetJourSuivant(this.premierLundiDuMois,I*7+J);var lEstJourActif=this.estJourActif(I,J);var lCouleurFond=this.getCouleurFond(I,J);var lCouleurTexte=this.getCouleurTexte(I,J);var lCouleurBordure=this.getCouleurBordure(I,J);var lLargeurBordure=this.getLargeurBordure(I,J);var lId=this.Nom+'_'+I+'_'+J,lIdTD=this.Nom+'_td_'+I+'_'+J;var lClass=lEstJourActif?'AvecMain':'SansMain';lClass+=lEstJourActif&&this.estJourDuMois(I,J)?' ':' Italique';var lStyleCourant=GDate.estJourCourant(lDate,this.horsPeriode)?'border-radius:100%;width:20px;height:20px;background-color:'+GCouleur.themeNeutre.moyen2+' ;':'';var lOffsetCourant=GDate.estJourCourant(lDate,this.horsPeriode)?10:0;var lIdCourant=GDate.estJourCourant(lDate,this.horsPeriode)?'id="'+this.idPastille+'"':'';var lBordure=(I===0?EGenreBordure.haut:0)+(I===this.nbrLignes-1?EGenreBordure.bas:0)+(J===0?EGenreBordure.gauche:0)+(J===this.nbrColonnes-1?EGenreBordure.droite:0);var lStyle=' style="'+GStyle.composeCouleurFond(lCouleurFond)+(lBordure>0?GStyle.composeCouleurBordure(GCouleur.fenetre.bordure,1,lBordure):'')+'"';var lTabIndex=!this._getPremiereDateSaisissable()||
  GDate.estJourEgal(lDate,this._getPremiereDateSaisissable())||(I===0&&J===0&&GDate.GetDifferenceJours(lDate,this._getPremiereDateSaisissable())>0)?' tabindex="0"':' tabindex="-1"';var lLabelWAI=' '+GObjetWAI.composeAttribut({genre:EGenreAttribut.label,valeur:GDate.FormatDate(lDate,'%JJJJ %J %MMM %AAAA')});lHtml.push('<td id=',lIdTD,'" class="'+lClass+'"',lStyle,'>');lHtml.push('<div id="'+lId+'"'+lTabIndex+lLabelWAI+' style="margin: '+(this.margeCellule-lLargeurBordure)+'px; line-height:'+(this.tailleCellule-lOffsetCourant)+'px;',GStyle.composeHeight(this.tailleCellule),GStyle.composeWidth(this.tailleCellule),GStyle.composeCouleur(lCouleurFond,lCouleurTexte,lCouleurBordure,lLargeurBordure)+'" class="AlignementMilieu ">'+'<div style="display:flex;align-items:center;justify-content:center;height:100%"><div '+lIdCourant+' style="'+lStyleCourant+'">'+GDate.FormatDate(lDate,'%J')+'</div></div>'+'</div>');lHtml.push('</td>');return lHtml.join('');};function changerDeMois(aSens){var lElement=this.parametres.listeMois.GetElement(this.parametres.indiceMoisCourant);this.parametres.indiceMoisCourant+=aSens;var lAvecChangementAnnee=false,lAnnee;if(lElement&&MethodesObjet.isNumber(lElement.annee)){if(!this.premiereDate&&this.parametres.indiceMoisCourant<0){lAnnee=lElement.annee-1;this.parametres.indiceMoisCourant=11;lAvecChangementAnnee=true;} else if(!this.derniereDate&&this.parametres.indiceMoisCourant>11){lAnnee=lElement.annee+1;this.parametres.indiceMoisCourant=0;lAvecChangementAnnee=true;}}
  if(lAvecChangementAnnee){this.parametres.listeMois=_construireListeMoisDAnnee.call(this,lAnnee);this.GetInstance(this.identSelecMois).SetDonnees(this.parametres.listeMois,this.parametres.indiceMoisCourant);} else{this.GetInstance(this.identSelecMois).setSelectionParIndice(this.parametres.indiceMoisCourant);}}
  InterfaceSelecteurDate.prototype._moisCourantValide=function(){return this.existeJour()&&(!this._getPremiereDateSaisissable()||
  GDate.GetDernierJourDuMois(this.annee,this.mois)>=this._getPremiereDateSaisissable());};InterfaceSelecteurDate.prototype.surSurvol=function(I,J,aSurvol){var lDate=GDate.GetJourSuivant(this.premierLundiDuMois,I*7+J);var lCouleurFond=aSurvol?GCouleur.selection.fond:this.getCouleurFond(I,J);var lCouleurFondPastille=aSurvol?GCouleur.selection.fond:GCouleur.themeNeutre.moyen2;var lCouleurTexte=aSurvol?GCouleur.selection.texte:this.getCouleurTexte(I,J);var lId=this.Nom+'_'+I+'_'+J;GStyle.setCouleurFond(lId,lCouleurFond);GStyle.setCouleurTexte(lId,lCouleurTexte);if(GDate.estJourCourant(lDate)){GStyle.setCouleurFond(this.idPastille,lCouleurFondPastille);}
  if(this.ICourant&&this.JCourant&&this.JCourant!== -1&&(this.ICourant!==I||this.JCourant!==J)){this.surSurvol(this.ICourant,this.JCourant,false);}
  if(aSurvol){this.ICourant=I;this.JCourant=J;GHtml.setFocus(lId);}};InterfaceSelecteurDate.prototype.surSelection=function(I,J){this.Pere.date=GDate.getDateJour(GDate.GetJourSuivant(this.premierLundiDuMois,I*7+J));this.Pere.SurValidation(1,this.mois,this.annee);};function _surKeyUp(I,J){if(GNavigateur.IsToucheSelection()||GNavigateur.IsToucheEspace()){this.surSelection(I,J);} else if(GNavigateur.IsToucheEchap()){this.Pere.Fermer();} else if(GNavigateur.IsToucheFlecheHaut()&&I>0&&this.estJourValide(I-1,J)){this.surSurvol(I,J,false);this.surSurvol(I-1,J,true);} else if(GNavigateur.IsToucheFlecheBas()&&I+1<this.nbrLignes&&this.estJourValide(I+1,J)){this.surSurvol(I,J,false);this.surSurvol(I+1,J,true);} else if(GNavigateur.IsToucheFlecheGauche()&&J>0&&this.estJourValide(I,J-1)){this.surSurvol(I,J,false);this.surSurvol(I,J-1,true);} else if(GNavigateur.IsToucheFlecheDroite()&&J+1<this.nbrColonnes&&this.estJourValide(I,J+1)){this.surSurvol(I,J,false);this.surSurvol(I,J+1,true);}}
  InterfaceSelecteurDate.prototype.existeJour=function(){for(var I=0;I<this.nbrLignes;I++){for(var J=0;J<this.nbrColonnes;J++){if(this.estJourDuMois(I,J)){return true;}}}
  return false;};InterfaceSelecteurDate.prototype.estJourDuMois=function(I,J){var lDate=GDate.GetJourSuivant(this.premierLundiDuMois,I*7+J);var lMois=lDate.getMonth();return lMois===this.mois&&_dateAutoriseeDansBorne.call(this,lDate);};InterfaceSelecteurDate.prototype.estJourActif=function(I,J){return this.estJourValide(I,J)&&(this.actifSemaine?this.actifSemaine.GetValeur(I+this.premiereSemaineDuMois):true);};InterfaceSelecteurDate.prototype.estJourValide=function(I,J){var lDate=GDate.GetJourSuivant(this.premierLundiDuMois,I*7+J);return this.estJourOuvre(I,J)&&
  _dateAutoriseeDansBorne.call(this,lDate)&&(!this._getPremiereDateSaisissable()||(GDate.GetJourSuivant(this.premierLundiDuMois,I*7+J)>=this._getPremiereDateSaisissable()));};InterfaceSelecteurDate.prototype.estJourSemaineOuvre=function(J){return this.joursInactifs?this.actifJour.GetValeur(J+1):this.actifJour?this.actifJour.GetValeur(J+1):true;};InterfaceSelecteurDate.prototype.estJourOuvre=function(I,J){var lDate=GDate.GetJourSuivant(this.premierLundiDuMois,I*7+J);var lJour=(J+_getJourPremierSemaine())%7;return this.estJourSemaineOuvre(lJour)&&
  !(this.joursFeries?this.joursFeries.GetValeur(GDate.getNbrJoursEntreDeuxDates(IE.Cycles.dateDebutPremierCycle(),lDate)+1):false);};InterfaceSelecteurDate.prototype.estJourMarque=function(aDate){return this.joursMarques?this.joursMarques.GetValeur(GDate.getNbrJoursEntreDeuxDates(IE.Cycles.dateDebutPremierCycle(),aDate)+1):false;};InterfaceSelecteurDate.prototype.getCouleurFond=function(I,J){var lDate=GDate.GetJourSuivant(this.premierLundiDuMois,I*7+J);return lDate<this.dateCourante?GCouleur.fenetre.fond:GCouleur.blanc;};InterfaceSelecteurDate.prototype.getCouleurTexte=function(I,J){return this.estJourActif(I,J)&&this.estJourDuMois(I,J)?GCouleur.noir:this.estJourValide(I,J)?GCouleur.noir:GCouleur.grisClair;};InterfaceSelecteurDate.prototype.getCouleurBordure=function(I,J){var lDate=GDate.GetJourSuivant(this.premierLundiDuMois,I*7+J);return!(GDate.estJourEgal(lDate,this.date)&&this.avecDate)?!GDate.estJourCourant(lDate,this.horsPeriode)||!this.afficherDateCourante?this.estJourMarque(lDate)?(this.estJourActif(I,J)?GCouleur.themeCouleur.foncee:GCouleur.themeCouleur.moyen1):this._getAfficherPremiereDateSaisissable()&&(!this._getPremiereDateSaisissable()||GDate.estJourEgal(lDate,this._getPremiereDateSaisissable()))?GCouleur.fenetre.bordure:this.getCouleurFond(I,J):this.estJourMarque(lDate)?(this.estJourActif(I,J)?GCouleur.themeCouleur.foncee:GCouleur.themeCouleur.moyen1):this.getCouleurFond(I,J):GCouleur.selection.fond;};InterfaceSelecteurDate.prototype.getLargeurBordure=function(I,J){var lDate=GDate.GetJourSuivant(this.premierLundiDuMois,I*7+J);return(GDate.estJourCourant(lDate)&&this.afficherDateCourante)||(this._getAfficherPremiereDateSaisissable()&&(!this._getPremiereDateSaisissable()||GDate.estJourEgal(lDate,this._getPremiereDateSaisissable())))?2:this.estJourMarque(lDate)?2:(GDate.estJourEgal(lDate,this.date)&&this.avecDate)?2:0;};InterfaceSelecteurDate.prototype._getPremiereDateSaisissable=function(){return this.Pere.premiereDateSaisissable?this.Pere.premiereDateSaisissable:this.premiereDate;};InterfaceSelecteurDate.prototype._getAfficherPremiereDateSaisissable=function(){return this.Pere.afficherPremiereDateSaisissable?this.Pere.afficherPremiereDateSaisissable:this.afficherPremiereDateSaisissable;};function _getDateBornee(aDate){var lDate;if(this.premiereDate&&aDate<this.premiereDate){lDate=this.premiereDate;}
  if(this.derniereDate&&aDate>this.derniereDate){lDate=this.derniereDate;} else{lDate=aDate;}
  return GDate.getDateJour(lDate);}
  function _dateAutoriseeDansBorne(aDate){if(this.premiereDate&&GDate.GetDifferenceJours(aDate,this.premiereDate)<0){return false;}
  if(this.derniereDate&&GDate.GetDifferenceJours(aDate,this.derniereDate)>0){return false;}
  return true;}}());module.exports=InterfaceSelecteurDate;},fn:"interfaceselecteurdate.js"});;
  IE.fModule({f:function(exports,require,module,global){var MethodesObjet=require('MethodesObjet.js');var InterfaceSelecteurDate=require('InterfaceSelecteurDate.js');var GDate=require('ObjetDate.js').GDate;var ObjetFenetre=require('ObjetFenetre.js');var ObjetListeElements=require('ObjetListeElements.js');var GTraductions=require('ObjetTraduction.js');function ObjetFenetre_Date(ANom,AIdent,APere,AEvenement){this.inheritedCreate(arguments);this.SetParametres_Fenetre(GTraductions.getValeur('Fenetre_Date.Titre'),200,100,null);this.nbrLignes=6;this.nbrColonnes=7;this.idCouleur=this.Nom+'_Couleur';this.idCode=this.Nom+'_Code';this.idJours=this.Nom+'_Jours';this.afficherPremiereDateSaisissable=false;this.afficherDateCourante=true;this.tailleCellule=20;this.margeCellule=5;this.setOptionsFenetre({avecTailleSelonContenu:true,listeBoutons:[GTraductions.getValeur('Fermer')]});this.parametres={listeMois:new ObjetListeElements(),indiceMoisCourant:-1};}
  MethodesObjet.heritagePrototype(ObjetFenetre_Date,ObjetFenetre);ObjetFenetre_Date.prototype.ComposeContenu=function(){var T=[];T.push('<div id="',this.GetInstance(this.identSelecteur).GetNom(),'"></div>');return T.join('');};ObjetFenetre_Date.prototype.setParametres=function(aPremierLundi,aPremiereDate,aDerniereDate,aActifJour,aActifSemaine,aJoursFeries,aAvecAucuneDate){this.premierLundi=aPremierLundi;this.premiereDate=aPremiereDate;this.derniereDate=aDerniereDate;this.actifJour=aActifJour;this.actifSemaine=aActifSemaine;this.joursFeries=aJoursFeries;this.aucuneDate=aAvecAucuneDate;if(aAvecAucuneDate){this.SetListeBoutons([GTraductions.getValeur('Fenetre_Date.AucuneDate')]);}};ObjetFenetre_Date.prototype.SetDonnees=function(aDate){this.Afficher();this.date=aDate;_initialiserSelecteurDate.call(this);this.GetInstance(this.identSelecteur).SetDonnees(aDate);};ObjetFenetre_Date.prototype.ConstruireInstances=function(){this.identSelecteur=this.Add(InterfaceSelecteurDate,null,null);};function _initialiserSelecteurDate(){this.GetInstance(this.identSelecteur).setParametres(this.premierLundi,this.premiereDate,this.derniereDate,this.actifJour,this.actifSemaine,this.joursFeries,this.aucuneDate);}
  ObjetFenetre_Date.prototype.setJoursMarques=function(aJoursMarques){this.GetInstance(this.identSelecteur).setJoursMarques(aJoursMarques);};ObjetFenetre_Date.prototype.setPremiereDateSaisissable=function(aPremiereDateSaisissable,aAfficher){this.premiereDateSaisissable=aPremiereDateSaisissable?_getDateBornee.call(this,aPremiereDateSaisissable):this.premiereDate;this.afficherPremiereDateSaisissable=aAfficher?aAfficher:false;};ObjetFenetre_Date.prototype.SurValidation=function(aGenreBouton){if(aGenreBouton=== -1||aGenreBouton===0||_dateAutoriseeDansBorne.call(this,this.date)){this.Fermer();this.callback.appel(aGenreBouton,this.date);}};function _getDateBornee(aDate){var lDate;if(this.premiereDate&&aDate<this.premiereDate){lDate=this.premiereDate;}
  if(this.derniereDate&&aDate>this.derniereDate){lDate=this.derniereDate;} else{lDate=aDate;}
  return GDate.getDateJour(lDate);}
  function _dateAutoriseeDansBorne(aDate){if(this.premiereDate&&GDate.GetDifferenceJours(aDate,this.premiereDate)<0){return false;}
  if(this.derniereDate&&GDate.GetDifferenceJours(aDate,this.derniereDate)>0){return false;}
  return true;}
  module.exports=ObjetFenetre_Date;},fn:"objetfenetre_date.js"});;
  IE.fModule({f:function(exports,require,module,global){var MethodesObjet=require('MethodesObjet.js');var ControleSaisieEvenement=require('ControleSaisieEvenement.js');var EEvent=require('Enumere_Event.js');var ObjetCelluleBouton=require('ObjetCelluleBouton.js').ObjetCelluleBouton;var GDate=require('ObjetDate.js').GDate;var ObjetFenetre=require('ObjetFenetre.js');var ObjetFenetre_Date=require('ObjetFenetre_Date.js');var Identite=require('ObjetIdentite.js');var GTraductions=require('ObjetTraduction.js');var EGenreBoutonCellule=require('ObjetCelluleBouton.js').EGenreBoutonCellule;MethodesObjet.heritagePrototype(ObjetCelluleDate,Identite);function ObjetCelluleDate(){this.inheritedCreate(arguments);this.SetParametres();this._parametres_Fenetre={};if(window.GParametres){this.setParametres_Fenetre(window.GParametres.PremierLundi,window.GParametres.PremiereDate,window.GParametres.DerniereDate);} else{this.setParametres_Fenetre();}
  this._options={labelWAIEdit:'',classImageBouton:'Image_OuvrirCalendrier',largeurBouton:16};}
  ObjetCelluleDate.prototype.DetruireInstances=function(){this._fermerFenetreDate();};ObjetCelluleDate.prototype.getControleur=function(){return{btn:{event:function(aPrecedent){this.instance.actualiserDonnees(aPrecedent?-1:+1);},getDisabled:function(aPrecedent){if(!this.instance.Actif){return true;}
  if(aPrecedent){return this.instance.date<this.instance._parametres_Fenetre.premiereDate||GDate.estJourEgal(this.instance.date,this.instance._parametres_Fenetre.premiereDate);} else{return this.instance.date>this.instance._parametres_Fenetre.derniereDate||GDate.estJourEgal(this.instance.date,this.instance._parametres_Fenetre.derniereDate);}},getTitle:function(aPrecedent){return aPrecedent?GTraductions.getValeur('Precedent'):GTraductions.getValeur('Suivant');}}};};ObjetCelluleDate.prototype.SetParametres=function(aAvecStyleSite,aLargeurBouton,aHauteurBouton,aClassTexte,aAvecBoutonsPrecedentSuivant,aAvecImage,aFormatDate){this.largeurBouton=aLargeurBouton?aLargeurBouton:90;this.hauteurBouton=aHauteurBouton?aHauteurBouton:17;this.classTexte=aClassTexte?aClassTexte:'Gras';this.avecBoutonsPrecedentSuivant=aAvecBoutonsPrecedentSuivant;this.genreBoutonCellule=(aAvecImage===null||aAvecImage===undefined)||aAvecImage?EGenreBoutonCellule.Image:EGenreBoutonCellule.Aucun;this.formatDate=aFormatDate?aFormatDate:'%JJ/%MM/%AAAA';};ObjetCelluleDate.prototype.setOptions_ObjetCelluleDate=function(aOptions){$.extend(this._options,aOptions);};ObjetCelluleDate.prototype.setOptionsFenetre=function(aOptions){this._optionsFenetre=aOptions;};ObjetCelluleDate.prototype.setParametres_Fenetre=function(aPremierLundi,aPremiereDate,aDerniereDate,aActifJour,aActifSemaine,aJoursFeries,aAvecAucuneDate,aJoursMarques){this._parametres_Fenetre.premierLundi=aPremierLundi;this._parametres_Fenetre.premiereDate=aPremiereDate;this._parametres_Fenetre.derniereDate=aDerniereDate;this._parametres_Fenetre.actifJour=aActifJour;this._parametres_Fenetre.actifSemaine=aActifSemaine;this._parametres_Fenetre.joursFeries=aJoursFeries;this._parametres_Fenetre.avecAucuneDate=aAvecAucuneDate;this._parametres_Fenetre.joursMarques=aJoursMarques;};ObjetCelluleDate.prototype.setActifSemaine=function(aActifSemaine){this._parametres_Fenetre.actifSemaine=aActifSemaine;};ObjetCelluleDate.prototype.setPremiereDateSaisissable=function(aPremiereDateSaisissable,aAfficher){this._parametres_Fenetre.premiereDateSaisissable=aPremiereDateSaisissable;this._parametres_Fenetre.afficherPremiereDateSaisissable=aAfficher;};ObjetCelluleDate.prototype.modifierParametres_Fenetre=function(aParametres){$.extend(this._parametres_Fenetre,aParametres);};ObjetCelluleDate.prototype.Initialiser=function(){this.cellule=new ObjetCelluleBouton(this.Nom+'.cellule',null,this,this.surCellule);this.SetPremierElement(this.cellule.NomEdit);this.cellule.setOptions_ObjetCelluleBouton(this._options);this.cellule.setParametres(false,this.genreBoutonCellule,null,this.largeurBouton,this.hauteurBouton,null,null,this.classTexte);this.cellule.setParametresSaisie(false,false);this.Afficher();this.cellule.Initialiser();this.cellule.SetActif(this.Actif);};ObjetCelluleDate.prototype.SetDonnees=function(aDate){this.date=aDate;this._actualiserDate();};ObjetCelluleDate.prototype.ConstruireAffichage=function(){var H=[];if(this.avecBoutonsPrecedentSuivant){H.push('<div>','<table tabindex="-1" border="0" cellspacing="0" cellpadding="0"><tr>','<td><ie-btnimage ie-model="btn(true)" class="Image_PassageAuPrecedentPourBandeau"></ie-btnimage></td>','<td id="'+this.cellule.GetNom()+'"></td>','<td><ie-btnimage ie-model="btn(false)" class="Image_PassageAuSuivantPourBandeau"></ie-btnimage></td>','</tr></table></div>');} else{H.push('<div id="',this.cellule.GetNom(),'"></div>');}
  return H.join('');};ObjetCelluleDate.prototype._actualiserDate=function(){this.cellule.setLibelle(this._getChaineDate());};ObjetCelluleDate.prototype._getChaineDate=function(){return this.date?GDate.FormatDate(this.date,this.formatDate):'&nbsp;';};ObjetCelluleDate.prototype.actualiserDonnees=function(aDecalage){var lCount=0;var lDate=aDecalage?GDate.GetJourSuivant(this.date,aDecalage):this.date;if(this._parametres_Fenetre.actifJour&&aDecalage){while(!this._parametres_Fenetre.actifJour.GetValeur(GDate.GetJourDeSemaine(lDate)+1)&&lCount<7){lDate=GDate.GetJourSuivant(lDate,aDecalage);lCount++;}}
  if(lCount===7){lDate=this.date;}
  if(aDecalage&&GDate.dateEntreLesDates(lDate,this._parametres_Fenetre.premiereDate,this._parametres_Fenetre.derniereDate)&&(!this._parametres_Fenetre.actifSemaine||this._parametres_Fenetre.actifSemaine.GetValeur(GDate.GetSemaine(lDate)))){this.surFenetreDate(null,lDate);}};ObjetCelluleDate.prototype.surCellule=function(aGenreEvent){if(!this.Actif){return;}
  switch(aGenreEvent){case EEvent.SurClick:{this._ouvrirFenetreDate();break;}
  case EEvent.SurKeyUp:{if(GNavigateur.IsToucheRetourChariot()||GNavigateur.IsToucheFlecheBas()){this._ouvrirFenetreDate();}}}};ObjetCelluleDate.prototype._ouvrirFenetreDate=function(){if(this.fenetreDate){this._fermerFenetreDate();}
  this.fenetreDate=ObjetFenetre.creerInstance(ObjetFenetre_Date,{pere:this,evenement:this.surFenetreDate,initialiser:false},this._optionsFenetre);var lSelf=this;this.fenetreDate.ajouterCallbackSurDestruction(function(){lSelf.fenetreDate=null;});this.fenetreDate.setParametres(this._parametres_Fenetre.premierLundi,this._parametres_Fenetre.premiereDate,this._parametres_Fenetre.derniereDate,this._parametres_Fenetre.actifJour,this._parametres_Fenetre.actifSemaine,this._parametres_Fenetre.joursFeries,this._parametres_Fenetre.avecAucuneDate);this.fenetreDate.setPremiereDateSaisissable(this._parametres_Fenetre.premiereDateSaisissable,this._parametres_Fenetre.afficherPremiereDateSaisissable);this.fenetreDate.Initialiser();if(this._parametres_Fenetre.joursMarques){this.fenetreDate.setJoursMarques(this._parametres_Fenetre.joursMarques);}
  this.fenetreDate.SetDonnees(this.date);this.fenetreDate.positionnerSousId(this.Nom);};ObjetCelluleDate.prototype._fermerFenetreDate=function(){if(this.fenetreDate){this.fenetreDate.Fermer();}};ObjetCelluleDate.prototype.surFenetreDate=function(aGenreBouton,aDate){this.date=aDate;this._actualiserDate();this._fermerFenetreDate();if(aDate){ControleSaisieEvenement(function(){this.callback.appel(this.date);}.bind(this),!this.ControleNavigation);}};ObjetCelluleDate.prototype.getDate=function(){return this.date;};ObjetCelluleDate.prototype.getBorneDates=function(){return{dateDebut:this._parametres_Fenetre.premiereDate,dateFin:this._parametres_Fenetre.derniereDate};};ObjetCelluleDate.prototype.SetActif=function(AActif){this.inherited('SetActif',AActif);if(this.cellule){this.cellule.SetActif(AActif);}
  this.$refreshSelf();};module.exports=ObjetCelluleDate;},fn:"objetcelluledate.js"});;
  IE.fModule({f:function(exports,require,module,global){var MethodesObjet=require('MethodesObjet.js');var GChaine=require('GChaine.js');var EStructureAffichage=require('Enumere_StructureAffichage.js');require('IEHTML.InputTime.js');var ObjetCelluleDate=require('ObjetCelluleDate.js');var GDate=require('ObjetDate.js').GDate;var ObjetAbstraitInterface=require('ObjetInterface.js');var GTraductions=require('ObjetTraduction.js');MethodesObjet.heritagePrototype(ObjetDisponibilite,ObjetAbstraitInterface);function ObjetDisponibilite(){this.inheritedCreate(arguments);}
  ObjetDisponibilite.prototype.ConstruireInstances=function(){this.identDateDebDispoQCM=this.Add(ObjetCelluleDate,this.evenementSurDateDebDispoQCM,this.initCelluleDateQCM);this.identDateFinDispoQCM=this.Add(ObjetCelluleDate,this.evenementSurDateFinDispoQCM,this.initCelluleDateQCM);};ObjetDisponibilite.prototype.setOptionsAffichage=function(aObj){this.options=aObj;};ObjetDisponibilite.prototype.SetParametresGeneraux=function(){this.GenreStructure=EStructureAffichage.Autre;};ObjetDisponibilite.prototype.initCelluleDateQCM=function(aInstance){aInstance.SetParametres(null,null,null,null,false);};ObjetDisponibilite.prototype.evenementSurDateDebDispoQCM=function(aDate){aDate.setHours(this.donnees.dateDebutPublication.getHours());aDate.setMinutes(this.donnees.dateDebutPublication.getMinutes());this.controlerModificationDate({idModifie:this.identDateDebDispoQCM,dateModif:aDate});};ObjetDisponibilite.prototype.evenementSurDateFinDispoQCM=function(aDate){aDate.setHours(this.donnees.dateFinPublication.getHours());aDate.setMinutes(this.donnees.dateFinPublication.getMinutes());this.controlerModificationDate({idModifie:this.identDateFinDispoQCM,dateModif:aDate});};ObjetDisponibilite.prototype.getControleur=function(){return{heure:{getValue:function(aHeureDebut){var lHeure=this.instance.donnees?aHeureDebut?this.instance.donnees.dateDebutPublication:this.instance.donnees.dateFinPublication:null;return lHeure?GDate.FormatDate(lHeure,'%hh:%mm'):'';},setValue:function(aHeureDebut,aValue,aHeures,aMinutes){var lHeure=this.instance.donnees?aHeureDebut?this.instance.donnees.dateDebutPublication:this.instance.donnees.dateFinPublication:null;if(!lHeure){return;}
  lHeure.setHours(aHeures);lHeure.setMinutes(aMinutes);this.instance.controlerModificationDate({idModifie:aHeureDebut?'heureDebut':'heureFin',dateModif:lHeure});},getDisabled:function(){return!this.instance.donnees||!this.instance.donnees.actif;}}};};ObjetDisponibilite.prototype.ConstruireStructureAffichageAutre=function(){function composeDivLibelle(aObj){return'<span class="InlineBlock EspaceDroit" style="width:'+aObj.largeur+'px;">'+aObj.libelle+'</span>';}
  function composeDivComposant(aObj){return'<span class="InlineBlock EspaceDroit AlignementMilieuVertical" id="'+aObj.ident+'"></span>';}
  function composeHeure(aObj){if(aObj.avecHeure){var T=[];T.push(composeDivLibelle({libelle:GTraductions.getValeur('QCM_Divers.A'),largeur:GChaine.GetLongueurChaine(GTraductions.getValeur('QCM_Divers.A'),10,true)}));T.push('<div class="InlineBlock"><ie-inputtime ie-model="',aObj.model,'"></ie-inputtime></div>');return T.join('');} else{return'';}}
  function composeDivRC(){return'<br />';}
  function composeLigne(aObj){var T=[];T.push(composeDivLibelle(aObj));T.push(composeDivComposant(aObj));T.push(composeHeure(aObj));if(aObj.avecRC){T.push(composeDivRC());} else{T.push('<span class="EspaceDroit"></span>');}
  return T.join('');}
  var T=[];if(this.options){var lLargeur=GChaine.GetLongueurChaine(this.options.chaines[0],10,true);var l1={libelle:this.options.chaines[0],largeur:lLargeur,ident:this.GetInstance(this.identDateDebDispoQCM).GetNom(),avecHeure:this.options.avecHeureDebut,model:'heure(true)',avecRC:!this.options.afficherSurUneSeuleLigne};var l2={libelle:this.options.chaines[1],largeur:(this.options.afficherSurUneSeuleLigne?GChaine.GetLongueurChaine(this.options.chaines[1],10,true):lLargeur),ident:this.GetInstance(this.identDateFinDispoQCM).GetNom(),avecHeure:this.options.avecHeureFin,model:'heure(false)',avecRC:true};T.push(composeLigne(l1));T.push(composeLigne(l2));}
  return T.join('');};ObjetDisponibilite.prototype.controlerModificationDate=function(aObj){switch(aObj.idModifie){case this.identDateDebDispoQCM:case'heureDebut':if(aObj.dateModif<this.donnees.dateFinPublication){this.callback.appel({dateDebutPublication:aObj.dateModif});} else{this.donnees.dateFinPublication=new Date(aObj.dateModif.getTime());this.setDonneesDate({identDate:this.identDateFinDispoQCM,date:this.donnees.dateFinPublication});this.callback.appel({dateDebutPublication:aObj.dateModif,dateFinPublication:this.donnees.dateFinPublication});}
  break;case this.identDateFinDispoQCM:case'heureFin':if(aObj.dateModif>this.donnees.dateDebutPublication){this.callback.appel({dateFinPublication:aObj.dateModif});} else{this.donnees.dateDebutPublication=new Date(aObj.dateModif.getTime());this.setDonneesDate({identDate:this.identDateDebDispoQCM,date:this.donnees.dateDebutPublication});this.callback.appel({dateDebutPublication:this.donnees.dateDebutPublication,dateFinPublication:aObj.dateModif});}
  break;}
  this.$refreshSelf();};ObjetDisponibilite.prototype.SetDonnees=function(aDonnees){this.donnees=aDonnees;this.Initialiser();this.setDonneesDate({identDate:this.identDateDebDispoQCM,date:aDonnees.dateDebutPublication});this.setDonneesDate({identDate:this.identDateFinDispoQCM,date:aDonnees.dateFinPublication});if(this.donnees.premiereDateSaisie){this.GetInstance(this.identDateDebDispoQCM).setPremiereDateSaisissable(this.donnees.premiereDateSaisie,true);this.GetInstance(this.identDateFinDispoQCM).setPremiereDateSaisissable(this.donnees.premiereDateSaisie,true);}
  this.GetInstance(this.identDateDebDispoQCM).SetActif(aDonnees.actif);this.GetInstance(this.identDateFinDispoQCM).SetActif(aDonnees.actif&&(aDonnees.actifFin!==false));this.$refreshSelf();};ObjetDisponibilite.prototype.setDonneesDate=function(aObj){if(aObj&&aObj.date){this.GetInstance(aObj.identDate).SetDonnees(aObj.date);}};module.exports=ObjetDisponibilite;},fn:"objetdisponibilite.js"});;
  IE.fModule({f:function(exports,require,module,global){var TypeModeCorrectionQCM={FBQ_CorrigeSans:0,FBQ_CorrigeApresQuestion:1,FBQ_CorrigeALaFin:2};module.exports.TypeModeCorrectionQCM=TypeModeCorrectionQCM;},fn:"typemodecorrectionqcm.js"});;
  IE.fModule({f:function(exports,require,module,global){var MethodesObjet=require('MethodesObjet.js');var GChaine=require('GChaine.js');var EGenreBoiteMessage=require('Enumere_BoiteMessage.js');var EGenreEtat=require('Enumere_Etat.js');var EGenreEvenementObjetSaisie=require('Enumere_EvenementObjetSaisie.js');var EGenreSaisie=require('Enumere_Saisie.js');var ObjetDisponibilite=require('ObjetDisponibilite.js');var ObjetAbstraitInterface=require('ObjetInterface.js');var ObjetElement=require('ObjetElement.js');var ObjetListeElements=require('ObjetListeElements.js');var ObjetSaisie=require('ObjetSaisie.js');var GTraductions=require('ObjetTraduction.js');var TypeModeCorrectionQCM=require('TypeModeCorrectionQCM.js').TypeModeCorrectionQCM;var TUtilitaireDuree=require('UtilitaireDuree.js');MethodesObjet.heritagePrototype(ObjetParamExecutionQCM,ObjetAbstraitInterface);function ObjetParamExecutionQCM(){this.inheritedCreate(arguments);}
  ObjetParamExecutionQCM.prototype.ConstruireInstances=function(){this.cbNbrQuestions=new ObjetSaisie(this.Nom+'.cbNbrQuestions',null,this,this._evenementSurComboNbrQuestions);this.identDisponibiliteQCM=this.Add(ObjetDisponibilite,this.evntSurDisponibiliteQCM,this.initDisponibiliteQCM);};ObjetParamExecutionQCM.prototype.SetActif=function(aActif,aCloture,aClotureGlobal){this.Actif=aActif;this.cloture=aCloture;this.clotureGlobal=aClotureGlobal;};ObjetParamExecutionQCM.prototype.estEnModeConsultation=function(){return(!!this.cloture||!this.Actif||!!this.clotureGlobal);};ObjetParamExecutionQCM.prototype.initDisponibiliteQCM=function(aInstance){aInstance.setOptionsAffichage({afficherSurUneSeuleLigne:true,chaines:[GTraductions.getValeur('QCM_Divers.DispoDu'),GTraductions.getValeur('QCM_Divers.Au')],avecHeureDebut:true,avecHeureFin:this.executionQCM?true:false});};ObjetParamExecutionQCM.prototype.SetDonnees=function(aDonnees){this.estUneExecution=aDonnees.estUneExecution;this.estPourExecution=aDonnees.estPourExecution;this.afficherDatesPublication=aDonnees.afficherDatesPublication;this.afficherModeQuestionnaire=aDonnees.afficherModeQuestionnaire;this.afficherRessentiEleve=aDonnees.afficherRessentiEleve;this.afficherAssouplissement=aDonnees.afficherAssouplissement!==undefined?!!aDonnees.afficherAssouplissement:true;this.avecOptionTolererFausses=(aDonnees.avecOptionTolererFausses!==null)&&(aDonnees.avecOptionTolererFausses!==undefined)?aDonnees.avecOptionTolererFausses:false;this.autoriserSansCorrige=aDonnees.autoriserSansCorrige;this.executionQCM=aDonnees.executionQCM;this.cbNbrQuestions.setOptions_ObjetSaisie({mode:EGenreSaisie.Combo,longueur:50,avecBouton:true});this.initDisponibiliteQCM(this.GetInstance(this.identDisponibiliteQCM));};ObjetParamExecutionQCM.prototype.surModification=function(){this.executionQCM.SetEtat(EGenreEtat.Modification);this.callback.appel();};ObjetParamExecutionQCM.prototype.actualiser=function(){this.initialiserComboNbrQuestions();var lEnModeConsultation=this.estEnModeConsultation();var lInputs=$('#'+this.Nom.escapeJQ()+' input');lInputs.jIECheckBox();if(lEnModeConsultation){lInputs.prop('disabled',true).addClass(lEnModeConsultation?'AvecInterdiction':'AvecMain').removeClass(lEnModeConsultation?'AvecMain':'AvecInterdiction');this.cbNbrQuestions.SetActif(false);}
  if((this.estUneExecution||this.estPourExecution)&&(this.executionQCM.estVerrouille||this.executionQCM.avecPeriodeCloture)){$('#'+this.Nom.escapeJQ()).find(':checkbox, :radio, :text').prop('disabled',true);} else{$('#'+this.Nom.escapeJQ()).on('click',':radio',{aObjet:this},this._evenementSurBtnRadio);$('#'+this.Nom.escapeJQ()).on('click',':checkbox',{aObjet:this},this._evenementSurBtnCheck);$('#'+this.Nom.escapeJQ()).on('blur',':text',{aObjet:this},this._evntSurInputText);}
  if((this.estUneExecution||this.estPourExecution)&&this.afficherDatesPublication){this.GetInstance(this.identDisponibiliteQCM).SetDonnees({dateDebutPublication:this.executionQCM.dateDebutPublication,dateFinPublication:this.executionQCM.dateFinPublication,afficherSurUneSeuleLigne:true,chaines:[GTraductions.getValeur('QCM_Divers.DispoDu'),GTraductions.getValeur('QCM_Divers.Au')],actif:!lEnModeConsultation,actifFin:(this.executionQCM.estLieADevoir||this.executionQCM.estLieAEvaluation)&&!lEnModeConsultation});}
  if(this.executionQCM.afficherResultatNote===null){$('#'+this.Nom.escapeJQ()+' input[id="'+this.Nom+'_AfficherNoteInformatif"]').cbIndeterminate(true);}
  if(this.executionQCM.afficherResultatNiveauMaitrise===null){$('#'+this.Nom.escapeJQ()+' input[id="'+this.Nom+'_AfficherCartoucheInformatif"]').cbIndeterminate(true);}
  if(this.executionQCM.autoriserLaNavigation===null){$('#'+this.Nom.escapeJQ()+' input[id="'+this.Nom+'_InterdireNavigation"]').cbIndeterminate(true);}
  if(this.executionQCM.melangerLesQuestions===null){$('#'+this.Nom.escapeJQ()+' input[id="'+this.Nom+'_MelangeQuestions"]').cbIndeterminate(true);}
  if(this.executionQCM.melangerLesReponses===null){$('#'+this.Nom.escapeJQ()+' input[id="'+this.Nom+'_MelangeReponses"]').cbIndeterminate(true);}
  if(this.executionQCM.ressentiRepondant===null){$('#'+this.Nom.escapeJQ()+' input[id="'+this.Nom+'_PermettreRessentiEleve"]').cbIndeterminate(true);}
  if(this.executionQCM.acceptIncomplet===null){$('#'+this.Nom.escapeJQ()+' input[id="'+this.Nom+'_acceptIncomplet"]').cbIndeterminate(true);}
  if(this.executionQCM.tolererFausses===null){$('#'+this.Nom.escapeJQ()+' input[id="'+this.Nom+'_tolererFausses"]').cbIndeterminate(true);}
  if(this.executionQCM.dureeMaxQCM===null){$('#'+this.Nom.escapeJQ()+' input[id="'+this.Nom+'_LimiteDuree"]').cbIndeterminate(true);$('#'+this.Nom.escapeJQ()+' input[name="'+this.Nom+'_DureeMax"]').val('xx');}
  if(this.executionQCM.nombreQuestionsSoumises===null){this.cbNbrQuestions.SetContenu('xx');}};ObjetParamExecutionQCM.prototype.getQCM=function(){return this.estUneExecution?this.executionQCM.QCM:this.executionQCM;};ObjetParamExecutionQCM.prototype.initialiserComboNbrQuestions=function(){this.cbNbrQuestions.Initialiser();this.listeNbQuestions=new ObjetListeElements();var lNbrQuestionsTotalQCM=this.getQCM().nbQuestionsTotal;var lElementVide=new ObjetElement('',null,0);if(this.avecNbrQuestionsSoumises()){lElementVide.Visible=false;}
  this.listeNbQuestions.AddElement(lElementVide);for(var i=1;i<=lNbrQuestionsTotalQCM;i++){this.listeNbQuestions.AddElement(new ObjetElement(GChaine.CardinalToStr(i),null,i));}
  var lInit=(this.avecNbrQuestionsSoumises()!==null?this.executionQCM.nombreQuestionsSoumises:null);this.cbNbrQuestions.SetDonnees(this.listeNbQuestions,lInit);this.cbNbrQuestions.SetActif(!this.executionQCM.estVerrouille&&this.avecNbrQuestionsSoumises()&&(lNbrQuestionsTotalQCM>0));};ObjetParamExecutionQCM.prototype._evenementSurComboNbrQuestions=function(aGenreEvenement,aElement){switch(aGenreEvenement){case EGenreEvenementObjetSaisie.selection:if(this.executionQCM.nombreQuestionsSoumises!==aElement.GetGenre()){var lQCM=this.getQCM();var lValeurQuestion=lQCM.nombreDePointsTotal/lQCM.nbQuestionsTotal;this.executionQCM.nombreQuestionsSoumises=aElement.GetGenre();this.executionQCM.nombreDePoints=lValeurQuestion*this.executionQCM.nombreQuestionsSoumises;this.surModification();}
  break;default:break;}};ObjetParamExecutionQCM.prototype._evenementSurBtnRadio=function(aEvent){var lThis=aEvent.data.aObjet;var lObj={nom:$(this).attr('name'),valeur:GChaine.StrToCardinal($(this).val())};switch(lObj.nom){case lThis.Nom+'_ChoixDiffusionCorriges':lThis.executionQCM.modeDiffusionCorrige=lObj.valeur;break;case lThis.Nom+'_NbrQuestions':var lQCM=lThis.getQCM();lObj.valeur=GChaine.StrToBoolean($(this).val());$('#'+lThis.Nom.escapeJQ()+' input[id="'+lThis.Nom+'_MelangeQuestions"]').cbIndeterminate(false);if(lObj.valeur===true||!lQCM.avecQuestionsSoumises){lThis.executionQCM.nombreQuestionsSoumises=0;lThis.cbNbrQuestions.ViderContenu();lThis.listeNbQuestions.GetElementParGenre(0).SetActif(true);lThis.listeNbQuestions.GetElementParGenre(0).Visible=true;lThis.cbNbrQuestions.SetDonnees(lThis.listeNbQuestions);lThis.executionQCM.nombreDePoints=lQCM.nombreDePointsTotal;$('#'+lThis.Nom.escapeJQ()+' input[id="'+lThis.Nom+'_MelangeQuestions"]').inputDisabled(false);$('#'+lThis.Nom.escapeJQ()+' label[for="'+lThis.Nom+'_MelangeQuestions"]').removeClass('Gris');$('#'+lThis.Nom.escapeJQ()+' label[for="'+lThis.cbNbrQuestions.GetNom()+'"]').addClass('Gris');} else{lThis.listeNbQuestions.GetElementParGenre(0).SetActif(false);lThis.listeNbQuestions.GetElementParGenre(0).Visible=false;lThis.cbNbrQuestions.SetDonnees(lThis.listeNbQuestions,1);$('#'+lThis.Nom.escapeJQ()+' input[id="'+lThis.Nom+'_MelangeQuestions"]').inputDisabled(true);$('#'+lThis.Nom.escapeJQ()+' input[id="'+lThis.Nom+'_MelangeQuestions"]').inputChecked(false);$('#'+lThis.Nom.escapeJQ()+' label[for="'+lThis.Nom+'_MelangeQuestions"]').addClass('Gris');$('#'+lThis.Nom.escapeJQ()+' label[for="'+lThis.cbNbrQuestions.GetNom()+'"]').removeClass('Gris');}
  if(!lObj.valeur&&!lQCM.avecQuestionsSoumises){lObj.valeur=true;var lId=lObj.nom+'_'+lObj.valeur;$('#'+lId.escapeJQ()).inputChecked(true);GApplication.getMessage().afficher({type:EGenreBoiteMessage.Information,message:GTraductions.getValeur('FenetreParamExecutionQCM.msgBareme')});}
  var lNbrTotalQuestions=lThis.getQCM().nbQuestionsTotal;lThis.cbNbrQuestions.SetActif(!lObj.valeur&&lNbrTotalQuestions>0);break;}
  lThis.surModification();};ObjetParamExecutionQCM.prototype._evntSurInputText=function(aEvent){var lThis=aEvent.data.aObjet;var lObj={nom:$(this).attr('name'),valeur:parseInt($(this).val())||0};switch(lObj.nom){case lThis.Nom+'_DureeMax':if(lObj.valeur>120){lObj.valeur=120;GApplication.getMessage().afficher({type:EGenreBoiteMessage.Information,message:GTraductions.getValeur('FenetreDevoir.ValeurComprise',[0,120])});}
  $(this).val(lObj.valeur);lThis.executionQCM.dureeMaxQCM=TUtilitaireDuree.minEnDuree(lObj.valeur);break;}
  lThis.surModification();};ObjetParamExecutionQCM.prototype._evenementSurBtnCheck=function(aEvent){var lThis=aEvent.data.aObjet;var lObj={nom:$(this).attr('name'),valeur:$(this).is(':checked')};switch(lObj.nom){case lThis.Nom+'_InterdireNavigation':lThis.executionQCM.autoriserLaNavigation=lObj.valeur;break;case lThis.Nom+'_MelangeQuestions':lThis.executionQCM.melangerLesQuestions=lObj.valeur;break;case lThis.Nom+'_MelangeReponses':lThis.executionQCM.melangerLesReponses=lObj.valeur;break;case lThis.Nom+'_PermettreRessentiEleve':lThis.executionQCM.ressentiRepondant=lObj.valeur;break;case lThis.Nom+'_acceptIncomplet':lThis.executionQCM.acceptIncomplet=lObj.valeur;break;case lThis.Nom+'_tolererFausses':lThis.executionQCM.tolererFausses=lObj.valeur;break;case lThis.Nom+'_LimiteDuree':if(!lObj.valeur){lThis.executionQCM.dureeMaxQCM=0;$('#'+lThis.Nom.escapeJQ()+' input[name="'+lThis.Nom+'_DureeMax"]').val(0);}
  $('#'+lThis.Nom.escapeJQ()+' input[name="'+lThis.Nom+'_DureeMax"]').inputDisabled(!lObj.valeur);if(!$.isNumeric($('#'+lThis.Nom.escapeJQ()+' input[name="'+lThis.Nom+'_DureeMax"]').val())){$('#'+lThis.Nom.escapeJQ()+' input[name="'+lThis.Nom+'_DureeMax"]').val(0);}
  break;case lThis.Nom+'_AfficherNoteInformatif':lThis.executionQCM.afficherResultatNote=lObj.valeur;break;case lThis.Nom+'_AfficherCartoucheInformatif':lThis.executionQCM.afficherResultatNiveauMaitrise=lObj.valeur;break;}
  lThis.surModification();};ObjetParamExecutionQCM.prototype.evntSurDisponibiliteQCM=function(aDonnees){$.extend(this.executionQCM,aDonnees);this.GetInstance(this.identDisponibiliteQCM).SetDonnees({dateDebutPublication:this.executionQCM.dateDebutPublication,dateFinPublication:this.executionQCM.dateFinPublication,afficherSurUneSeuleLigne:true,chaines:[GTraductions.getValeur('QCM_Divers.DispoDu'),GTraductions.getValeur('QCM_Divers.Au')],actif:true,actifFin:this.executionQCM.estLieADevoir||this.executionQCM.estLieAEvaluation});this.surModification();};ObjetParamExecutionQCM.prototype.composeFieldset=function(aObj){var lObj=$.extend({},{condition:true},aObj);var T=[];var lCouleur=GCouleur.bordure;if(lObj.condition){T.push('<ul style="margin:0;padding:0;border-bottom:'+lCouleur+' 1px solid;">','<li style="color:'+lCouleur+';list-style-position:inside;"><span style="color:'+GCouleur.noir+'">',lObj.titre,'</span></li>','</ul>');T.push('<div style="margin:0 0 10px;padding:10px;line-height:25px;">');T.push(lObj.contenu);T.push('</div>');}
  return T.join('');};ObjetParamExecutionQCM.prototype.composeBtnCheck=function(aObj){var lObj=$.extend({actif:true},aObj);var lChecked=lObj.selection?'checked':'';var lActif=lObj.actif?'':'disabled';var T=[];T.push('<input class="AlignementMilieuVertical" id="',aObj.nom,'" name="',aObj.nom,'" type="checkbox" ',lChecked,' ',lActif,' /><label class="EspaceGauche AvecMain AlignementMilieuVertical'+(lObj.actif?'':' Gris')+'" for="',aObj.nom,'">',lObj.libelle,'</label>');return T.join('');};ObjetParamExecutionQCM.prototype.composeBtnRadio=function(aObj,aSelection){var lObj=$.extend({actif:true},aObj);var lChecked=(aObj.valeur===aSelection)?'checked':'';var lActif=lObj.actif?'':'disabled';var lId=aObj.nom+'_'+aObj.valeur;var T=[];T.push('<input class="AlignementMilieuVertical" id="',lId,'" name="',aObj.nom,'" type="radio" value="',aObj.valeur,'" ',lChecked,' ',lActif,'/><label class="EspaceGauche AvecMain AlignementMilieuVertical'+(lObj.actif?'':' Gris')+'" for="',lId,'">',lObj.libelle,'</label>');return T.join('');};ObjetParamExecutionQCM.prototype.composeBtnRadioDiffusionCorrige=function(aObj){$.extend(aObj,{nom:this.Nom+'_ChoixDiffusionCorriges'});return this.composeBtnRadio(aObj,this.executionQCM.modeDiffusionCorrige);};ObjetParamExecutionQCM.prototype.composeBtnRadioNbrQuestions=function(aObj){$.extend(aObj,{nom:this.Nom+'_NbrQuestions'});return this.composeBtnRadio(aObj,this.avecNbrQuestionsSoumises()!==null?!this.avecNbrQuestionsSoumises():null);};ObjetParamExecutionQCM.prototype.composeInputDureeMax=function(){var lObj={nom:this.Nom+'_DureeMax',valeur:TUtilitaireDuree.dureeEnMin(this.executionQCM.dureeMaxQCM),libelle:GTraductions.getValeur('FenetreParamExecutionQCM.Minutes'),maxSize:3,actif:this.avecDureeMaxQCM()};var lActif=lObj.actif?'':'disabled';var T=[];var lCouleur=GCouleur.intermediaire;T.push('<input id="',lObj.nom,'" name="',lObj.nom,'" class="Texte10 AvecMain" type="text" size="',lObj.maxSize,'" maxlength="',lObj.maxSize,'" value="',lObj.valeur,'" style="border:'+lCouleur+' 1px solid;" ',lActif,' />');T.push('<label class="EspaceGauche" for="',lObj.nom,'">',lObj.libelle,'</label>');return T.join('');};ObjetParamExecutionQCM.prototype.avecNbrQuestionsSoumises=function(){return this.executionQCM.nombreQuestionsSoumises!==null?(this.executionQCM.nombreQuestionsSoumises>0):null;};ObjetParamExecutionQCM.prototype.avecDureeMaxQCM=function(){return this.executionQCM.dureeMaxQCM>0;};ObjetParamExecutionQCM.prototype.ComposeContenu=function(){var T=[];if(this.executionQCM){T.push('<div id="',this.Nom,'" class="Texte10 Espace" style="">');if(this.estUneExecution||this.estPourExecution){if(this.afficherDatesPublication){T.push('<div style="margin-bottom:10px;">',this.composeDatesPublication(),'</div>');}
  if(this.executionQCM.estVerrouille||this.executionQCM.avecPeriodeCloture){T.push('<div style="margin-bottom:10px;" class="Gras TexteRouge">',GChaine.ToHTML(GTraductions.getValeur('QCM_Divers.ExecVerrouillee')));}
  if(this.executionQCM.estVerrouille){if(this.executionQCM.nbRepondu>0){T.push('<br />',GChaine.ToHTML(GTraductions.getValeur('QCM_Divers.ExecDejaRepondu')));} else{T.push('<br />',GChaine.ToHTML(GTraductions.getValeur('QCM_Divers.ExecVerrouilleeAucuneExecution')));}}
  if(this.executionQCM.avecPeriodeCloture){T.push('<br />',GChaine.ToHTML(GTraductions.getValeur('QCM_Divers.ExecPeriodeCloture')));}
  if(this.executionQCM.estVerrouille||this.executionQCM.avecPeriodeCloture){T.push('</div>');}
  if(this.afficherModeQuestionnaire){T.push('<div>',this.composeModeQuestionnaire(),'</div>');}}
  T.push('<div>',this.composeDiffusionCorriges(),'</div>');T.push('<div>',this.composePresentationQuestions(),'</div>');if(this.afficherAssouplissement){T.push('<div>',this.composeAssouplissement(),'</div>');}
  if(this.afficherRessentiEleve){T.push('<div>',this.composeRessentiEleve(),'</div>');}
  T.push('</div>');}
  return T.join('');};ObjetParamExecutionQCM.prototype.composeDatesPublication=function(){return'<div id="'+this.GetInstance(this.identDisponibiliteQCM).GetNom()+'" ></div>';};ObjetParamExecutionQCM.prototype.composeModeQuestionnaire=function(){var T=[];if(this.executionQCM.estLieAEvaluation){T.push(GTraductions.getValeur('FenetreParamExecutionQCM.ResultatAvecEvaluationComptabilisee'));}
  if(this.executionQCM.estLieADevoir){if(T.length>0){T.push('<br/>');}
  T.push(GTraductions.getValeur('FenetreParamExecutionQCM.ResultatAvecNoteComptabilisee'));if(this.executionQCM.ramenerSur20){var lBaremeParDefaut=(!!this.executionQCM.baremeDevoirParDefaut?this.executionQCM.baremeDevoirParDefaut:GParametres.baremeNotation);if(!!lBaremeParDefaut){T.push('&nbsp;/&nbsp;',lBaremeParDefaut.getValeur());}}}
  if(!this.executionQCM.estLieADevoir&&!this.executionQCM.estLieAEvaluation){var lOnAfficheOptionCartoucheInformatif=false;if(!!!!this.executionQCM.QCM&&this.executionQCM.QCM.nbCompetencesTotal){lOnAfficheOptionCartoucheInformatif=true;if(!!this.executionQCM.listeServices&&this.executionQCM.listeServices.GetNbrElements()>0&&!!this.executionQCM.QCM.listeServicesCompatiblesAvecCompetencesDuQCM&&this.executionQCM.QCM.listeServicesCompatiblesAvecCompetencesDuQCM.GetNbrElements()>0){lOnAfficheOptionCartoucheInformatif=false;var lListeServicesQCMCompatibles=this.executionQCM.QCM.listeServicesCompatiblesAvecCompetencesDuQCM;this.executionQCM.listeServices.parcourir(function(aServiceExecQCM){if(!!aServiceExecQCM&&!!lListeServicesQCMCompatibles.GetElementParElement(aServiceExecQCM)){lOnAfficheOptionCartoucheInformatif=true;return false;}});}}
  if(lOnAfficheOptionCartoucheInformatif){T.push(this.composeBtnCheck({nom:this.Nom+'_AfficherCartoucheInformatif',selection:this.executionQCM.afficherResultatNiveauMaitrise,libelle:GTraductions.getValeur('FenetreParamExecutionQCM.ResultatAfficherCartoucheInformatif')}));T.push('<br/>');}
  T.push(this.composeBtnCheck({nom:this.Nom+'_AfficherNoteInformatif',selection:this.executionQCM.afficherResultatNote,libelle:GTraductions.getValeur('FenetreParamExecutionQCM.ResultatAfficherNoteInformatif')}));}
  return this.composeFieldset({condition:(this.estUneExecution&&this.afficherModeQuestionnaire),titre:GTraductions.getValeur('FenetreParamExecutionQCM.ResultatTitre'),contenu:T.join('')});};ObjetParamExecutionQCM.prototype.composeDiffusionCorriges=function(){var T=[];T.push(this.composeBtnRadioDiffusionCorrige({valeur:TypeModeCorrectionQCM.FBQ_CorrigeSans,libelle:GTraductions.getValeur('FenetreParamExecutionQCM.CorrigeSans'),actif:this.autoriserSansCorrige}),'<br />');T.push(this.composeBtnRadioDiffusionCorrige({valeur:TypeModeCorrectionQCM.FBQ_CorrigeApresQuestion,libelle:GTraductions.getValeur('FenetreParamExecutionQCM.CorrigeApresChaqueQuestion')}),'<br />');T.push(this.composeBtnRadioDiffusionCorrige({valeur:TypeModeCorrectionQCM.FBQ_CorrigeALaFin,libelle:GTraductions.getValeur('FenetreParamExecutionQCM.CorrigeALaFin')}));return this.composeFieldset({titre:GTraductions.getValeur('FenetreParamExecutionQCM.DiffusionCorriges'),contenu:T.join('')});};ObjetParamExecutionQCM.prototype.composePresentationQuestions=function(){var T=[];T.push(this.composeChoixNbrQuestions(),'<br />');T.push(this.composeAutresParametres());return this.composeFieldset({titre:GTraductions.getValeur('FenetreParamExecutionQCM.PresentationQuestions'),contenu:T.join('')});};ObjetParamExecutionQCM.prototype.composeChoixNbrQuestions=function(){var T=[];var lActif=!this.avecNbrQuestionsSoumises();T.push(this.composeBtnRadioNbrQuestions({valeur:true,libelle:GTraductions.getValeur('FenetreParamExecutionQCM.ToutesLesQuestions')}),'<br />');T.push('<span class="GrandEspaceGauche">',this.composeBtnCheck({nom:this.Nom+'_MelangeQuestions',selection:this.executionQCM.melangerLesQuestions,libelle:GTraductions.getValeur('FenetreParamExecutionQCM.OrdreQuestionAleatoire'),actif:lActif}),'</span>','<br />');T.push(this.composeBtnRadioNbrQuestions({valeur:false,libelle:GTraductions.getValeur('FenetreParamExecutionQCM.SeulementQuestions')}));T.push('<span class="InlineBlock AlignementMilieuVertical EspaceDroit EspaceGauche" id="'+this.cbNbrQuestions.GetNom()+'"></span>');T.push('<label for="'+this.cbNbrQuestions.GetNom()+'" class="'+(lActif?'Gris':'')+'">'+GTraductions.getValeur('FenetreParamExecutionQCM.QuestionsPrisesAuHasard')+'</label>');return T.join('');};ObjetParamExecutionQCM.prototype.composeAutresParametres=function(){var T=[];T.push(this.composeBtnCheck({nom:this.Nom+'_InterdireNavigation',selection:this.executionQCM.autoriserLaNavigation,libelle:GTraductions.getValeur('FenetreParamExecutionQCM.PresentationInterdirNavigation')}),'<br />');T.push(this.composeBtnCheck({nom:this.Nom+'_MelangeReponses',selection:this.executionQCM.melangerLesReponses,libelle:GTraductions.getValeur('FenetreParamExecutionQCM.OrdreReponseAleatoire')}),'<br />');T.push(this.composeBtnCheck({nom:this.Nom+'_LimiteDuree',selection:this.avecDureeMaxQCM(),libelle:GTraductions.getValeur('FenetreParamExecutionQCM.LimiterTempsQuestionnaire')}));T.push('<span class="EspaceDroit"></span>');T.push(this.composeInputDureeMax());return T.join('');};ObjetParamExecutionQCM.prototype.composeRessentiEleve=function(){return this.composeFieldset({titre:GTraductions.getValeur('FenetreParamExecutionQCM.RessentiEleve'),contenu:this.composeBtnCheck({nom:this.Nom+'_PermettreRessentiEleve',selection:this.executionQCM.ressentiRepondant,libelle:GTraductions.getValeur('FenetreParamExecutionQCM.PermettreRessentiEleve')})});};ObjetParamExecutionQCM.prototype.composeAssouplissement=function(){var T=[];var lLibelleAcceptIncomplet=this.avecOptionTolererFausses?GTraductions.getValeur('FenetreParamExecutionQCM.tolererIncomplet'):GTraductions.getValeur('FenetreParamExecutionQCM.acceptIncomplet');T.push(this.composeBtnCheck({nom:this.Nom+'_acceptIncomplet',selection:this.executionQCM.acceptIncomplet,libelle:lLibelleAcceptIncomplet}));if(this.avecOptionTolererFausses){T.push('<br />');T.push(this.composeBtnCheck({nom:this.Nom+'_tolererFausses',selection:this.executionQCM.tolererFausses,libelle:GTraductions.getValeur('FenetreParamExecutionQCM.tolererFausses')}));}
  return this.composeFieldset({titre:GTraductions.getValeur('FenetreParamExecutionQCM.Assouplissement'),contenu:T.join('')});};module.exports=ObjetParamExecutionQCM;},fn:"objetparamexecutionqcm.js"});;
  IE.fModule({f:function(exports,require,module,global){var MethodesObjet=require('MethodesObjet.js');var ObjetFenetre=require('ObjetFenetre.js');var ObjetParamExecutionQCM=require('ObjetParamExecutionQCM.js');MethodesObjet.heritagePrototype(ObjetFenetre_ParamExecutionQCM,ObjetFenetre);function ObjetFenetre_ParamExecutionQCM(){this.inheritedCreate(arguments);}
  ObjetFenetre_ParamExecutionQCM.prototype.ConstruireInstances=function(){this.identParamExecQCM=this.Add(ObjetParamExecutionQCM);};ObjetFenetre_ParamExecutionQCM.prototype.SetActif=function(aActif,aCloture,aClotureGlobal){this.Actif=aActif;this.cloture=aCloture;this.clotureGlobal=aClotureGlobal;};ObjetFenetre_ParamExecutionQCM.prototype.SetDonnees=function(aDonnees){this.paramOrigine=aDonnees.executionQCM;this.paramModifie=MethodesObjet.dupliquer(aDonnees.executionQCM);var lDonnees={estUneExecution:aDonnees.estUneExecution!==undefined?aDonnees.estUneExecution:true,estPourExecution:aDonnees.estPourExecution!==undefined?aDonnees.estPourExecution:false,afficherDatesPublication:!!this.paramOrigine.estUnTAF,afficherModeQuestionnaire:aDonnees.afficherModeQuestionnaire,afficherRessentiEleve:aDonnees.afficherRessentiEleve,autoriserSansCorrige:aDonnees.autoriserSansCorrige,avecOptionTolererFausses:aDonnees.avecOptionTolererFausses,executionQCM:this.paramModifie};this.GetInstance(this.identParamExecQCM).SetActif(this.Actif,this.cloture,this.clotureGlobal);this.GetInstance(this.identParamExecQCM).SetDonnees(lDonnees);this.Actualiser();this.Afficher();this.GetInstance(this.identParamExecQCM).actualiser();};ObjetFenetre_ParamExecutionQCM.prototype.ComposeContenu=function(){return this.GetInstance(this.identParamExecQCM).ComposeContenu();};ObjetFenetre_ParamExecutionQCM.prototype.SurValidation=function(aNumeroBouton){this.Fermer();this.callback.appel(aNumeroBouton,(aNumeroBouton>0)?this.paramModifie:this.paramOrigine);};module.exports=ObjetFenetre_ParamExecutionQCM;},fn:"objetfenetre_paramexecutionqcm.js"});;
  IE.fModule({f:function(exports,require,module,global){var MethodesObjet=require('MethodesObjet.js');var GStyle=require('GStyle.js');var ObjetFenetre=require('ObjetFenetre.js');var GTraductions=require('ObjetTraduction.js');var TypeGenreExerciceDeQuestionnaire=require('TypeGenreExerciceDeQuestionnaire.js').TypeGenreExerciceDeQuestionnaire;var TUtilitaireDuree=require('UtilitaireDuree.js');var ObjetUtilitaireQCM=require('UtilitaireQCM.js').ObjetUtilitaireQCM
  ;MethodesObjet.heritagePrototype(ObjetUtilitaireQCM_Espace,ObjetUtilitaireQCM);function ObjetUtilitaireQCM_Espace(){this.inheritedCreate();this.classWrapperInput='utilitaireQCMWrapperInput';this.classWrapperBracket='utilitaireQCMWrapperBracket';}
  var lInstance=new ObjetUtilitaireQCM_Espace();ObjetUtilitaireQCM_Espace.prototype.composeEnonce=function(aQuestion,aNomThis,aIndiceQuestion){var lEnonceHtml=aQuestion.enonce,lResponse;var lIndice=0;if(aQuestion.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_ClozeField||aQuestion.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_ClozeFixed||aQuestion.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_ClozeVariable){lEnonceHtml=lEnonceHtml.replace(/&#039;/gi,'&apos;');if(aQuestion.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_ClozeField&&aQuestion.enonce.match(/{#}/gi)){lEnonceHtml=lEnonceHtml.replace(/{#}/gi,'<input type="text" id="'+aNomThis+'_q'+aIndiceQuestion+'_r'+(lIndice++)+'" class="objetVisuEleveInputCloze" />');} else if(aQuestion.listeReponses&&aQuestion.listeReponses.GetNbrElements()&&aQuestion.listeReponses.GetNbrElements()===aQuestion.enonce.match(/{#}/gi).length){for(var i=0;i<aQuestion.listeReponses.GetNbrElements();i++){lEnonceHtml=lEnonceHtml.replace('{#}','<label class="objetVisuEleveInputSelect"><select id="'+aNomThis+'_q'+aIndiceQuestion+'_r'+i+'"  class="objetVisuEleveInputSelect"><option value=""></option>'+$.map(aQuestion.listeReponses.GetElement(i).listeChoix,function(val){return'<option value="'+val+'">'+val+'</option>';}).join('')+'</select></label>');}} else{var lThis=this;lEnonceHtml=lEnonceHtml.replace(/{[0-9]*:(ShortAnswer|MultiChoice):(~*(%[0-9]{1,3}%|=)?[^~%#{}]+#?[^~%#{}]*)+}/gi,function(ele){var lHtml='';var lSpans=[];var lHtmlConverter=document.createElement('div');if(aQuestion.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_ClozeVariable){lHtml='<span style="border:'+GCouleur.intermediaire+' 1px solid;">';var lResponses=ele.match(/((multichoice:|shortanswer:|~)(%[0-9]{1,3}%|=)?[^~%#{}]+#?[^~%#{}]*)/gi);for(var x in lResponses){if(!$.isNumeric(x)){continue;}
  lResponses[x]=lResponses[x].replace(/^(multichoice:|shortanswer:)/i,'');lResponses[x]=lResponses[x].replace(/^(:|~)?=/,'%100%');lResponses[x]=lResponses[x].replace(/^(:|~)?([^~%#{}])/,'%0%$2');lResponse=lResponses[x].split('%');lResponse.splice(2,1,lResponse[2].split('#')[0],lResponse[2].split('#')[1]);lHtmlConverter.textContent=lResponse[2];lSpans.push('<span style="color:'+(lResponse[1]==='100'?lThis.couleurBonneReponse:lThis.couleurFausseReponse)+';">'+lHtmlConverter.innerHTML+'</span>');}
  lHtml+=lSpans.join(' | ');lHtml+='</span>';} else{lResponse=ele.match(/(?:multichoice:|shortanswer:|~)(?:%100%|=)([^~%#{}]+)#?[^~%#{}]*/i);lHtmlConverter.textContent=lResponse[1];lHtml='<span style="color:'+lThis.couleurBonneReponse+';border:'+GCouleur.intermediaire+' 1px solid;">'+lHtmlConverter.innerHTML+'</span>';}
  return lHtml;});}}
  return lEnonceHtml;};ObjetUtilitaireQCM_Espace.prototype.composeReponses=function(aThis,aQuestion,aIndiceQuestion,aAvecReponse,aAvecFeedback){var lHtml=[],lReponse,i;var lPrefixeIdQuestion=aThis.Nom+'_q'+aIndiceQuestion;if(aQuestion.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_SingleChoice||aQuestion.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_MultiChoice){var lType='checkbox';if(aQuestion.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_SingleChoice){lType='radio';}
  var lModeBouton=!aAvecReponse&&!aAvecFeedback;for(i=0;lModeBouton&&i<aQuestion.listeReponses.GetNbrElements();i++){lReponse=aQuestion.listeReponses.GetElement(i);if(lReponse.image||lReponse.editionAvancee){lModeBouton=false;}}
  lHtml.push('<table cellpadding="0" cellspacing="0" style="">');if(!aAvecReponse){lHtml.push('<tr><td class="AlignementHaut"></td><td></td><td></td><td style="padding-left:20px;border-left:#fff 2px solid;"><div class="objetVisuEleveLabelCorrige">'+GTraductions.getValeur('ExecutionQCM.LabelCorrige')+'</div></td></tr>');}
  for(i=0;i<aQuestion.listeReponses.GetNbrElements();i++){lReponse=aQuestion.listeReponses.GetElement(i);if(!lReponse.Existe()){continue;}
  lHtml.push('<tr><td style="" class="AlignementHaut">');lHtml.push(this.composeSingleMulti({objetThis:aThis,indiceQuestion:aIndiceQuestion,reponse:lReponse,indiceReponse:i,type:lType,modeBouton:lModeBouton,avecReponse:aAvecReponse,avecFeedback:aAvecFeedback,dernier:i===aQuestion.listeReponses.GetNbrElements()-1}));if(!aAvecReponse){lHtml.push('</td><td class="AlignementMilieuVertical AlignementMilieu" style="width:41px;">');lHtml.push('</td><td class="AlignementHaut" style="padding-right:20px;">');lHtml.push('</td><td style="padding-left:20px;" class="AlignementHaut objetVisuEleveCorrige">');lHtml.push('<div id="',lPrefixeIdQuestion,'_corrige',i,'"></div>');}
  lHtml.push('</td></tr>');}
  lHtml.push('</table>');} else if(aQuestion.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_ShortAnswer||aQuestion.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_NumericalAnswer){if(aAvecReponse&&aQuestion.listeReponses.GetNbrElements()){lHtml.push('<ul>');for(i=0;i<aQuestion.listeReponses.GetNbrElements();i++){lReponse=aQuestion.listeReponses.GetElement(i);if(!lReponse.Existe()){continue;}
  lHtml.push('<li>');lHtml.push(lReponse.GetLibelle());if(aAvecFeedback&&lReponse.feedback!==''){lHtml.push('<span style="color:'+(lReponse.bonneReponse?this.couleurBonneReponse:this.couleurFausseReponse)+';" class="EspaceGauche">&#x27AA;&nbsp;'+lReponse.feedback+'</span>');}
  lHtml.push('</li>');}
  lHtml.push('</ul>');} else{lHtml.push('<table cellpadding="0" cellspacing="0" style="">');lHtml.push('<tr><td class="AlignementHaut"></td><td></td><td style="padding-left:20px;border-left:#fff 2px solid;"><div class="objetVisuEleveLabelCorrige">'+GTraductions.getValeur('ExecutionQCM.LabelCorrige')+'</div></td></tr>');lHtml.push('<tr><td class="AlignementHaut">');lHtml.push('<input type="text" id="',lPrefixeIdQuestion,'_r0" class="objetVisuEleveInput" maxlength="35"/>');lHtml.push('</td><td class="AlignementHaut" style="padding-right:20px;">');lHtml.push('</td><td style="min-width:50%;padding-left:20px;" class="AlignementHaut objetVisuEleveCorrige">');lHtml.push('<div id="',lPrefixeIdQuestion,'_corrige0"></div>');lHtml.push('<div id="',lPrefixeIdQuestion,'_feedback0"></div>');lHtml.push('</td></tr>');lHtml.push('</table>');}} else if(aQuestion.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_Matching&&!aAvecReponse){var lProp=[];var lAssoc=[];var lAnswer=[];var lReponses=[];for(i=0;i<aQuestion.listeReponses.GetNbrElements();i++){lReponse=aQuestion.listeReponses.GetElement(i);if(!lReponse.Existe()){continue;}
  lProp.push('<li id="',lPrefixeIdQuestion,'_assoc',i,'" style="padding:5px;border:#ccc 1px solid;margin:5px;">',lReponse.GetLibelle(),'</li>');lAssoc.push('<li id="',lPrefixeIdQuestion,'_drop',i,'" style="padding:5px;border:#ccc 1px dashed;margin:5px;">&nbsp;</li>');if($.inArray(lReponse.association,lReponses)=== -1){lAnswer.push('<li id="',lPrefixeIdQuestion,'_r',i,'" style="padding:5px;border:#ccc 1px solid;margin:5px;background-color:#fff;cursor:move;display:inline-block;">',lReponse.association,'</li>');lReponses.push(lReponse.association);}}
  lHtml=lHtml.concat(['<table cellpadding="0" cellspacing="0" style="width:100%">','<tr><td class="AlignementHaut"></td><td class="AlignementHaut"></td><td style="padding-left:20px;border-left:#fff 2px solid;"><div class="objetVisuEleveLabelCorrige">'+GTraductions.getValeur('ExecutionQCM.LabelCorrige')+'</div></td></tr>','<tr><td class="AlignementHaut" style="width:60%;">'],['<div style="overflow:auto;line-height:110%;"><ul class="objetVisuEleveAssoc objetVisuEleveProp" style="float:left;list-style:none;width:50%;margin:0;padding:0;">'],lProp,['</ul><ul class="objetVisuEleveAssoc objetVisuEleveAssocReponses" style="float:left;list-style:none;width:50%;margin:0;padding:0;">'],lAssoc,['</ul></div>'],['</td>','<td class="AlignementHaut" style="width:6%;">','<ul class="objetVisuEleveAssoc objetVisuEleveAssocCoches" style="list-style:none;width:100%;margin:0;padding:0;"></ul>','</td>','<td style="width:33%;padding-left:20px;" class="AlignementHaut objetVisuEleveCorrige">'],['<div style="overflow:auto;line-height:110%;"><ul class="objetVisuEleveAssoc objetVisuEleveAssocCorriges" style="list-style:none;width:100%;margin:0;padding:0;"></ul></div>'],['</td></tr>','</table>'],['<ul id="',lPrefixeIdQuestion,'_choix" class="objetVisuEleveAssocChoix" style="list-style:none;position:relative;line-height:110%;padding:10px;">'],lAnswer,['</ul>']);} else if(aQuestion.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_Matching&&aAvecReponse){for(i=0;i<aQuestion.listeReponses.GetNbrElements();i++){lReponse=aQuestion.listeReponses.GetElement(i);if(!lReponse.Existe()){continue;}
  lHtml.push(lReponse.GetLibelle()+' <span class="Texte12">&harr;</span> '+lReponse.association+'<br />');}} else if(aQuestion.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_SpellAnswer){lReponse=aQuestion.listeReponses.GetElement(0);if(lReponse&&aAvecReponse){lHtml.push($.map(lReponse.GetLibelle().split(''),function(aVal){return'<span class="Texte10 EspaceDroit InlineBlock" style="width:9px;text-align:center;border:0;border-bottom:1px #000 solid;margin-right:5px;padding:0;">'+aVal+'</span>';}).join(''));if(aAvecFeedback&&lReponse.feedback!==''){lHtml.push('<span style="color:'+(this.couleurBonneReponse)+';" class="EspaceGauche">&#x27AA;&nbsp;'+lReponse.feedback+'</span>');}} else if(lReponse){lHtml.push('<table cellpadding="0" cellspacing="0" style="">');lHtml.push('<tr><td class="AlignementHaut"></td><td></td><td style="padding-left:10px;border-left:#fff 2px solid;"><div class="objetVisuEleveLabelCorrige">'+GTraductions.getValeur('ExecutionQCM.LabelCorrige')+'</div></td></tr>');lHtml.push('<tr><td class="AlignementHaut">');lHtml.push($.map(lReponse.GetLibelle().split(''),function(aVal){return'<input name="'+lPrefixeIdQuestion+'_r" type="text" maxLength="1" size="1"'+' style="text-align:center;border:0;border-bottom:1px #000 solid;margin-right:5px;padding:0;width:22px;"'+' onkeyup="if($(this).val() !== \'\' && $(this).next(\'input\')) if(!(event.keyCode === require(\'ToucheClavier.js\').Tab && event.shiftKey) && event.keyCode !== require(\'ToucheClavier.js\').Shift) $(this).next(\'input\').focus();"'+' onkeydown="if(event.keyCode === require(\'ToucheClavier.js\').Backspace && $(this).val() === \'\' && $(this).prev(\'input\')) $(this).prev(\'input\').focus().val(\'\');"'+' />';}).join(''));lHtml.push('</td><td class="AlignementHaut">');lHtml.push('</td><td style="min-width:50%;padding-left:10px;" class="AlignementHaut objetVisuEleveCorrige">');lHtml.push('<div id="',lPrefixeIdQuestion,'_corrige"></div>');lHtml.push('<div id="',lPrefixeIdQuestion,'_feedback" style="line-height:110%;"></div>');lHtml.push('</td></tr>');lHtml.push('</table>');}}
  return lHtml;};ObjetUtilitaireQCM_Espace.prototype.composeSingleMulti=function(aParam){var lHtml=[];var lIdQuestion=aParam.objetThis.Nom+'_q'+aParam.indiceQuestion;var lChecked=(aParam.avecReponse&&aParam.reponse.bonneReponse?' checked="checked"':'');lHtml.push('<div class="'+(aParam.modeBouton?'objetVisuEleveBouton AlignementMilieu':'')+(aParam.modeBouton&&lChecked?' objetVisuEleveBoutonChecked':'')+'" id="',lIdQuestion,'_div_r',aParam.indiceReponse,'"'+' style="'+(aParam.modeBouton?'border:'+GCouleur.fenetre.nonEditable.bordure+' 1px solid;'+GStyle.composeTransitions('transform -webkit-transform background','0.25s'):'width:100%;'+(!aParam.dernier&&(aParam.reponse.image||aParam.reponse.editionAvancee)?'padding-bottom:7px;border-bottom:'+GCouleur.grisClair+' 1px solid;margin-bottom:8px;':(!aParam.dernier?'margin-bottom:15px;':'')))+'">');lHtml.push('<div class="InlineBlock AlignementHaut ',this.classWrapperInput,'"'+(aParam.modeBouton?' style="width:0px;height:0px;overflow:hidden;"':'')+'>');if(!aParam.pourCorrige){lHtml.push('<input type="',aParam.type,'" id="',lIdQuestion,'_r',aParam.indiceReponse,'" name="',lIdQuestion,'"'+lChecked+' />');} else{if(aParam.type==='radio'){if(lChecked){lHtml.push('<span class="InlineBlock AlignementHaut Image_RadioB_Coche_Fenetre" style="margin-right:2px">&nbsp;</span>');} else{lHtml.push('<span class="InlineBlock AlignementHaut Image_RadioB_Decoche_Fenetre" style="margin-right:2px">&nbsp;</span>');}} else if(aParam.type==='checkbox'){if(lChecked){lHtml.push('<span class="InlineBlock AlignementHaut Image_CheckB_Coche_Fenetre" style="margin-right:2px">&nbsp;</span>');} else{lHtml.push('<span class="InlineBlock AlignementHaut Image_CheckB_Decoche_Fenetre" style="margin-right:2px">&nbsp;</span>');}}}
  lHtml.push('</div>');lHtml.push('<div class="InlineBlock AlignementMilieuVertical '+(aParam.modeBouton?' AlignementMilieu':' EspaceGauche')+'" style="line-height:110%;'+(aParam.modeBouton?'width:100%;':'max-width:95%;')+'overflow:hidden;">');lHtml.push('<div class="AlignementMilieuVertical">');lHtml.push('<label for="',lIdQuestion,'_r',aParam.indiceReponse,'" style="'+(aParam.modeBouton?'padding:15px;display:block;':'')+'">',(!aParam.reponse.editionAvancee?aParam.reponse.GetLibelle():aParam.reponse.libelleHtml),'</label>');if(aParam.avecFeedback&&aParam.reponse.feedback!==''){lHtml.push(' <span style="color:'+(aParam.reponse.bonneReponse?this.couleurBonneReponse:this.couleurFausseReponse)+';" class="EspaceGauche">&#x27AA;&nbsp;'+aParam.reponse.feedback+'</span>');}
  if(aParam.reponse.image){lHtml.push('<div style="padding:3px;"><img src="data:image/png;base64,'+aParam.reponse.image+'" onerror="$(this).parent().IEHtml(GTraductions.getValeur(\'ExecutionQCM.ImageNonSupportee\'));"',(aParam.objetThis.actualiserHauteurReponse?'onload="'+aParam.objetThis.Nom+'.actualiserHauteurReponse(\''+lIdQuestion+'_div_r'+aParam.indiceReponse+'\');"':''),' /></div>');}
  lHtml.push('</div>');lHtml.push('</div>');lHtml.push('</div>');return lHtml.join('');};lInstance.getStrResumeModalites=function(aExec,aSansDuree){var H=[];var lNbQuestions=aExec.nombreQuestionsSoumises>0?aExec.nombreQuestionsSoumises:aExec.QCM.nbQuestionsTotal;H.push(GTraductions.getValeur('SaisieQCM.NbQuestions',[lNbQuestions]));if(aExec.dureeMaxQCM>0&&aSansDuree!==true){H.push(' - ',GTraductions.getValeur('SaisieQCM.DureeExec',[TUtilitaireDuree.dureeEnMin(aExec.dureeMaxQCM)]));}
  return H.join('');};lInstance.fenetreParamExecutionQCM=function(aPere,aEvenement,aOptionsFenetre,aDonnees){var lFenetre=ObjetFenetre.creerInstance(require('ObjetFenetre_ParamExecutionQCM.js'),{pere:aPere,evenement:aEvenement},$.extend({largeur:500,listeBoutons:[GTraductions.getValeur('Annuler'),GTraductions.getValeur('Valider')]},aOptionsFenetre));lFenetre.SetDonnees(aDonnees);return lFenetre;};require('UtilitaireQCM.js').UtilitaireQCM=lInstance;module.exports={ObjetUtilitaireQCM_Espace:ObjetUtilitaireQCM_Espace,UtilitaireQCM:lInstance};},fn:"espace/script/utilitaire/utilitaireqcm_espace.js"});;
  IE.fModule({f:function(exports,require,module,global){var TypeQualificatifReponse={qrBonne:0,qrBonnePartielle:1,qrFausse:2,qrSansReponse:3};module.exports.TypeQualificatifReponse=TypeQualificatifReponse;},fn:"typequalificatifreponse.js"});;
  IE.fModule({f:function(exports,require,module,global){require('Espace/css/IEHtml.CheckboxRadio_Espace.css');require('Mobile/css/IEHtml.CheckboxRadio_Mobile.css');require('Espace/css/IESwitch.css');var IEHtml=require('IEHtml.js');function _creerCBEtRB(aContexteCourant,aType,aOutils){var lInnerHTML=aContexteCourant.node.innerHTML,lAvecIEHtml=aOutils.hasAttribute(aContexteCourant.node,'ie-html'),lAvecIETexte=aOutils.hasAttribute(aContexteCourant.node,'ie-texte'),lAvecLibelle=lInnerHTML.length>0||lAvecIEHtml||lAvecIETexte,lJModele,lJInput,lRacine,llName,lContexteCourant,lNomModele=aOutils.getModel(aContexteCourant),lMap=aOutils.getMapDeNode(aContexteCourant.node),lEventMap,lEtatIndetermine=false,lSubstitution=true;var lEstGauche=!IE.estMobile;var lEstDroite=IE.estMobile;if(!lEstGauche&&aOutils.hasAttribute(aContexteCourant.node,'ie-textright')){lEstGauche=true;lEstDroite=false;}
  if(!lEstDroite&&aOutils.hasAttribute(aContexteCourant.node,'ie-textleft')){lEstGauche=false;lEstDroite=true;}
  aContexteCourant.data.estRadioBouton=aType===TypeCBRadio.radio;var lClassCss;var lClassSpan='';var lSpanGauche='';var lSpanDroite='';if(aType===TypeCBRadio.switch){if(!lAvecIEHtml&&!lAvecIETexte&&lInnerHTML&&aContexteCourant.node.childNodes.length===2&&aContexteCourant.node.childNodes[0].nodeName.toLowerCase()==='span'&&aContexteCourant.node.childNodes[1].nodeName.toLowerCase()==='span'){lSpanGauche=aContexteCourant.node.childNodes[0].outerHTML;lSpanDroite=aContexteCourant.node.childNodes[1].outerHTML;lEstGauche=true;lEstDroite=false;}
  lClassCss='ieswitch '+(lEstDroite?'iecbrbdroite':'iecbrbgauche');lClassSpan='lever';} else{lClassCss='iecb '+(lEstDroite?'iecbrbdroite':'iecbrbgauche');}
  if(aContexteCourant.node.nodeName.toLowerCase()==='input'){
  lSubstitution=false;lJInput=$(aContexteCourant.node);lJInput.wrap('<label class="'+lClassCss+'">');lJInput.parent().append('<span'+(lClassSpan?' class="'+lClassSpan+'"':'')+'></span>');if(!lInnerHTML&&lAvecLibelle){lJInput.parent().append('<span></span>');}
  lJModele=lJInput.parent();if(!lMap.type){lJInput.attr('type',aType!==TypeCBRadio.radio?'checkbox':'radio');}
  lJInput.removeAttr('class').removeAttr('style');} else{lJModele=$((aType===TypeCBRadio.switch?'<div class="switch">':'')+'<label class="'+lClassCss+'">'+'<input type="'+(aType!==TypeCBRadio.radio?'checkbox':'radio')+'" />'+'<span'+(lClassSpan?' class="'+lClassSpan+'"':'')+'></span>'+(!lInnerHTML&&lAvecLibelle&&!lSpanDroite?'<span></span>':'')+'</label>'+(aType===TypeCBRadio.switch?'</div>':''));lJInput=lJModele.find('input');}
  lRacine=lJModele.get(0);lJModele.IEData(aContexteCourant.data);Object.assign(aContexteCourant.data,{$couleurActif:'',$couleurInactif:GCouleur.nonEditable.texte,$AvecMain:true});for(llName in lMap){if(llName!=='type'){try{if(llName==='style'||aOutils.composantsAttributs[llName]){lJModele.attr(llName,lMap[llName]);if(!lSubstitution&&llName!=='style'){lJInput.removeAttr(llName);}} else if(llName==='class'){lJModele.addClass(lMap[llName]);} else{if(lSubstitution){lJInput.attr(llName,lMap[llName]);}}} catch(e){}}}
  if(aType===TypeCBRadio.radio&&!lMap.name&&lNomModele&&aContexteCourant.data.$modeleParsed&&aContexteCourant.controleur){lJInput.attr('name',aContexteCourant.controleur.$GUID+'_'+aContexteCourant.data.$modeleParsed.nom);}
  if(aType===TypeCBRadio.checkbox){lEtatIndetermine=$(aContexteCourant.node).cbIndeterminate();if(lNomModele&&aContexteCourant.data.$modeleParsed){var lInfosGetIndeterminate=aOutils.getAccesParametresModel('getIndeterminate',aContexteCourant);if(lInfosGetIndeterminate.estFonction){lEtatIndetermine=!!lInfosGetIndeterminate.callback();aOutils.abonnerRefresh(function(){var lEtat=!!lInfosGetIndeterminate.callback();if(lEtat!==lEtatIndetermine){lEtatIndetermine=lEtat;lJInput.prop('indeterminate',lEtatIndetermine);}},lJInput,aContexteCourant);}}}
  lEventMap={};lEventMap.focus=function(){$(this).parent().triggerHandler('focusin');};lEventMap.blur=function(){$(this).parent().triggerHandler('focusout');};lJInput.on(lEventMap);if(aContexteCourant.data.$modeleValue){lContexteCourant=Object.assign({},aContexteCourant);lContexteCourant.node=lJInput.get(0);aOutils.gererInputCB(lContexteCourant,lMap.type);}
  if(lEtatIndetermine){lJInput.prop('indeterminate',lEtatIndetermine);}
  if(lSubstitution){aOutils.replaceNode(aContexteCourant.node,lRacine);}
  aOutils.addCommentaireDebug(lRacine,('ie-'+aType));if(lAvecLibelle){var lDest=lRacine;if(aType===TypeCBRadio.switch){lDest=lRacine.firstChild;}
  if(lSpanGauche){aOutils.injectHTML({element:lDest,insererAvantLeNode:lJModele.find('span.lever').get(0),html:lSpanGauche,controleur:aContexteCourant.controleur,ignorerScroll:true,contexte:aContexteCourant.contexte});}
  if(lInnerHTML){aOutils.injectHTML({element:lDest,html:lSpanDroite||'<span>'+lInnerHTML+'</span>',controleur:aContexteCourant.controleur,ignorerScroll:true,contexte:aContexteCourant.contexte});}
  aContexteCourant.transfertContenu=lDest.lastChild;}
  aContexteCourant.node=lRacine;return{node:aContexteCourant.node,avecCompileFils:false};}
  var TypeCBRadio={checkbox:'checkbox',radio:'radio',switch:'switch'};IEHtml.addBalise('ie-checkbox',function(aContexteCourant,aOutils){return _creerCBEtRB(aContexteCourant,TypeCBRadio.checkbox,aOutils);});IEHtml.addBalise('ie-radio',function(aContexteCourant,aOutils){return _creerCBEtRB(aContexteCourant,TypeCBRadio.radio,aOutils);});IEHtml.addBalise('ie-switch',function(aContexteCourant,aOutils){return _creerCBEtRB(aContexteCourant,TypeCBRadio.switch,aOutils);});module.exports=IEHtml;},fn:"iehtml.checkboxradio.js"});;
  IE.fModule({f:function(exports,require,module,global){var IEHtml=require('IEHtml.js');require('DeclarationJQuery.js');require('jInputDisabled.js');require('jInputChecked.js');var MethodesObjet=require('MethodesObjet.js');require('iehtml.checkboxradio.js');var Support=require('ObjetSupport.js');(function($){$.fn.jIECheckBox=function(aOptions){var lInputs=[],lInput;this.each(function(){var lJqthis=$(this);var lEstCB=lJqthis.is(':checkbox');var lEstRB=lJqthis.is(':radio');if(!lEstCB&&!lEstRB){return;}
  if(lJqthis.parent().hasClass('iecb')){lInputs.push(this);return;}
  if(lEstCB){lJqthis.attr('ie-checkbox','');} else{lJqthis.attr('ie-radio','');}
  if(aOptions){var lCss={};if(MethodesObjet.isNumber(aOptions.marginLeftMin)){lCss['margin-left']=aOptions.marginLeftMin+'px';}
  if(MethodesObjet.isNumber(aOptions.marginRightMin)){lCss['margin-right']=aOptions.marginRightMin+'px';}
  if(MethodesObjet.isNumber(aOptions.marginTopMin)){lCss['margin-top']=aOptions.marginTopMin+'px';}
  if(MethodesObjet.isNumber(aOptions.marginBottomMin)){lCss['margin-bottom']=aOptions.marginBottomMin+'px';}
  lJqthis.css(lCss);}
  var lNodeParent=lJqthis.parent().get(0);var lNode=IEHtml.injectHTML(lNodeParent,this,null,true,this.nextSibling);lInput=$(lNode).find('input').get(0);if(lInput){lInputs.push(lInput);lJqthis=$(lInput);lJqthis.addClass(this.className);}});return $(lInputs);};$.fn.jIEInterdireSelectionTexte=function(){var lSupport=IE?Support:null,lFunction=function onSelectStart(event){var lName=event.target.tagName.toLowerCase();return lName==='input'||lName==='textarea'||(event.originalEvent&&event.originalEvent.__marqueurAutoriserSelection===true);},lFunctionAutoriser=function onSelectStartAutoriser(event){event.originalEvent.__marqueurAutoriserSelection=true;return true;};if((lSupport&&lSupport.avecUserSelect)||!lSupport){this.addClass('SansSelectionTexte');}
  if((lSupport&&!lSupport.avecUserSelect)||!lSupport){this.off('selectstart.jIEInterdireSelectionTexte1 selectstart.jIEInterdireSelectionTexte2').on('selectstart.jIEInterdireSelectionTexte1',lFunction).on({'selectstart.jIEInterdireSelectionTexte2':lFunctionAutoriser},'.AvecSelectionTexte');}};$.fn.jIEDesactiverMenuContextuel=function(){return this.off('contextmenu.AvecMenuContextuel1 contextmenu.AvecMenuContextuel2').on('contextmenu.AvecMenuContextuel1',$.fn.jIEDesactiverMenuContextuel.accepteContextMenuNatif).on({'contextmenu.AvecMenuContextuel2':function(event){event.originalEvent.__marqueurAutoriserMenuContextuel=true;return true;}},'.AvecMenuContextuel');};$.fn.jIEDesactiverMenuContextuel.accepteContextMenuNatif=function(event){if(event.type!=='contextmenu'){return false;}
  var lName=event.target&&event.target.tagName?event.target.tagName.toLowerCase():'',lType=event.target.type||'';lType=lType.toLowerCase();var lInputConcerne=(lName==='input'&&lType!=='checkbox'&&lType!=='radio'&&lType!=='button')||(lName==='textarea');return(lInputConcerne&&!$(event.target).hasClass('SansMenuContextuel'))||(event.originalEvent&&event.originalEvent.__marqueurAutoriserMenuContextuel===true)||$(event.target).hasClass('AvecMenuContextuel');};}(jQuery));(function($){$.fn.jIEBracketize=function(aOptions){var lOptions={genre:'bracket',style:'curly',direction:'left',fontSize:25,ratio:0.5,marginBottomMin:0,forced:false,height:undefined};$.extend(lOptions,aOptions);return this.each(function(){var lHeight=$(this).height();if(lOptions.height){lHeight=lOptions.height;}
  if(lHeight<3*lOptions.fontSize){if(!lOptions.forced){
  return $(this);} else{lHeight=3*lOptions.fontSize;}}
  var lSymbole={top:'&#x23a7;',middle:'&#x23a8;',bottom:'&#x23a9;',line:'&#x23aa;'};if(lOptions.genre==='bracket'){if(lOptions.style==='curly'){if(lOptions.direction==='right'){lSymbole={top:'&#x23ab;',middle:'&#x23ac;',bottom:'&#x23ad;',line:'&#x23aa;'};}} else if(lOptions.style==='square'){if(lOptions.direction==='right'){lSymbole={top:'&#x23a4;',middle:'&#x23a5;',bottom:'&#x23a6;',line:'&#x23a5;'};} else if(lOptions.direction==='left'){lSymbole={top:'&#x23a1;',middle:'&#x23a2;',bottom:'&#x23a3;',line:'&#x23a2;'};}}} else if(lOptions.genre==='parenthesis'){if(lOptions.direction==='left'){lSymbole={top:'&#x239b;',middle:'&#x239c;',bottom:'&#x239d;',line:'&#x239c;'};} else if(lOptions.direction==='right'){lSymbole={top:'&#x239e;',middle:'&#x239f;',bottom:'&#x23a0;',line:'&#x239f;'};}}
  var lPositionMiddle=(lHeight*lOptions.ratio)-(lOptions.fontSize/2);var lHeightLineTop=lPositionMiddle-lOptions.fontSize;var lHeightLineBottom=lHeight-lPositionMiddle-(2*lOptions.fontSize);var lHtml=[];var i;lHtml.push('<span style="font-size:',lOptions.fontSize,'px;line-height:',lOptions.fontSize,'px;">');lHtml.push(lSymbole.top,'<br />');if(lHeightLineTop>0){var lNbLineTop=Math.floor(lHeightLineTop/lOptions.fontSize);for(i=0;i<lNbLineTop;i++){lHtml.push(lSymbole.line,'<br />');}
  if(lNbLineTop*lOptions.fontSize<lHeightLineTop){lHtml.push('<span style="line-height:',(lHeightLineTop%lOptions.fontSize),'px">',lSymbole.line,'</span><br />');}}
  lHtml.push(lSymbole.middle,'<br />');if(lHeightLineBottom>0){var lNbLineBottom=Math.floor(lHeightLineBottom/lOptions.fontSize);for(i=0;i<lNbLineBottom;i++){lHtml.push(lSymbole.line,'<br />');}
  if(lNbLineBottom*lOptions.fontSize<lHeightLineBottom){lHtml.push('<span style="line-height:',(lHeightLineBottom%lOptions.fontSize),'px">',lSymbole.line,'</span><br />');}}
  lHtml.push(lSymbole.bottom);lHtml.push('</span>');$(this).html(lHtml.join(''));return $(this);});};}(jQuery));module.exports=$;},fn:"jiecheckbox.js"});;
  IE.fModule({f:function(exports,require,module,global){var GChaine=require('GChaine.js');var GTraductions=require('ObjetTraduction.js');var TypeEtatExecutionQCMPourRepondant=require('TypeEtatExecutionQCMPourRepondant.js').TypeEtatExecutionQCMPourRepondant;var TypeGenreExerciceDeQuestionnaire=require('TypeGenreExerciceDeQuestionnaire.js').TypeGenreExerciceDeQuestionnaire;var TypeModeCorrectionQCM=require('TypeModeCorrectionQCM.js').TypeModeCorrectionQCM;var TypeQualificatifReponse=require('TypeQualificatifReponse.js').TypeQualificatifReponse;var TUtilitaireDuree=require('UtilitaireDuree.js');var ObjetTri=require('ObjetTri.js').ObjetTri;require('Espace/Css/ObjetVisuEleveQCM.css');require('jIECheckbox.js');function ObjetVisuEleve(aNom,aIdent,aPere,aEvenement){this.Nom=aNom;this.Pere=aPere;this.Evenement=aEvenement;this.modeProf=false;this.modeVisuQuestion=false;this.idContenu=null;this.numeroExecution=null;this.executionQCM=null;this.indiceQuestion= -1;this.listeQuestions=null;this.question=null;this.nbQuestions=null;this.typeNumerotation=null;this.etatCloture=null;this.start=null;this.affichageEnLigne=null;this.affichageUnePage=null;this.intervalChrono=null;this.evaluationNote=[];this.enActualisation=false;this.avecIECheckbox=true;this.idWrapperGlobal=this.Nom+'_WrapperGlobal';this.idWrapperAffichage=this.Nom+'_WrapperAffichage_';this.idValeurChrono=this.Nom+'_ValeurChrono';this.idWrapperBarreProgression=this.Nom+'_WrapperBarreProg';this.idRessenti=this.Nom+'_Ressenti';this.idTexteRessenti=this.Nom+'_TexteRessenti';this.idNbPoint=this.Nom+'_NbPoint_';this.idSlashNbPoint=this.Nom+'_SlashNbPoint_';this.idMp3Question=this.Nom+'_mp3question_';this.idMp3Control=this.Nom+'_control_mp3question_';this.idBoutonNext=this.Nom+'_boutonNext_';this.idBoutonSubmit=this.Nom+'_boutonSubmit_';this.idCartoucheCompetences=this.Nom+'_cartoucheCompetences';this.couleurNonVu='White';this.couleurNonRepondu='LightGray';this.couleurValidee='Gray ';this.couleurFaux='#ec636a';this.couleurPartiel='Orange';this.couleurVrai='#9fd647';this.couleurThemeQCM='#62acc5';}
  ObjetVisuEleve.prototype.setParametres=function(aObjet){this.idContenu=aObjet.idContenu;this.numeroExecution=aObjet.numeroExecution;this.modeProf=aObjet.modeProf;this.modeVisuQuestion=false;this.executionQCM=null;this.indiceQuestion= -1;this.listeQuestions=null;this.question=null;this.nbQuestions=null;this.typeNumerotation=null;this.etatCloture=null;this.start=null;this.affichageEnLigne=null;this.affichageUnePage=null;clearInterval(this.intervalChrono);this.intervalChrono=null;this.evaluationNote=[];this.enActualisation=false;};ObjetVisuEleve.prototype.actualiser=function(){var lThis;if(this.etatCloture&&$.inArray(this.etatCloture,[TypeEtatExecutionQCMPourRepondant.EQR_EnCours,TypeEtatExecutionQCMPourRepondant.EQR_ARefaire])=== -1&&this.indiceQuestion> -1){if(this.executionQCM.modeDiffusionCorrige===TypeModeCorrectionQCM.FBQ_CorrigeALaFin||this.executionQCM.modeDiffusionCorrige===TypeModeCorrectionQCM.FBQ_CorrigeApresQuestion||((this.executionQCM.estLieADevoir||this.executionQCM.estLieAEvaluation)&&this.executionQCM.publierCorrige)){this.composeCorrigeFin();this.indiceQuestion=this.nbQuestions+Number(this.executionQCM.ressentiRepondant)+1;} else if(!this.executionQCM.estLieADevoir&&!this.executionQCM.estLieAEvaluation){this.composeCorrigeFin(true);} else{this.composeCloture();}
  this.formaterLien();this.triggerFinActualisation();return;}
  if(!this.affichageEnLigne||$('#'+this.idWrapperAffichage.escapeJQ()+this.indiceQuestion).length===0){if($('#'+this.idWrapperGlobal.escapeJQ()).length===0){this.affichageEnLigne=null;}
  var lHtml=[];if(!this.affichageEnLigne){lHtml.push(this.composeOuvertureDivGlobal());}
  if(this.executionQCM&&!this.executionQCM.message&&this.estEnInitialisation()&&!this.estEnCloture()){lHtml=lHtml.concat(this.composePageModalite());} else if(this.executionQCM&&!this.executionQCM.message&&this.estEnInitialisation()&&this.estEnCloture()){if(this.executionQCM.estDemarre){lHtml=lHtml.concat(this.composePagePresCorrige());} else{lHtml=lHtml.concat(this.composePageNonDemarre());}} else if(this.executionQCM&&this.estEnCours()&&this.question){this.evaluationNote[this.indiceQuestion]={validee:false};lHtml=lHtml.concat(this.composeAffichageQuestion());} else if(this.executionQCM&&this.executionQCM.message){lHtml.push('<div class="InlineBlock" style="height:100%;vertical-align:middle;"></div><h1 class="InlineBlock" style="vertical-align:middle;text-align:center;font-size:25px;width:99%;border-bottom:',GCouleur.fond,' 1px solid;margin:10px auto 100px;">'+this.executionQCM.message+'</h1>');} else if(this.executionQCM&&this.estEnRessenti()){lHtml=lHtml.concat(this.composeAffichageRessenti());} else if(this.executionQCM&&this.indiceQuestion>=this.nbQuestions){lHtml=lHtml.concat(this.composeAffichageFin());this.interdireFermetureInterface();}
  if(!this.affichageEnLigne){lHtml.push(this.composeFermetureDivGlobal());}
  var lAsymetrie=false;if(this.question&&this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_Matching){var lReponses=[];var i,lNbr,lReponse;for(i=0,lNbr=this.question.listeReponses.GetNbrElements();i<lNbr;i++){lReponse=this.question.listeReponses.GetElement(i);if($.inArray(lReponse.association,lReponses)=== -1){lReponses.push(lReponse.association);} else{lAsymetrie=true;break;}}}
  if(!this.affichageEnLigne){$('#'+this.idContenu).IEHtml(lHtml.join(''));if(this.executionQCM.autoriserLaNavigation){this.ajouterEvenementBarreProgression();}
  if(this.avecIECheckbox){$('#'+this.idContenu).find(':checkbox, :radio').jIECheckBox();}
  this.actualiserHauteurCartoucheCompetences();this.ajouterEvenementQuestion(lAsymetrie);if(this.question&&this.question.reponsesRepondant&&this.question.reponsesRepondant.length>0){this.triggerFinActualisation();this.majReponsesRepondant();this.formaterLien();this.triggerFinActualisation();if(this.executionQCM.modeDiffusionCorrige===TypeModeCorrectionQCM.FBQ_CorrigeApresQuestion){this.composeCorrige();}}
  lThis=this;$('[id^="'+this.Nom.escapeJQ()+'_q'+this.indiceQuestion+'_div_r"]').each(function(){lThis.actualiserHauteurReponse(this.id);});var lJqImg=$('#'+this.idWrapperAffichage.escapeJQ()+this.indiceQuestion).find('img');if(lJqImg.length){lJqImg.on('load',this.actualiserHauteurQuestion.bind(this,this.indiceQuestion));} else{this.actualiserHauteurQuestion();}
  this.majChrono();$('#'+this.idWrapperAffichage.escapeJQ()+this.indiceQuestion).find('div[id^="'+this.idMp3Control.escapeJQ()+'"]').on('click',{lThis:this},this.playMp3);$('#'+this.idWrapperAffichage.escapeJQ()+this.indiceQuestion).find('audio[id^="'+this.idMp3Question.escapeJQ()+'"]').on('ended',function(){$('#'+this.id.replace('_mp3question_','_control_mp3question_').escapeJQ()).trigger('click');});this.formaterLien();this.triggerFinActualisation();this.enActualisation=false;} else{lThis=this;$('#'+this.idWrapperGlobal.escapeJQ()).find('[id^="'+this.idWrapperAffichage.escapeJQ()+'"]:visible').fadeOut(200,function(){$('#'+lThis.idWrapperGlobal.escapeJQ()).append(lHtml.join(''));if(lThis.avecIECheckbox){$('#'+lThis.idWrapperGlobal.escapeJQ()).find(':checkbox, :radio').jIECheckBox();}
  lThis.ajouterEvenementQuestion(lAsymetrie);if(lThis.question&&lThis.question.reponsesRepondant&&lThis.question.reponsesRepondant.length>0){lThis.triggerFinActualisation();lThis.majReponsesRepondant();lThis.formaterLien();lThis.triggerFinActualisation();if(lThis.executionQCM.modeDiffusionCorrige===TypeModeCorrectionQCM.FBQ_CorrigeApresQuestion){lThis.composeCorrige();}}
  $('#'+lThis.idWrapperAffichage.escapeJQ()+lThis.indiceQuestion).hide().fadeIn(200);lThis.composeBarreProgression();$('[id^="'+lThis.Nom.escapeJQ()+'_q'+lThis.indiceQuestion+'_div_r"]').each(function(){lThis.actualiserHauteurReponse(this.id);});var lJqImg=$('#'+lThis.idWrapperAffichage.escapeJQ()+lThis.indiceQuestion).find('img');if(lJqImg.length){lJqImg.on('load',lThis.actualiserHauteurQuestion.bind(lThis,lThis.indiceQuestion));} else{lThis.actualiserHauteurQuestion();}
  $('#'+lThis.idWrapperAffichage.escapeJQ()+lThis.indiceQuestion).find('div[id^="'+lThis.idMp3Control.escapeJQ()+'"]').on('click',{lThis:lThis},lThis.playMp3);$('#'+lThis.idWrapperAffichage.escapeJQ()+lThis.indiceQuestion).find('audio[id^="'+lThis.idMp3Question.escapeJQ()+'"]').on('ended',function(){$('#'+this.id.replace('_mp3question_','_control_mp3question_').escapeJQ()).trigger('click');});lThis.formaterLien();lThis.triggerFinActualisation();lThis.enActualisation=false;if(lThis.estEnCours()&&lThis.executionQCM.dureeMaxQCM){lThis.majChrono();}});}
  if(this.affichageEnLigne===null){this.affichageEnLigne=this.executionQCM&&this.executionQCM.autoriserLaNavigation&&!this.executionQCM.message;}} else{lThis=this;$('#'+this.idWrapperGlobal.escapeJQ()).find('[id^="'+this.idWrapperAffichage.escapeJQ()+'"]:visible').fadeOut(100,function(){$('#'+lThis.idWrapperAffichage.escapeJQ()+lThis.indiceQuestion).fadeIn(100);lThis.composeBarreProgression();lThis.actualiserHauteurQuestion();lThis.formaterLien();lThis.triggerFinActualisation();lThis.enActualisation=false;});}
  if(this.estEnCours()&&this.executionQCM.dureeMaxQCM){this.majChrono();if(!this.intervalChrono){this.intervalChrono=setInterval(this.majChrono.bind(this),5000);}} else if(this.intervalChrono&&!this.estEnCours()){clearInterval(this.intervalChrono);}};ObjetVisuEleve.prototype.playMp3=function(aEvent){aEvent.stopImmediatePropagation();if(!$(this).data('play')){$('#'+this.id.replace(/_control/,'').escapeJQ()).get(0).play();$(this).children('span').removeClass('Image_QCM_Son_Play').addClass('Image_QCM_Son_Pause');$(this).data('play',true);} else{$('#'+this.id.replace(/_control/,'').escapeJQ()).get(0).pause();$(this).children('span').removeClass('Image_QCM_Son_Pause').addClass('Image_QCM_Son_Play');$(this).data('play',false);}};ObjetVisuEleve.prototype._estUnIDevoir=function(aExecutionQCM){return(aExecutionQCM.estLieADevoir||aExecutionQCM.estLieAEvaluation);};ObjetVisuEleve.prototype._getNomImageTypeExecutionQCM=function(aExecutionQCM){var lNomImage;if(!!aExecutionQCM){if(aExecutionQCM.estLieADevoir&&aExecutionQCM.estLieAEvaluation){lNomImage='Image_QCM_evaluation_note';} else if(aExecutionQCM.estLieADevoir){lNomImage='Image_QCM_associe_devoir';} else if(aExecutionQCM.estLieAEvaluation){lNomImage='Image_QCM_evaluation';} else if(aExecutionQCM.estUnTAF){lNomImage='Image_QCM_entrainement';} else{lNomImage='Image_QCM_revision';}}
  return lNomImage;};ObjetVisuEleve.prototype.triggerFinActualisation=function(){};ObjetVisuEleve.prototype.composeOuvertureDivGlobal=function(){
  return'';};ObjetVisuEleve.prototype.composeFermetureDivGlobal=function(){
  return'';};ObjetVisuEleve.prototype.composeTitre=function(){
  return'';};ObjetVisuEleve.prototype.composeAffichageQuestion=function(){
  return[];};ObjetVisuEleve.prototype.ajouterEvenementQuestion=function(aAsymetrie){if(this.executionQCM&&this.estEnCours()&&this.question&&this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_Matching){this.ajouterEvenementMatching(aAsymetrie);} else if(this.executionQCM&&this.estEnCours()&&this.question&&(this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_SingleChoice||this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_MultiChoice)){this.ajouterEvenementSingleMultiChoice();} else if(this.executionQCM&&this.estEnRessenti()){this.ajouterEvenementRessenti();}};ObjetVisuEleve.prototype.ajouterEvenementMatching=function(){};ObjetVisuEleve.prototype.ajouterEvenementSingleMultiChoice=function(){};ObjetVisuEleve.prototype.composeAffichageRessenti=function(){
  return[];};ObjetVisuEleve.prototype.ajouterEvenementRessentiEtoile=function(){$('span[id^="'+this.idRessenti.escapeJQ()+'"]').on('mouseenter',{aObjet:this},function(aEvent){var lThis=aEvent.data.aObjet;var lRessentiTmp=this.id.match(/_([0-9]+)/i)[1];$(this).prevAll().addBack().removeClass('Image_QCM_Etoile_Off').addClass('Image_QCM_Etoile_On').end().end().nextAll().removeClass('Image_QCM_Etoile_On').addClass('Image_QCM_Etoile_Off');$('span#'+lThis.idTexteRessenti.escapeJQ()).text(GTraductions.getValeur('ExecutionQCM.valeurRessenti')[lRessentiTmp-1]);}).on('mouseleave',{aObjet:this},function(aEvent){var lThis=aEvent.data.aObjet;$(this).siblings().addBack().removeClass('Image_QCM_Etoile_On').addClass('Image_QCM_Etoile_Off');$('span#'+lThis.idTexteRessenti.escapeJQ()).text('');if(lThis.ressenti>0){$('span#'+lThis.idRessenti.escapeJQ()+'_'+lThis.ressenti).prevAll().addBack().removeClass('Image_QCM_Etoile_Off').addClass('Image_QCM_Etoile_On');$('span#'+lThis.idTexteRessenti.escapeJQ()).text(GTraductions.getValeur('ExecutionQCM.valeurRessenti')[lThis.ressenti-1]);}}).on('click',{aObjet:this},function(aEvent){var lThis=aEvent.data.aObjet;var lRessenti=this.id.match(/_([0-9]+)/i)[1];lThis.ressenti=parseInt(lRessenti);$('#'+lThis.idBoutonSubmit.escapeJQ()+lThis.indiceQuestion).show();});};ObjetVisuEleve.prototype.ajouterEvenementRessenti=function(){$('span[id^="'+this.idRessenti.escapeJQ()+'"]').on('mouseenter',{aObjet:this},function(){$(this).css({color:GCouleur.noir}).siblings('span').css({color:GCouleur.grisClair});}).on('mouseleave',{aObjet:this},function(aEvent){var lThis=aEvent.data.aObjet;$(this).siblings('span').addBack().css({color:GCouleur.grisClair});if(lThis.ressentiSelectionne){$('span#'+lThis.idRessenti.escapeJQ()+'_'+lThis.ressenti).css({color:GCouleur.noir});}}).on('click',{aObjet:this},function(aEvent){var lThis=aEvent.data.aObjet;lThis.ressentiSelectionne=true;var lRessenti=this.id.match(/_([0-9]+)/i)[1];lThis.ressenti=parseInt(lRessenti);$('#'+lThis.idBoutonSubmit.escapeJQ()+lThis.nbQuestions).show();});};ObjetVisuEleve.prototype.composeAffichageFin=function(){
  return[];};ObjetVisuEleve.prototype.composePageNonDemarre=function(){
  return[];};ObjetVisuEleve.prototype.composeCloture=function(){
  return[];};ObjetVisuEleve.prototype.formaterLien=function(){$('#'+this.idContenu).find('a[href]').each(function(){var lUrl=$(this).attr('href');if(lUrl.search(/^(ht|f)tp/gi)!==0){lUrl='http://'+lUrl;$(this).prop('href',lUrl);}});};ObjetVisuEleve.prototype.composeCorrigeFin=function(aSansCorrige){this.affichageUnePage=true;$('#'+this.idContenu).IEHtml('');var lHtml=[];lHtml=lHtml.concat(this.composeAffichageCorrigeFin());$('#'+this.idContenu).IEHtml(lHtml.join(''));if(this.avecIECheckbox){$('#'+this.idContenu).find(':checkbox, :radio').jIECheckBox();}
  this.formaterLien();this.triggerFinActualisation();this.nbImages=$('#'+this.idContenu).find('img').length;var lThis=this;$('[id^="'+this.idWrapperAffichage+'"]').each(function(){var lJqImg=$(this).find('img');if(lJqImg.length){var lId=parseInt(this.id.slice(lThis.idWrapperAffichage.length));lJqImg.on('load',lThis.actualiserHauteurQuestion.bind(lThis,lId));}});var lBackupIndice=this.indiceQuestion;var aIndice,aNbr;aNbr=this.listeQuestions?this.listeQuestions.GetNbrElements():0;for(aIndice=0;aIndice<aNbr;aIndice++){this.indiceQuestion=aIndice;this.question=this.listeQuestions.GetElement(aIndice);var lAsymetrie=false;if(this.question&&this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_Matching){var lReponses=[];var i,lNbr,lReponse;for(i=0,lNbr=this.question.listeReponses.GetNbrElements();i<lNbr;i++){lReponse=this.question.listeReponses.GetElement(i);if($.inArray(lReponse.association,lReponses)=== -1){lReponses.push(lReponse.association);} else{lAsymetrie=true;break;}}}
  this.ajouterEvenementQuestion(lAsymetrie);this.majReponsesRepondant();if(!aSansCorrige){this.composeCorrige();} else{this.desactiveEvent();}}
  this.indiceQuestion=lBackupIndice;$('[id^="'+this.idWrapperAffichage+'"]').find('div[id^="'+this.idMp3Control.escapeJQ()+'"]').on('click',{lThis:this},this.playMp3);$('[id^="'+this.idWrapperAffichage+'"]').find('audio[id^="'+this.idMp3Question.escapeJQ()+'"]').on('ended',function(){$('#'+this.id.replace('_mp3question_','_control_mp3question_').escapeJQ()).trigger('click');});this.actualiserHauteurCorrige();this.enActualisation=false;this.autoriserFermetureInterface();};ObjetVisuEleve.prototype.autoriserFermetureInterface=function(){};ObjetVisuEleve.prototype.interdireFermetureInterface=function(){};ObjetVisuEleve.prototype.composeAffichageCorrigeFin=function(){
  return[];};ObjetVisuEleve.prototype.actualiserHauteurCartoucheCompetences=function(){};ObjetVisuEleve.prototype.actualiserHauteurCorrige=function(){};ObjetVisuEleve.prototype.actualiserHauteurQuestion=function(){};ObjetVisuEleve.prototype.actualiserHauteurReponse=function(){};ObjetVisuEleve.prototype.composePageModalite=function(){
  return[];};ObjetVisuEleve.prototype.composePagePresCorrige=function(){
  return[];};ObjetVisuEleve.prototype.composeChrono=function(){
  return[];};ObjetVisuEleve.prototype.majChrono=function(){if($('#'+this.idValeurChrono.escapeJQ()).length===0&&this.intervalChrono){clearInterval(this.intervalChrono);return;}
  if(!this.executionQCM.dureeMaxQCM){return;}
  var lMinRestantes=this.getMinutesChrono(),lTextTime=lMinRestantes,lLibelleTime=GTraductions.getValeur('ExecutionQCM.MinutesCourt');if(lMinRestantes<1){lTextTime='&lt; 1';if(this.getMilliSecondesChrono()/1000<=30){lTextTime='&lt; 30';lLibelleTime=GTraductions.getValeur('ExecutionQCM.SecondesCourt');}}
  this.composeMajChrono(lTextTime,lLibelleTime);};ObjetVisuEleve.prototype.composeMajChrono=function(){};ObjetVisuEleve.prototype.getMinutesChrono=function(){var lSecRestantes=this.getMilliSecondesChrono(),lTpsRestant=new Date(lSecRestantes>0?lSecRestantes:0),lMinutes=lTpsRestant.getUTCHours()*60+lTpsRestant.getUTCMinutes();return lMinutes;};ObjetVisuEleve.prototype.getMilliSecondesChrono=function(){var lSecRestantes=new Date(0).setUTCMinutes(TUtilitaireDuree.dureeEnMin(this.executionQCM.dureeMaxQCM))-(new Date().getTime()-this.start);return lSecRestantes;};ObjetVisuEleve.prototype.composeBarreProgression=function(){var lHtml=[];lHtml=lHtml.concat(this.composeAffichageBarreProgression());if(this.affichageEnLigne){$('#'+this.idWrapperBarreProgression.escapeJQ()).IEHtml(lHtml.join(''));this.composeMiseEnFormeBarreProgression();}
  return lHtml;};ObjetVisuEleve.prototype.composeAffichageBarreProgression=function(){
  return[];};ObjetVisuEleve.prototype.composeMiseEnFormeBarreProgression=function(){};ObjetVisuEleve.prototype.getCouleurPointProgression=function(aIndice){var lBackColor=this.couleurNonVu;if(this.evaluationNote[aIndice]){if(this.evaluationNote[aIndice].nbBonnesReponses&&this.evaluationNote[aIndice].nbReponsesJustes>=0){if(this.evaluationNote[aIndice].nbReponsesJustes===0){lBackColor=this.couleurFaux;} else if(this.evaluationNote[aIndice].nbReponsesJustes===this.evaluationNote[aIndice].nbBonnesReponses){lBackColor=this.couleurVrai;} else if(this.evaluationNote[aIndice].nbReponsesJustes<this.evaluationNote[aIndice].nbBonnesReponses){lBackColor=this.couleurPartiel;}} else if(this.evaluationNote[aIndice].validee){lBackColor=this.couleurValidee;} else{lBackColor=this.couleurNonRepondu;}}
  return lBackColor;};ObjetVisuEleve.prototype.ajouterEvenementBarreProgression=function(){};ObjetVisuEleve.prototype.composeRessentiEtoile=function(){
  return[];};ObjetVisuEleve.prototype.composeRessenti=function(){
  return[];};ObjetVisuEleve.prototype.composeNavigation=function(){
  return[];};ObjetVisuEleve.prototype.composeCorrige=function(){if(this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_SingleChoice||this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_MultiChoice){this.composeCorrigeSingleMulti();} else if(this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_NumericalAnswer){this.composeCorrigeNumerique();} else if(this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_ShortAnswer){this.composeCorrigeShort();} else if(this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_SpellAnswer){this.composeCorrigeSpell();} else if(this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_Matching){this.composeCorrigeMatching();} else if(this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_ClozeField||this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_ClozeFixed||this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_ClozeVariable){this.composeCorrigeCloze();}
  var lSpanBonneReponse='';var lEstUneBonneReponse=(!!this.question.noteEleve&&this.question.qualif===TypeQualificatifReponse.qrBonne)||(this.evaluationNote[this.indiceQuestion].nbBonnesReponses===this.evaluationNote[this.indiceQuestion].nbReponsesJustes);if(lEstUneBonneReponse){lSpanBonneReponse='<span style="margin-right: 20px; color: '+this.couleurVrai+';">'+GTraductions.getValeur('ExecutionQCM.BonneReponse')+'</span>';}
  var lCouleurValeurReponse=(lEstUneBonneReponse?this.couleurVrai:(this.question.qualif===TypeQualificatifReponse.qrBonnePartielle?this.couleurPartiel:this.couleurFaux));var lSpanValeurReponse='';if(!!this.question.noteEleve){if(this.executionQCM.estLieADevoir||(this.executionQCM.estUnTAF&&!!this.executionQCM.afficherResultatNote)){lSpanValeurReponse='<span style="color: '+lCouleurValeurReponse+';">'+this.question.noteEleve.toString()+'</span>';$('#'+this.idSlashNbPoint.escapeJQ()+this.indiceQuestion).show();} else{lSpanValeurReponse='<span class="InlineBlock" style="width: 15px; height: 15px; vertical-align: bottom; background-color: '+lCouleurValeurReponse+';">&nbsp;</span>';}}
  if(lSpanBonneReponse||lSpanValeurReponse){$('#'+this.idNbPoint.escapeJQ()+this.indiceQuestion).IEHtml(lSpanBonneReponse+lSpanValeurReponse).show();}
  this.formaterLien();this.triggerFinActualisation();this.actualiserHauteurQuestion();$('#'+this.idBoutonNext.escapeJQ()+this.indiceQuestion).show();$('#'+this.idBoutonSubmit.escapeJQ()+this.indiceQuestion).hide();};ObjetVisuEleve.prototype.composeCorrigeSingleMulti=function(){this.evaluationNote[this.indiceQuestion]={nbBonnesReponses:this.question.listeReponses.getListeElements(function(aEle){return aEle.bonneReponse;}).GetNbrElements(),nbReponsesJustes:0};var lThis=this,lForcerFaux=false;$('[id^="'+this.Nom+'_q'+this.indiceQuestion+'_r"]:checked').each(function(){var lIndice=this.id.match(/_r([0-9]+)$/i)[1];var lReponse=lThis.question.listeReponses.GetElement(lIndice);if(lReponse.bonneReponse){lThis.evaluationNote[lThis.indiceQuestion].nbReponsesJustes+=1;} else{lForcerFaux=true;}});if(!this.executionQCM.acceptIncomplet&&this.evaluationNote[this.indiceQuestion].nbReponsesJustes!==this.evaluationNote[this.indiceQuestion].nbBonnesReponses){this.evaluationNote[this.indiceQuestion].nbReponsesJustes=0;}
  if(!this.executionQCM.tolererFausses&&lForcerFaux){this.evaluationNote[this.indiceQuestion].nbReponsesJustes=0;}
  for(var i=0;i<this.question.listeReponses.GetNbrElements();i++){if(!$('[id="'+this.Nom+'_q'+this.indiceQuestion+'_r'+i+'"]').is(':checked')){var lReponse=this.question.listeReponses.GetElement(i);if(lReponse.bonneReponse){this.composeAffichageCorrigeSingleMultiVraiNonCoche('[id="'+this.Nom+'_q'+this.indiceQuestion+'_r'+i+'"]');} else if(this.evaluationNote[this.indiceQuestion].nbReponsesJustes!==this.evaluationNote[this.indiceQuestion].nbBonnesReponses){this.composeAffichageCorrigeSingleMultiFauxNonCoche('[id="'+this.Nom+'_q'+this.indiceQuestion+'_r'+i+'"]');}}}
  $('[id^="'+this.Nom+'_q'+this.indiceQuestion+'_r"]:checked').each(function(){var lIndice=this.id.match(/_r([0-9]+)$/i)[1];var lReponse=lThis.question.listeReponses.GetElement(lIndice);if(lThis.evaluationNote[lThis.indiceQuestion].nbReponsesJustes!==lThis.evaluationNote[lThis.indiceQuestion].nbBonnesReponses){if(lReponse.bonneReponse){lThis.composeAffichageCorrigeSingleMultiVraiCoche(this);} else{lThis.composeAffichageCorrigeSingleMultiFauxCoche(this);}} else{if(lReponse.bonneReponse){lThis.composeAffichageCorrigeSingleMultiVraiCoche(this,true);}}
  if(lReponse.feedback){lThis.composeAffichageCorrigeSingleMultiFeedback('[id="'+lThis.Nom+'_q'+lThis.indiceQuestion+'_r'+lIndice+'"]',(lReponse.bonneReponse?lThis.couleurVrai:lThis.couleurFaux),lReponse.feedback);}});this.desactiveEventSingleMulti();};ObjetVisuEleve.prototype.composeAffichageCorrigeSingleMultiVraiCoche=function(){};ObjetVisuEleve.prototype.composeAffichageCorrigeSingleMultiVraiNonCoche=function(){};ObjetVisuEleve.prototype.composeAffichageCorrigeSingleMultiFauxCoche=function(){};ObjetVisuEleve.prototype.composeAffichageCorrigeSingleMultiFauxNonCoche=function(){};ObjetVisuEleve.prototype.composeAffichageCorrigeSingleMultiFeedback=function(){};ObjetVisuEleve.prototype.desactiveEventSingleMulti=function(){};ObjetVisuEleve.prototype.composeCorrigeShort=function(){this.evaluationNote[this.indiceQuestion]={nbBonnesReponses:1,nbReponsesJustes:0};var lJqInput=$('#'+this.Nom.escapeJQ()+'_q'+this.indiceQuestion+'_r0');var lReponse=GChaine.ajouterEntites(lJqInput.val());lReponse=lReponse.replace(/^\s+/,'').replace(/\s+$/,'').replace(/\s+/gi,' ');if(!this.question.casesensitive){lReponse=GChaine.latinize(lReponse).toLowerCase();}
  var lBonneReponses=!this.question.casesensitive?this.question.listeReponses.getListeElements(function(aEle){return GChaine.latinize(aEle.GetLibelle()).toLowerCase()===lReponse;}):this.question.listeReponses.getListeElements(function(aEle){return aEle.GetLibelle()===lReponse;});if(lBonneReponses.GetNbrElements()){this.evaluationNote[this.indiceQuestion].nbReponsesJustes=1;this.composeAffichageCorrigeShortVrai(lJqInput.get(0));if(lBonneReponses.GetElement(0).feedback){this.composeAffichageCorrigeShortFeedback(lJqInput.get(0),this.couleurVrai,lBonneReponses.GetElement(0).feedback);}} else{this.composeAffichageCorrigeShortFaux(lJqInput.get(0),this.question.listeReponses.GetElement(0).GetLibelle());}
  this.desactiveEventShort();};ObjetVisuEleve.prototype.composeCorrigeSpell=function(){this.evaluationNote[this.indiceQuestion]={nbBonnesReponses:1,nbReponsesJustes:0};var lJqInput=$('[name="'+this.Nom.escapeJQ()+'_q'+this.indiceQuestion+'_r"]');var lReponse='';lJqInput.each(function(){lReponse+=$(this).val();});lReponse=GChaine.ajouterEntites(lReponse);lReponse=lReponse.replace(/^\s+/,'').replace(/\s+$/,'').replace(/\s+/gi,' ');if(!this.question.casesensitive){lReponse=GChaine.latinize(lReponse).toLowerCase();}
  var lBonneReponses=!this.question.casesensitive?this.question.listeReponses.getListeElements(function(aEle){return GChaine.latinize(aEle.GetLibelle()).toLowerCase()===lReponse;}):this.question.listeReponses.getListeElements(function(aEle){return aEle.GetLibelle()===lReponse;});if(lBonneReponses.GetNbrElements()){this.evaluationNote[this.indiceQuestion].nbReponsesJustes=1;this.composeAffichageCorrigeSpellVrai('[name="'+this.Nom.escapeJQ()+'_q'+this.indiceQuestion+'_r"]');if(lBonneReponses.GetElement(0).feedback){this.composeAffichageCorrigeSpellFeedback('[name="'+this.Nom.escapeJQ()+'_q'+this.indiceQuestion+'_r"]',this.couleurVrai,lBonneReponses.GetElement(0).feedback);}} else{this.composeAffichageCorrigeSpellFaux('[name="'+this.Nom.escapeJQ()+'_q'+this.indiceQuestion+'_r"]',this.question.listeReponses.GetElement(0).GetLibelle());}
  this.desactiveEventSpell();};ObjetVisuEleve.prototype.composeCorrigeNumerique=function(){this.evaluationNote[this.indiceQuestion]={nbBonnesReponses:1,nbReponsesJustes:0};var lJqInput=$('#'+this.Nom.escapeJQ()+'_q'+this.indiceQuestion+'_r0');var lReponse=lJqInput.val();lReponse=lReponse.replace(/\s+/gi,'');lReponse=lReponse.replace(/\./,',').replace(/٫/gi,',').replace(/²/gi,'2').replace(/³/gi,'3');lReponse=GChaine.latinize(lReponse).toLowerCase();lReponse=GChaine.ajouterEntites(lReponse);var lBonneReponses=this.question.listeReponses.getListeElements(function(aEle){return GChaine.latinize(aEle.GetLibelle().replace(/\s+/gi,'').replace(/\./,',').replace(/٫/gi,',').replace(/²/gi,'2').replace(/³/gi,'3')).toLowerCase()===lReponse;});if(lBonneReponses.GetNbrElements()){this.evaluationNote[this.indiceQuestion].nbReponsesJustes=1;this.composeAffichageCorrigeShortVrai(lJqInput.get(0));if(lBonneReponses.GetElement(0).feedback){this.composeAffichageCorrigeShortFeedback(lJqInput.get(0),this.couleurVrai,lBonneReponses.GetElement(0).feedback);}} else{this.composeAffichageCorrigeShortFaux(lJqInput.get(0),this.question.listeReponses.GetElement(0).GetLibelle());}
  this.desactiveEventShort();};ObjetVisuEleve.prototype.composeAffichageCorrigeShortVrai=function(){};ObjetVisuEleve.prototype.composeAffichageCorrigeShortFaux=function(){};ObjetVisuEleve.prototype.composeAffichageCorrigeShortFeedback=function(){};ObjetVisuEleve.prototype.desactiveEventShort=function(){};ObjetVisuEleve.prototype.composeAffichageCorrigeSpellVrai=function(){};ObjetVisuEleve.prototype.composeAffichageCorrigeSpellFaux=function(){};ObjetVisuEleve.prototype.composeAffichageCorrigeSpellFeedback=function(){};ObjetVisuEleve.prototype.desactiveEventSpell=function(){};ObjetVisuEleve.prototype.composeCorrigeMatching=function(){this.evaluationNote[this.indiceQuestion]={nbBonnesReponses:this.question.listeReponses.GetNbrElements(),nbReponsesJustes:0};var lAsymetrie=false;var lReponses=[];var i,lNbr,lReponse;for(i=0,lNbr=this.question.listeReponses.GetNbrElements();i<lNbr;i++){lReponse=this.question.listeReponses.GetElement(i);if($.inArray(lReponse.association,lReponses)=== -1){lReponses.push(lReponse.association);} else{lAsymetrie=true;break;}}
  var lThis=this;this.composeMiseEnFormeCorrigeMatching(lAsymetrie);$('[id^="'+this.Nom+'_q'+this.indiceQuestion+'_drop"]').each(function(){var lIndice=this.id.match(/_drop([0-9]+)$/i)[1];var lReponse=lThis.getReponseMatching(this);lReponse=GChaine.ajouterEntites(lReponse);var lBonneReponse=lThis.question.listeReponses.GetElement(lIndice).bonneReponse;if(lBonneReponse===lReponse){lThis.evaluationNote[lThis.indiceQuestion].nbReponsesJustes+=1;}
  lThis.composeAffichageReponseCorrigeMatching(this,lReponse!=='',lBonneReponse===lReponse?lThis.couleurVrai:lThis.couleurFaux);lThis.composeCorrigeReponseCorrigeMatching('#'+lThis.idWrapperAffichage.escapeJQ()+lThis.indiceQuestion+' .objetVisuEleveAssocCorriges',lThis.Nom+'_q'+lThis.indiceQuestion+'_c'+lIndice,lBonneReponse===lReponse,lBonneReponse,lBonneReponse===lReponse?lThis.couleurVrai:lThis.couleurFaux);lThis.composeMiseEnFormeCorrigeReponseCorrigeMatching(this);});this.desactiveEventMatching(lAsymetrie);};ObjetVisuEleve.prototype.composeMiseEnFormeCorrigeMatching=function(){};ObjetVisuEleve.prototype.composeAffichageReponseCorrigeMatching=function(){};ObjetVisuEleve.prototype.composeCorrigeReponseCorrigeMatching=function(){};ObjetVisuEleve.prototype.composeMiseEnFormeCorrigeReponseCorrigeMatching=function(){};ObjetVisuEleve.prototype.desactiveEventMatching=function(){};ObjetVisuEleve.prototype.composeCorrigeCloze=function(){var lEnonceOriginel=this.question.enonceOriginel.replace(/&#039;/gi,'&apos;');var lReponses=lEnonceOriginel.match(/({[0-9]*:(?:ShortAnswer|MultiChoice):(?:~*(?:%[0-9]{1,3}%|=)?[^~%#{}]+#[^~%#{}]*)+})/gi);if(this.question.casesensitive===false){lReponses=$.map(lReponses,function(aEle){return GChaine.latinize(aEle.toLowerCase());});}
  var lReponsesJustes=[];this.evaluationNote[this.indiceQuestion]={nbBonnesReponses:lReponses?lReponses.length:null,nbReponsesJustes:0};var lThis=this;$('#'+this.idWrapperEnonce.escapeJQ()+this.indiceQuestion).find('select[id], input[id][type="text"]:not(.select-dropdown)').each(function(aIndex){var lReponse=$(this).val();var lValRep=false;if(!!lReponse){if($(this).is('input')){lReponse=lReponse.replace(/^\s+/,'').replace(/\s+$/,'').replace(/\s+/gi,' ');}
  if(lThis.question.casesensitive===false){lValRep=lReponses[aIndex].match(new RegExp('(?::|~)(%[0-9]{1,3}%|=)?'+GChaine.latinize(lReponse.replace(/(\(|\)|\[|\]|\+|\*|\.|\^|\$|\?|\\|\{|\}|\|)/g,'\\$1')).toLowerCase()+'(#|~)',''));} else{lValRep=lReponses[aIndex].match(new RegExp('(?::|~)(%[0-9]{1,3}%|=)?'+lReponse.replace(/(\(|\)|\[|\]|\+|\*|\.|\^|\$|\?|\\|\{|\}|\|)/g,'\\$1')+'(#|~)',''));}}
  lValRep=lValRep&&lValRep[1]?lValRep[1].replace(/%/gi,'').replace('=','100'):'0';if(parseInt(lValRep)===100){lThis.evaluationNote[lThis.indiceQuestion].nbReponsesJustes+=1;lReponsesJustes[aIndex]=1;}
  lThis.composeMiseEnFormeReponseCorrigeCloze(this,parseInt(lValRep)===100?'black':lThis.couleurFaux,lReponse);});if(this.evaluationNote[this.indiceQuestion].nbBonnesReponses!==this.evaluationNote[this.indiceQuestion].nbReponsesJustes){this.composeMiseEnFormeWrapperEnonceCloze('#'+this.idWrapperEnonce.escapeJQ()+this.indiceQuestion);var lInc=0;this.composeMiseEnFormeWrapperCorrigeCloze('#'+this.idWrapperEnonce.escapeJQ()+this.indiceQuestion,lEnonceOriginel.replace(/({[0-9]*:(ShortAnswer|MultiChoice):.*?(~*(?:%100%|=)([^~%#{}]+)#[^~%#{}]*).*?})/gi,function(aMatch,aA,aB,aC,aD){return lThis.composeMiseEnFormeCorrectionCorrigeCloze(aD,(lReponsesJustes[lInc++]===1?'':'color:'+lThis.couleurFaux+';')+'font-weight:bold;');}));}
  this.actualiserHauteurQuestion();};ObjetVisuEleve.prototype.composeMiseEnFormeReponseCorrigeCloze=function(){};ObjetVisuEleve.prototype.composeMiseEnFormeWrapperEnonceCloze=function(){};ObjetVisuEleve.prototype.composeMiseEnFormeWrapperCorrigeCloze=function(){};ObjetVisuEleve.prototype.composeMiseEnFormeCorrectionCorrigeCloze=function(){
  return'';};ObjetVisuEleve.prototype.desactiveEventCloze=function(){};ObjetVisuEleve.prototype.majReponsesRepondant=function(){if(this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_SingleChoice||this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_MultiChoice){this.majReponsesSingleMulti();} else if(this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_ShortAnswer||this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_NumericalAnswer){this.majReponsesShort();} else if(this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_SpellAnswer){this.majReponsesSpell();} else if(this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_Matching){this.majReponsesMatching();} else if(this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_ClozeField||this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_ClozeFixed||this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_ClozeVariable){this.majReponsesCloze();}
  $('#'+this.idBoutonNext.escapeJQ()+this.indiceQuestion).show();};ObjetVisuEleve.prototype.desactiveEvent=function(){if(this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_SingleChoice||this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_MultiChoice){this.desactiveEventSingleMulti();} else if(this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_ShortAnswer||this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_NumericalAnswer){this.desactiveEventShort();} else if(this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_SpellAnswer){this.desactiveEventSpell();} else if(this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_Matching){var lAsymetrie=false;var lReponses=[];for(var i=0;i<this.question.listeReponses.GetNbrElements();i++){var lReponse=this.question.listeReponses.GetElement(i);if($.inArray(lReponse.association,lReponses)=== -1){lReponses.push(lReponse.association);} else{lAsymetrie=true;break;}}
  this.desactiveEventMatching(lAsymetrie);} else if(this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_ClozeField||this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_ClozeFixed||this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_ClozeVariable){this.desactiveEventCloze();}
  $('#'+this.idBoutonNext.escapeJQ()+this.indiceQuestion).show();};ObjetVisuEleve.prototype.majReponsesSingleMulti=function(){for(var x in this.question.reponsesRepondant){if(this.question.reponsesRepondant[x]!==''){this.composeMajReponsesSingleMulti('#'+this.Nom.escapeJQ()+'_q'+this.indiceQuestion+'_r'+(parseInt(this.question.reponsesRepondant[x])-1),true);}}};ObjetVisuEleve.prototype.majReponsesShort=function(){var lJqInput=$('#'+this.Nom.escapeJQ()+'_q'+this.indiceQuestion+'_r0');if(this.question.reponsesRepondant&&this.question.reponsesRepondant[0]){this.composeMajReponsesShort(lJqInput,GChaine.enleverEntites(this.question.reponsesRepondant[0]));}};ObjetVisuEleve.prototype.majReponsesSpell=function(){if(this.question.reponsesRepondant&&this.question.reponsesRepondant[0]){this.composeMajReponsesSpell('[name="'+this.Nom.escapeJQ()+'_q'+this.indiceQuestion+'_r"]',GChaine.enleverEntites(this.question.reponsesRepondant[0]));}};ObjetVisuEleve.prototype.majReponsesMatching=function(){var lUsedDraggable=['dummyID'];var lAsymetrie=false;if(this.question&&this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_Matching){var lReponses=[];for(var i=0;i<this.question.listeReponses.GetNbrElements();i++){var lReponse=this.question.listeReponses.GetElement(i);if($.inArray(lReponse.association,lReponses)=== -1){lReponses.push(lReponse.association);} else{lAsymetrie=true;break;}}}
  for(var x in this.question.reponsesRepondant){if(this.question.reponsesRepondant[x]!==''){var lResult=this.composeMajReponsesMatching('#'+this.Nom.escapeJQ()+'_q'+this.indiceQuestion+'_drop'+x,this.Nom+'_q'+this.indiceQuestion+'_r',GChaine.enleverEntites(this.question.reponsesRepondant[x]),lUsedDraggable,lAsymetrie);if(lResult){lUsedDraggable.push(lResult);} else{}}}};ObjetVisuEleve.prototype.majReponsesCloze=function(){var lThis=this;$('#'+this.idWrapperEnonce.escapeJQ()+this.indiceQuestion).find('select, input[type="text"]:not(.select-dropdown)').each(function(aIndex){if(lThis.question.reponsesRepondant&&lThis.question.reponsesRepondant[aIndex]!==''){lThis.composeMajReponsesCloze(this,GChaine.enleverEntites(lThis.question.reponsesRepondant[aIndex]));}});};ObjetVisuEleve.prototype.composeMajReponsesSingleMulti=function(){};ObjetVisuEleve.prototype.composeMajReponsesShort=function(){};ObjetVisuEleve.prototype.composeMajReponsesSpell=function(){};ObjetVisuEleve.prototype.composeMajReponsesMatching=function(){
  return'';};ObjetVisuEleve.prototype.composeMajReponsesCloze=function(){};ObjetVisuEleve.prototype.recupererReponses=function(){var lReponses=[],lJqInput,lReponse;if(this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_SingleChoice||this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_MultiChoice){$('[id^="'+this.Nom+'_q'+this.indiceQuestion+'_r"]:checked').each(function(){var lIndice=this.id.match(/_r([0-9]+)$/i)[1];lReponses.push(parseInt(lIndice)+1);});} else if(this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_ShortAnswer||this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_NumericalAnswer){lJqInput=$('#'+this.Nom.escapeJQ()+'_q'+this.indiceQuestion+'_r0');lReponse=lJqInput.val().replace(/^\s+/,'').replace(/\s+$/,'').replace(/\s+/gi,' ');lReponses.push(lReponse);} else if(this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_SpellAnswer){lJqInput=$('input[name="'+this.Nom.escapeJQ()+'_q'+this.indiceQuestion+'_r"]');lReponse='';lJqInput.each(function(){lReponse+=$(this).val();});lReponse=lReponse.replace(/^\s+/,'').replace(/\s+$/,'').replace(/\s+/gi,' ');lReponses.push(lReponse);} else if(this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_Matching){var lThis=this;$('[id^="'+this.Nom+'_q'+this.indiceQuestion+'_drop"]').each(function(){lReponses.push(lThis.getReponseMatching(this));});} else if(this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_ClozeField||this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_ClozeFixed||this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_ClozeVariable){$('#'+this.idWrapperEnonce.escapeJQ()+this.indiceQuestion).find('select, input[type="text"]:not(.select-dropdown)').each(function(){lReponse=$(this).val();if($(this).is('input')){lReponse=lReponse.replace(/^\s+/,'').replace(/\s+$/,'').replace(/\s+/gi,' ');}
  lReponses.push(lReponse);});}
  return lReponses;};ObjetVisuEleve.prototype.getReponseMatching=function(){};ObjetVisuEleve.prototype.setDonnees=function(aParam){if(this.estEnInitialisation()){this.executionQCM=aParam;this.nbQuestions=this.executionQCM.QCM&&this.executionQCM.QCM.nbQuestion?this.executionQCM.QCM.nbQuestion:this.executionQCM.nombreQuestionsSoumises?this.executionQCM.nombreQuestionsSoumises:this.executionQCM.QCM&&this.executionQCM.QCM.nbQuestionsTotal?this.executionQCM.QCM.nbQuestionsTotal:this.executionQCM.nbQuestionsTotal;if(!!this.executionQCM.listeCompetences){this.executionQCM.listeCompetences.setTri([ObjetTri.init('Libelle')]);this.executionQCM.listeCompetences.trier();}}
  if(aParam.message){this.executionQCM.message=aParam.message;}
  if(this.typeNumerotation===undefined||this.typeNumerotation===null){this.typeNumerotation=aParam.QCM&&aParam.QCM.typeNumerotation!==undefined?aParam.QCM.typeNumerotation:aParam.contenuQCM&&aParam.contenuQCM.typeNumerotation!==undefined?aParam.contenuQCM.typeNumerotation:aParam.typeNumerotation;}
  if(aParam&&((aParam.QCM&&aParam.QCM.etatCloture>=0)||aParam.etatCloture>=0)){this.etatCloture=aParam.etatCloture?aParam.etatCloture:aParam.QCM.etatCloture;}
  if(aParam.QCM&&aParam.modeVisuQuestion&&aParam.modeVisuQuestion===true&&$.isNumeric(aParam.questionEnVisu)){this.indiceQuestion=aParam.questionEnVisu;this.modeVisuQuestion=aParam.modeVisuQuestion;} else{this.modeVisuQuestion=false;}
  if(aParam.QCM){if(aParam.QCM.secEcoulees){this.start=new Date().getTime()-(aParam.QCM.secEcoulees*1000);} else if(!this.start&&!this.estEnInitialisation()){this.start=new Date().getTime();}
  if(aParam.QCM.listeQuestions&&!this.modeProf&&$.inArray(this.etatCloture,[TypeEtatExecutionQCMPourRepondant.EQR_EnCours,TypeEtatExecutionQCMPourRepondant.EQR_ARefaire])> -1){this.question=aParam.QCM.listeQuestions.GetElement(0);} else if(aParam.QCM.listeQuestions){this.listeQuestions=aParam.QCM.listeQuestions;this.question=aParam.QCM.listeQuestions.GetElement(this.indiceQuestion);}}
  if(this.estEnInitialisation()||!this.estEnCloture()||this.estEnCorrigeFin()){this.actualiser();}};ObjetVisuEleve.prototype.setDonneesReponse=function(aParam){this.etatCloture=aParam.etatCloture;if(aParam.etatCloture!==undefined&&$.inArray(aParam.etatCloture,[TypeEtatExecutionQCMPourRepondant.EQR_EnCours,TypeEtatExecutionQCMPourRepondant.EQR_ARefaire])=== -1&&this.executionQCM.modeDiffusionCorrige!==TypeModeCorrectionQCM.FBQ_CorrigeALaFin){this.composeCloture();if(aParam.etatCloture===TypeEtatExecutionQCMPourRepondant.EQR_DureeMaxDepassee){this.indiceQuestion=this.nbQuestions+Number(this.executionQCM.ressentiRepondant);}} else if(this.estEnRessenti()&&this.executionQCM.modeDiffusionCorrige===TypeModeCorrectionQCM.FBQ_CorrigeApresQuestion){this.indiceQuestion++;this.actualiser();} else if(this.executionQCM.modeDiffusionCorrige===TypeModeCorrectionQCM.FBQ_CorrigeALaFin&&aParam&&aParam.listeQuestions&&aParam.listeQuestions.GetNbrElements()>0){this.listeQuestions=aParam.listeQuestions;if(aParam.etatCloture!==TypeEtatExecutionQCMPourRepondant.EQR_DureeMaxDepassee){this.composeCorrigeFin();this.indiceQuestion++;this.enActualisation=false;} else{this.composeCloture();this.enActualisation=false;this.indiceQuestion=this.nbQuestions+Number(this.executionQCM.ressentiRepondant);}} else if(this.executionQCM.modeDiffusionCorrige===TypeModeCorrectionQCM.FBQ_CorrigeApresQuestion&&aParam&&aParam.listeQuestions&&aParam.listeQuestions.GetNbrElements()===1){$.extend(true,this.question,aParam.listeQuestions.GetElement(0));this.composeCorrige();this.enActualisation=false;}};ObjetVisuEleve.prototype.surEvenement=function(aObjet){if(this.enActualisation){return;} else{this.enActualisation=true;}
  if(this.estEnCloture()&&!this.estUnCorrigeVisibleApresCloture()){this.fermetureFenetre();return;}
  if(this.modeProf){this.surEvenementProf(aObjet);} else{this.surEvenementEleve(aObjet);}};ObjetVisuEleve.prototype.surEvenementProf=function(aObjet){if(aObjet.action==='submit'&&this.executionQCM.modeDiffusionCorrige===TypeModeCorrectionQCM.FBQ_CorrigeApresQuestion){if(this.estEnCours()){this.composeCorrige();this.enActualisation=false;} else if(this.estEnRessenti()){this.indiceQuestion++;this.actualiser();return;} else{this.fermetureFenetre();}
  $('#'+this.idBoutonSubmit.escapeJQ()+this.indiceQuestion).hide();} else{if(this.modeVisuQuestion){this.fermetureFenetre();return;}
  if(aObjet.action==='prev'){this.indiceQuestion--;} else{if(aObjet.action==='submit'){if(this.estEnCours()){this.evaluationNote[this.indiceQuestion].validee=true;this.question.reponsesRepondant=this.recupererReponses();} else if(this.estEnRessenti()){$.noop();} else if(this.estEnFin()){if(this.executionQCM.modeDiffusionCorrige!==TypeModeCorrectionQCM.FBQ_CorrigeALaFin||this.estEnCorrigeFin()){this.fermetureFenetre();} else{this.indiceQuestion++;this.composeCorrigeFin();}
  return;}}
  if(this.estEnCloture()&&this.executionQCM.estRejouable&&aObjet.action==='restart'){this.etatCloture=null;}
  if(this.estEnCloture()){this.indiceQuestion=this.nbQuestions+Number(this.executionQCM.ressentiRepondant)+1;} else{this.indiceQuestion++;}}
  this.recupererQuestionProf();}};ObjetVisuEleve.prototype.surEvenementEleve=function(aObjet){if(aObjet.action==='submit'&&this.executionQCM.modeDiffusionCorrige===TypeModeCorrectionQCM.FBQ_CorrigeApresQuestion){this.surEvenementValidationEleve();$('#'+this.idBoutonSubmit.escapeJQ()+this.indiceQuestion).hide();} else{if(aObjet.action==='prev'){this.indiceQuestion--;} else{if(aObjet.action==='submit'){if(!this.surEvenementValidationEleve()){return;}}
  if(this.estEnCloture()&&this.executionQCM.estRejouable&&aObjet.action==='restart'){this.etatCloture=null;}
  if(this.estEnInitialisation()&&this.estUneExecutionDejaCommencee()){this.indiceQuestion=this.executionQCM.indiceProchaineQuestion;} else if(this.estEnCloture()){this.indiceQuestion=this.nbQuestions+Number(this.executionQCM.ressentiRepondant)+1;} else{this.indiceQuestion++;}}
  this.recupererQuestionEleve();}};ObjetVisuEleve.prototype.recupererQuestion=function(){if(this.modeProf){this.recupererQuestionProf();} else{this.recupererQuestionEleve();}};ObjetVisuEleve.prototype.recupererQuestionProf=function(){if(this.listeQuestions&&this.listeQuestions.GetNbrElements()>0){if(this.executionQCM.dureeMaxQCM&&this.getMilliSecondesChrono()<=0){this.etatCloture=TypeEtatExecutionQCMPourRepondant.EQR_DureeMaxDepassee;}
  this.question=this.listeQuestions.GetElement(this.indiceQuestion);if(this.etatCloture===TypeEtatExecutionQCMPourRepondant.EQR_DureeMaxDepassee){this.composeCloture();this.enActualisation=false;this.indiceQuestion=this.nbQuestions+Number(this.executionQCM.ressentiRepondant);} else{this.actualiser();}} else{var lParam={action:'get',indiceQuestion:this.indiceQuestion,numeroExecution:this.numeroExecution,element:this.executionQCM,pourInitialisation:this.indiceQuestion===0&&!this.estEnCloture()};this.Evenement.call(this.Pere,lParam);}};ObjetVisuEleve.prototype.recupererQuestionEleve=function(){var lParam={action:'get',indiceQuestion:this.indiceQuestion,numeroExecution:this.numeroExecution,element:this.executionQCM,pourInitialisation:this.indiceQuestion===0&&!this.estEnCloture()};this.Evenement.call(this.Pere,lParam);};ObjetVisuEleve.prototype.surEvenementValidationEleve=function(){var lParam;if(this.estEnCours()){this.evaluationNote[this.indiceQuestion].validee=true;lParam={action:'set',element:this.executionQCM,indiceQuestion:this.indiceQuestion,reponse:this.recupererReponses()};this.Evenement.call(this.Pere,lParam);} else if(this.estEnRessenti()){lParam={action:'set',element:this.executionQCM,ressenti:this.ressenti};this.Evenement.call(this.Pere,lParam);} else if(this.estEnFin()){if(this.executionQCM.modeDiffusionCorrige!==TypeModeCorrectionQCM.FBQ_CorrigeALaFin||this.estEnCorrigeFin()){this.fermetureFenetre(this.executionQCM.modeDiffusionCorrige!==TypeModeCorrectionQCM.FBQ_CorrigeALaFin);} else{lParam={action:'set',element:this.executionQCM,pourCloture:true};this.Evenement.call(this.Pere,lParam);}
  return false;}
  return true;};ObjetVisuEleve.prototype.fermetureFenetre=function(aPourCloture){var lParam={action:'close'};if(aPourCloture===true){lParam.element=this.executionQCM;lParam.pourCloture=true;}
  this.Evenement.call(this.Pere,lParam);};ObjetVisuEleve.prototype.estEnInitialisation=function(){return this.indiceQuestion=== -1;};ObjetVisuEleve.prototype.estEnRessenti=function(){return this.indiceQuestion===this.nbQuestions&&this.executionQCM.ressentiRepondant;};ObjetVisuEleve.prototype.estEnFin=function(){return this.indiceQuestion>=this.nbQuestions&&!this.estEnRessenti();};ObjetVisuEleve.prototype.estEnCorrigeFin=function(){return(this.executionQCM.modeDiffusionCorrige===TypeModeCorrectionQCM.FBQ_CorrigeALaFin||(this.estEnCloture()&&this.estUnCorrigeVisibleApresCloture()))&&this.indiceQuestion===this.nbQuestions+Number(this.executionQCM.ressentiRepondant)+1;};ObjetVisuEleve.prototype.estEnCours=function(){return this.indiceQuestion> -1&&this.indiceQuestion<this.nbQuestions;};ObjetVisuEleve.prototype.estEnCloture=function(){return this.etatCloture!==undefined&&this.etatCloture!==null&&$.inArray(this.etatCloture,[TypeEtatExecutionQCMPourRepondant.EQR_EnCours,TypeEtatExecutionQCMPourRepondant.EQR_ARefaire])=== -1;};ObjetVisuEleve.prototype.estUneExecutionDejaCommencee=function(){return this.executionQCM.indiceProchaineQuestion>=0&&this.executionQCM.indiceProchaineQuestion<this.nbQuestions;};ObjetVisuEleve.prototype.estUnCorrigeVisibleApresCloture=function(){return this.executionQCM.publierCorrige||this.executionQCM.modeDiffusionCorrige===TypeModeCorrectionQCM.FBQ_CorrigeALaFin||this.executionQCM.modeDiffusionCorrige===TypeModeCorrectionQCM.FBQ_CorrigeApresQuestion;};module.exports=ObjetVisuEleve;},fn:"produit/script/objetvisueleveqcm.js"});;
  IE.fModule({f:function(exports,require,module,global){var TypeNote=require('TypeNote.js');require('NiveauAcquisition.css');var MethodesTableau=require('MethodesTableau.js');var EGenreNiveauDAcquisition={Multiple:100,Utilisateur:0,Expert:1,Acquis:2,PresqueAcquis:3,EnCoursAcquisition:4,DebutAcquisition:5,NonAcquis:6,Absent:7,NonEvalue:8,Dispense:9,NonRendu:10};EGenreNiveauDAcquisition.getNombrePointsBrevet=function(aParams){return!!aParams.niveauDAcquisition&&!!aParams.niveauDAcquisition.nombrePointsBrevet?aParams.niveauDAcquisition.nombrePointsBrevet:new TypeNote('');};EGenreNiveauDAcquisition.getPonderation=function(aParams){return aParams.niveauDAcquisition?aParams.niveauDAcquisition.ponderation:new TypeNote('');};EGenreNiveauDAcquisition.estUneAnnotation=function(aNiveauAcquisition){return MethodesTableau.existe(aNiveauAcquisition.GetGenre(),[EGenreNiveauDAcquisition.Absent,EGenreNiveauDAcquisition.Dispense,EGenreNiveauDAcquisition.NonRendu]);};function getHtmlPastille(aParams){var H=[];if(!!aParams.nomIcone){H.push('<span class="NiveauAcquisition_Wrapper"'+(!!aParams.tailleFont?' style="font-size:'+aParams.tailleFont+'rem;"':'')+'>');H.push('<i',' class="NiveauAcquisition_Icone ',aParams.nomIcone,'"',' style="',(!!aParams.couleurIcone?'color: '+aParams.couleurIcone+';':''),'text-shadow: ','1px 1px ',aParams.couleurBordure,',','-1px -1px ',aParams.couleurBordure,',','1px -1px ',aParams.couleurBordure,',','-1px 1px ',aParams.couleurBordure,'"></i>');H.push('</span>');} else{var lContenu='';if(!!aParams.contenu){var lCouleurContenu='white';if(!!aParams.contenu.couleur){lCouleurContenu=aParams.contenu.couleur;}
  var lStylesContenu=[];if(!!aParams.contenu.taille){lStylesContenu.push('font-size: '+aParams.contenu.taille+'em;');}
  lContenu='<text x="50%" y="50%" dy="0.35em" fill="'+lCouleurContenu+'" style="'+lStylesContenu.join('')+'" text-anchor="middle">'+aParams.contenu.valeur+'</text>';}
  var lCouleurPastille='white';if(!!aParams.couleurIcone){lCouleurPastille=aParams.couleurIcone;}
  var lCouleurBordure='black';if(!!aParams.couleurBordure){lCouleurBordure=aParams.couleurBordure;}
  var lTailleBordure=aParams.tailleBordure;H.push('<span class="NiveauAcquisition_Wrapper" ',(!!aParams.tailleFont?' style="font-size:'+aParams.tailleFont+'rem;"':''),'>','<svg>','<circle cx="50%" cy="50%" r="',(50-lTailleBordure),'%" stroke-width="',lTailleBordure,'%" fill="',lCouleurPastille,'" stroke="',lCouleurBordure,'"></circle>',lContenu,'</svg>','</span>');}
  return H.join('');}
  function getNomIcone(aNiveauAcquisition){var lNomIcone;if(!!aNiveauAcquisition){switch(aNiveauAcquisition.GetGenre()){case(EGenreNiveauDAcquisition.Absent):return'icon-competence-absent';case(EGenreNiveauDAcquisition.Dispense):return'icon-competence-dispense';case(EGenreNiveauDAcquisition.NonRendu):return'icon-competence-non-rendu';default:return'';}}
  return lNomIcone;}
  function getCouleurIcone(aNiveauAcquisition){var lCouleurIcon;if(!!aNiveauAcquisition){if(EGenreNiveauDAcquisition.estUneAnnotation(aNiveauAcquisition)){lCouleurIcon='#009ee1';} else{lCouleurIcon=EGenreNiveauDAcquisition.getCouleur({niveauDAcquisition:aNiveauAcquisition});}}
  return lCouleurIcon;}
  function getCouleurBordure(aNiveauAcquisition){var lCouleurBordure;if(!!aNiveauAcquisition){if(EGenreNiveauDAcquisition.estUneAnnotation(aNiveauAcquisition)){lCouleurBordure='#FFFFFF';} else{var lCouleurIcon=getCouleurIcone(aNiveauAcquisition);lCouleurBordure=GCouleur.getCouleurContrastee(lCouleurIcon,lCouleurIcon,{ponderationFoncee:2});}}
  return lCouleurBordure;}
  function getTailleBordure(aNiveauAcquisition){var lTailleBordure=2;if(!!aNiveauAcquisition){if(aNiveauAcquisition.GetGenre()===EGenreNiveauDAcquisition.NonEvalue){lTailleBordure=6;}}
  return lTailleBordure;}
  EGenreNiveauDAcquisition.getImage=function(aParams){var H=[];if(!!aParams.niveauDAcquisition){var lNiveau=aParams.niveauDAcquisition;H.push('<span',(aParams.avecTitle||aParams.avecTitle===null||aParams.avecTitle===undefined?' title="'+this.getLibelle(aParams)+'"':''),'>');if(GParametres.afficherAbbreviationNiveauDAcquisition||GEtatUtilisateur.estModeAccessible()){H.push(EGenreNiveauDAcquisition.getAbbreviation(aParams));} else if(aParams.niveauDAcquisition.GetGenre()>=EGenreNiveauDAcquisition.Expert){var lCouleurIcon=getCouleurIcone(lNiveau);var lContenuPastille;if(aParams.niveauDAcquisition.GetGenre()===EGenreNiveauDAcquisition.Expert){lContenuPastille={valeur:'+',couleur:GCouleur.getCouleurCorrespondance(lCouleurIcon),taille:1.5};}
  H.push(getHtmlPastille({nomIcone:getNomIcone(lNiveau),couleurIcone:lCouleurIcon,couleurBordure:getCouleurBordure(lNiveau),tailleBordure:getTailleBordure(lNiveau),contenu:lContenuPastille,tailleFont:aParams.tailleFont}));}
  H.push('</span>');}
  return H.join('');};EGenreNiveauDAcquisition.getAbbreviation=function(aParams){return(aParams.niveauDAcquisition.existeNumero()||aParams.afficherValeurPourNonRempli)?(aParams.niveauDAcquisition.abbreviation||''):'';};EGenreNiveauDAcquisition.getLibelle=function(aParams){return aParams.avecVide||!aParams.niveauDAcquisition?'':aParams.niveauDAcquisition.GetLibelle();};EGenreNiveauDAcquisition.getCouleur=function(aParams){return aParams.niveauDAcquisition?aParams.niveauDAcquisition.couleur:'white';};EGenreNiveauDAcquisition.ordre=function(){return[
  this.Expert,this.Acquis,this.PresqueAcquis,this.EnCoursAcquisition,this.DebutAcquisition,this.NonAcquis,this.Absent,this.NonEvalue,this.Dispense,this.NonRendu,this.Utilisateur
  ];};EGenreNiveauDAcquisition.getImagePositionnement=function(aParams){var H=[];if(aParams.niveauDAcquisition){var lNiveau=aParams.niveauDAcquisition;H.push('<span',(aParams.avecTitle===undefined||aParams.avecTitle===null||aParams.avecTitle===true?' title="'+this.getLibellePositionnement(aParams)+'"':''),'>');if(GParametres.afficherAbbreviationNiveauDAcquisition||GEtatUtilisateur.estModeAccessible()){H.push(getAbbreviationPositionnement(aParams)||'');} else if(aParams.niveauDAcquisition.GetGenre()>=EGenreNiveauDAcquisition.Expert){var lCouleurIcon=getCouleurIcone(lNiveau);var lContenuPastille;if(lNiveau.GetGenre()===EGenreNiveauDAcquisition.Expert){lContenuPastille={valeur:4};} else if(lNiveau.GetGenre()===EGenreNiveauDAcquisition.Acquis){lContenuPastille={valeur:3};} else if(lNiveau.GetGenre()===EGenreNiveauDAcquisition.EnCoursAcquisition){lContenuPastille={valeur:2};} else if(lNiveau.GetGenre()===EGenreNiveauDAcquisition.NonAcquis){lContenuPastille={valeur:1};}
  if(!!lContenuPastille){lContenuPastille.couleur=GCouleur.getCouleurCorrespondance(lCouleurIcon);}
  H.push(getHtmlPastille({nomIcone:getNomIcone(lNiveau),couleurIcone:lCouleurIcon,couleurBordure:getCouleurBordure(lNiveau),tailleBordure:getTailleBordure(lNiveau),contenu:lContenuPastille,tailleFont:aParams.tailleFont}));}
  H.push('</span>');}
  return H.join('');};EGenreNiveauDAcquisition.getLibellePositionnement=function(aParams){var lPositionnement=!!aParams.niveauDAcquisition.listePositionnements.GetNbrElements()?aParams.niveauDAcquisition.listePositionnements.GetElementParGenre(aParams.genrePositionnement):null;return(!!lPositionnement&&(lPositionnement.GetLibelle()||!!aParams.avecPositionnementVide)?lPositionnement.GetLibelle():aParams.niveauDAcquisition.GetLibelle());};function getAbbreviationPositionnement(aParams){var lPositionnement=aParams.niveauDAcquisition.listePositionnements?aParams.niveauDAcquisition.listePositionnements.GetElementParGenre(aParams.genrePositionnement):null;var result='';if((!!lPositionnement&&lPositionnement.abbreviation)||aParams.avecPositionnementVide){result=(aParams.avecPrefixe?lPositionnement.abbreviationAvecPrefixe:lPositionnement.abbreviation);} else{result=EGenreNiveauDAcquisition.getAbbreviation(aParams);}
  return result;}
  module.exports=EGenreNiveauDAcquisition;},fn:"enumere_niveaudacquisition.js"});;
  IE.fModule({f:function(exports,require,module,global){var ObjetVisuEleve=require('ObjetVisuEleveQCM.js');var MethodesObjet=require('MethodesObjet.js');var GChaine=require('GChaine.js');var GStyle=require('GStyle.js');var GTraductions=require('ObjetTraduction.js');var TypeEtatExecutionQCMPourRepondant=require('TypeEtatExecutionQCMPourRepondant.js').TypeEtatExecutionQCMPourRepondant;var TypeGenreExerciceDeQuestionnaire=require('TypeGenreExerciceDeQuestionnaire.js').TypeGenreExerciceDeQuestionnaire;var TypeModeCorrectionQCM=require('TypeModeCorrectionQCM.js').TypeModeCorrectionQCM;var TUtilitaireDuree=require('UtilitaireDuree.js');var UtilitaireQCM=require('UtilitaireQCM.js').UtilitaireQCM;var EGenreNiveauDAcquisition=require('Enumere_NiveauDAcquisition.js')
  ;MethodesObjet.heritagePrototype(ObjetVisuEleve_Espace,ObjetVisuEleve);function ObjetVisuEleve_Espace(){this.inheritedCreate(arguments);this.nbImages=0;this.nbImagesChargees=0;this.ressentiSelectionne=false;this.idWrapperTitre=this.Nom+'_WrapperTitre_';this.idWrapperQuestion=this.Nom+'_WrapperQuestion_';this.idWrapperNavigation=this.Nom+'_WrapperNavigation_';this.idWrapperReponses=this.Nom+'_WrapperReponses_';this.idWrapperEnonce=this.Nom+'_WrapperEnonce_';this.idWrapperCorrige=this.Nom+'_WrapperCorrige';this.idWrapperBarreProgression=this.Nom+'_WrapperBarreProg';this.idProgression=this.Nom+'_idProgression_';this.idIndicateurProg=this.Nom+'_IndicateurProgression';this.idBoutonPrev=this.Nom+'_boutonPrev_';this.idBoutonStart=this.Nom+'_boutonStart';this.couleurFondQCM='#f0efeb';}
  ObjetVisuEleve_Espace.prototype.triggerFinActualisation=function(){};ObjetVisuEleve_Espace.prototype.composeOuvertureDivGlobal=function(){return'<div style="position:absolute;top:0;left:0;right:0;bottom:0;background-color:'+this.couleurFondQCM+';color:#000;line-height:30px;padding:0 10px;">';};ObjetVisuEleve_Espace.prototype.composeFermetureDivGlobal=function(){return'</div>';};ObjetVisuEleve_Espace.prototype.composeTitre=function(){var lHtmlTitle=[];if(this.executionQCM.GetLibelle()){lHtmlTitle.push(this.executionQCM.GetLibelle());}
  if(this._estUnIDevoir(this.executionQCM)){lHtmlTitle.push(GTraductions.getValeur('ExecutionQCM.typesQCM.IDevoir'));} else if(this.executionQCM.estUnTAF){lHtmlTitle.push(GTraductions.getValeur('ExecutionQCM.typesQCM.QCMDeTaf'));} else{lHtmlTitle.push(GTraductions.getValeur('ExecutionQCM.typesQCM.QCMDeContenu'));}
  if(this.executionQCM.service&&this.executionQCM.service.GetLibelle()){lHtmlTitle.push(this.executionQCM.service.GetLibelle());}
  if(this.executionQCM.matiere&&this.executionQCM.matiere.GetLibelle()){lHtmlTitle.push(this.executionQCM.matiere.GetLibelle());}
  if(this.executionQCM.listeProfesseurs){lHtmlTitle.push(this.executionQCM.listeProfesseurs.getTableauLibelles().join(', '));}
  return GChaine.enleverEntites(lHtmlTitle.join(' - '));};ObjetVisuEleve_Espace.prototype.composeAffichageQuestion=function(){var lHtml=[];if(!this.affichageEnLigne){lHtml.push('<div id="',this.idWrapperGlobal,'" style="position:absolute;top:20px;right:150px;bottom:20px;left:0px;text-align:right;">');lHtml.push('<div class="InlineBlock" style="height:100%;vertical-align:middle;"></div>');}
  lHtml.push('<div id="',this.idWrapperAffichage,this.indiceQuestion,'" class="InlineBlock" style="position:relative;vertical-align:middle;width:90%;text-align:left;">');lHtml=lHtml.concat(this.composeNavigation());lHtml=lHtml.concat(this.composeQuestion());lHtml.push('</div>');if(!this.affichageEnLigne){lHtml.push('</div>');lHtml.push('<div style="position:absolute;top:20px;right:0px;width:130px;height:100px;">');if(this.executionQCM.dureeMaxQCM){lHtml=lHtml.concat(this.composeChrono());}
  lHtml.push('</div>');lHtml.push('<div id="',this.idWrapperBarreProgression,'" style="position:absolute;top:120px;right:0px;bottom:20px;width:130px;text-align:center;">');lHtml=lHtml.concat(this.composeBarreProgression());lHtml.push('</div>');}
  return lHtml;};ObjetVisuEleve_Espace.prototype.ajouterEvenementMatching=function(aAsymetrie){var lMaxHeightReponse=0;$('[id^="'+this.Nom+'_q'+this.indiceQuestion+'_r"]').each(function(){lMaxHeightReponse=Math.max(lMaxHeightReponse,$(this).height());});$('[id^="'+this.Nom+'_q'+this.indiceQuestion+'_drop"]').each(function(){var lMaxHeight=Math.max(lMaxHeightReponse,$(this).height(),$('#'+this.id.replace('_drop','_assoc').escapeJQ()).height());$(this).height(lMaxHeight);$('#'+this.id.replace('_drop','_assoc').escapeJQ()).height(lMaxHeight);});$('#'+this.Nom.escapeJQ()+'_q'+this.indiceQuestion+'_choix').css('height',function(){return $(this).height();});$($('[id^="'+this.Nom+'_q'+this.indiceQuestion+'_r"]').get().reverse()).each(function(){var lPos=$(this).position();$(this).css({position:'absolute',top:lPos.top,left:lPos.left});});$('[id^="'+this.Nom+'_q'+this.indiceQuestion+'_r"]').draggable({revert:'invalid',cursor:'move',helper:aAsymetrie?'clone':'original',cursorAt:{top:5,left:5},containment:'#'+this.idWrapperQuestion.escapeJQ()+' .jspPane',drag:this.onDrag});var lThis=this;$('[id^="'+this.Nom+'_q'+this.indiceQuestion+'_drop"]').droppable({hoverClass:'objetVisuEleveDropHover',drop:function(event,ui){if(aAsymetrie&&ui.draggable.attr('id')){var lNewElement=ui.draggable.clone(false);lNewElement.attr('name',lNewElement.attr('id'));lNewElement.attr('id','');lNewElement.draggable({revert:'invalid',cursor:'move',helper:'original',cursorAt:{top:5,left:5},containment:'#'+lThis.idWrapperQuestion.escapeJQ()+' .jspPane',drag:lThis.onDrag});ui.draggable.after(lNewElement);lNewElement.offset($(this).offset());lNewElement.addClass('ui-dropped');lNewElement.data('droppedOn',$(this).attr('id'));} else{ui.draggable.offset($(this).offset());ui.draggable.addClass('ui-dropped');ui.draggable.data('droppedOn',$(this).attr('id'));}
  $(this).data('dragId',ui.draggable.attr('id')||ui.draggable.attr('name'));},accept:function(ele){if(!$(this).data('dragId')||(!aAsymetrie&&$(this).data('dragId')===ele.attr('id'))){return true;} else if($(this).data('dragId')&&aAsymetrie){if(ele.attr('id')){return false;} else if($(this).data('dragId')===ele.attr('name')){if($(this).attr('id')===ele.data('droppedOn')){return true;} else{return false;}}} else{return false;}},out:function(event,ui){ui.draggable.removeClass('ui-dropped');$(this).removeData('dragId');},tolerance:"pointer"});$('[id="'+this.Nom+'_q'+this.indiceQuestion+'_choix"]').droppable({hoverClass:'objetVisuEleveDropHover',drop:function(event,ui){if(aAsymetrie){if(!ui.draggable.attr('id')){ui.draggable.draggable('destroy').remove();$('body').css('cursor','');}}}});};ObjetVisuEleve_Espace.prototype.onDrag=function(event,ui){var lJqScroll=$(this).parents('.jspScrollable:first');if(lJqScroll.length){var lDelta=0;if(ui.offset.top-lJqScroll.offset().top<= -1){lDelta=ui.offset.top-lJqScroll.offset().top;} else if(ui.offset.top>lJqScroll.offset().top+lJqScroll.height()){lDelta=ui.offset.top-(lJqScroll.offset().top+lJqScroll.height());}
  if(lDelta!==0){var lOldPos=lJqScroll.data('jsp').getPercentScrolledY();lJqScroll.data('jsp').scrollByY(lDelta);if(lOldPos!==lJqScroll.data('jsp').getPercentScrolledY()){ui.position.top=parseFloat(ui.helper[0].style.top)+lDelta;ui.helper.data('ui-draggable').offset.parent.top-=lDelta;}}}};ObjetVisuEleve_Espace.prototype.ajouterEvenementSingleMultiChoice=function(){var lJqInputs=$('input[id^="'+this.Nom+'_q'+this.indiceQuestion+'_r"]');if(lJqInputs.length&&lJqInputs.first().parents('.objetVisuEleveBouton:first').length){lJqInputs.change(function(event){$(this).parents('.'+UtilitaireQCM.classWrapperInput).parent().toggleClass('objetVisuEleveBoutonChecked',$(this).is(':checked'));if(this.type==='radio'){$(this).parents('.'+UtilitaireQCM.classWrapperInput).parent().parent().parent().siblings().children('td:first-child').children('div').removeClass('objetVisuEleveBoutonChecked');}
  event.stopImmediatePropagation();});}};ObjetVisuEleve_Espace.prototype.composeAffichageRessenti=function(){var lHtml=[];if(!this.affichageEnLigne){lHtml.push('<div id="',this.idWrapperGlobal,'" style="position:absolute;top:20px;right:20px;bottom:20px;left:20px;">');lHtml.push('<div class="InlineBlock" style="height:100%;vertical-align:middle;"></div>');}
  lHtml.push('<div id="',this.idWrapperAffichage,this.indiceQuestion,'" class="InlineBlock" style="vertical-align:middle;width:99%;position:relative;">');lHtml=lHtml.concat(this.composeNavigation());lHtml=lHtml.concat(this.composeRessenti());lHtml.push('</div>');if(!this.affichageEnLigne){lHtml.push('</div>');}
  return lHtml;};ObjetVisuEleve_Espace.prototype.composeAffichageFin=function(){var lHtml=[];if(!this.affichageEnLigne){lHtml.push('<div id="',this.idWrapperGlobal,'" style="position:absolute;top:20px;right:20px;bottom:20px;left:20px;">');lHtml.push('<div class="InlineBlock" style="height:100%;vertical-align:middle;"></div>');}
  lHtml.push('<div id="',this.idWrapperAffichage,this.indiceQuestion,'" class="InlineBlock" style="vertical-align:middle;width:99%;position:relative;">');lHtml.push('<div style="position:absolute;top:0;left:0;width:100%;height:100%;"><table id="',this.idWrapperNavigation,this.indiceQuestion,'" style="width:100%;height:100%;"><tr>');lHtml.push('<td style="vertical-align:middle;">');lHtml.push('<div style="width:38px;height:30px;">&nbsp;</div>');lHtml.push('</td>');lHtml.push('<td style="width:100%;vertical-align:bottom;">');lHtml.push('<div id="',this.idBoutonSubmit,this.indiceQuestion,'" style="width:250px;height:30px;line-height:30px;font-size:15px;border-radius: 2px;box-shadow: 0 3px 4px -3px #555555;color:#FFFFFF;text-shadow: 0 1px 1px #555555;background-color:',this.couleurThemeQCM,';text-align:center;cursor:pointer;margin:0 auto;" onclick="'+this.Nom+'.surEvenement({action: \'submit\'});" tabIndex="0"><strong>');if(this.executionQCM.modeDiffusionCorrige===TypeModeCorrectionQCM.FBQ_CorrigeALaFin){lHtml.push(GTraductions.getValeur('ExecutionQCM.presentationCorrige.VisualiserCorrige'));} else{lHtml.push(GTraductions.getValeur('ExecutionQCM.Terminer'));}
  lHtml.push('</strong></div>');lHtml.push('</td>');lHtml.push('<td style="vertical-align:middle;">');lHtml.push('<div style="width:38px;height:30px;">&nbsp;</div>');lHtml.push('</td>');lHtml.push('</tr></table></div>');lHtml.push('<div style="background-color:#fff;color:#000;box-shadow: 0 3px 10px -5px #000000;font-size:20px;padding:10px;margin:0 50px 50px;">');var lEstUnIDevoir=this._estUnIDevoir(this.executionQCM);var lCleTraductionPhraseFin;if(this.executionQCM.modeDiffusionCorrige===TypeModeCorrectionQCM.FBQ_CorrigeALaFin){lCleTraductionPhraseFin=(lEstUnIDevoir?'ExecutionQCM.phraseFinAvantCorrige':'ExecutionQCM.phraseFinQCMAvantCorrige');} else{lCleTraductionPhraseFin=(lEstUnIDevoir?'ExecutionQCM.phraseFin':'ExecutionQCM.phraseFinQCM');}
  lHtml.push('<h1 style="text-align:center;font-size:25px;">',GTraductions.getValeur(lCleTraductionPhraseFin),'</h1>');lHtml.push('</div>');lHtml.push('</div>');if(!this.affichageEnLigne){lHtml.push('</div>');}
  return lHtml;};ObjetVisuEleve_Espace.prototype.composePageNonDemarre=function(){var lHtml=[];if(!this.affichageEnLigne){lHtml.push('<div id="',this.idWrapperGlobal,'" style="position:absolute;top:20px;right:20px;bottom:20px;left:20px;">');lHtml.push('<div class="InlineBlock" style="height:100%;vertical-align:middle;"></div>');}
  lHtml.push('<div id="',this.idWrapperAffichage,this.indiceQuestion,'" class="InlineBlock" style="vertical-align:middle;width:99%;position:relative;">');lHtml.push('<div style="position:absolute;top:0;left:0;width:100%;height:100%;"><table id="',this.idWrapperNavigation,this.indiceQuestion,'" style="width:100%;height:100%;"><tr>');lHtml.push('<td style="vertical-align:middle;">');lHtml.push('<div style="width:38px;height:30px;">&nbsp;</div>');lHtml.push('</td>');lHtml.push('<td style="width:100%;vertical-align:bottom;">');lHtml.push('<div id="',this.idBoutonSubmit,this.indiceQuestion,'" style="width:120px;height:30px;line-height:30px;font-size:15px;border-radius: 2px;box-shadow: 0 3px 4px -3px #555555;color:#FFFFFF;text-shadow: 0 1px 1px #555555;background-color:',this.couleurThemeQCM,';text-align:center;cursor:pointer;margin:0 auto;" onclick="'+this.Nom+'.fermetureFenetre();" tabIndex="0"><strong>'+GTraductions.getValeur('ExecutionQCM.Terminer')+'</strong></div>');lHtml.push('</td>');lHtml.push('<td style="vertical-align:middle;">');lHtml.push('<div style="width:38px;height:30px;">&nbsp;</div>');lHtml.push('</td>');lHtml.push('</tr></table></div>');lHtml.push('<div style="background-color:#fff;color:#000;box-shadow: 0 3px 10px -5px #000000;font-size:20px;padding:10px;margin:0 50px 50px;">');lHtml.push('<h1 style="text-align:center;font-size:25px;">'+GTraductions.getValeur('ExecutionQCM.phraseClotureNonDemarre')+'</h1>');lHtml.push('</div>');lHtml.push('</div>');if(!this.affichageEnLigne){lHtml.push('</div>');}
  return lHtml;};ObjetVisuEleve_Espace.prototype.composeCloture=function(){$('#'+this.idContenu).IEHtml('');var lHtml=[];lHtml.push('<div style="position:absolute;top:0;left:0;right:0;bottom:0;background-color:',this.couleurFondQCM,';color:#000;line-height:30px;padding:0 10px;">');lHtml.push('<div id="',this.idWrapperGlobal,'" style="position:absolute;top:20px;right:20px;bottom:20px;left:20px;">');lHtml.push('<div class="InlineBlock" style="height:100%;vertical-align:middle;"></div>');lHtml.push('<div class="InlineBlock" style="width:99%;color:#000;font-size:20px;text-align:left;vertical-align:middle;">');lHtml.push('<div style="background-color:#fff;color:#000;box-shadow: 0 3px 10px -5px #000000;font-size:20px;padding:10px;margin:0 50px 50px;">');var lEstUnIDevoir=this._estUnIDevoir(this.executionQCM);var lCleTraductionPhraseCloture;if(this.etatCloture===TypeEtatExecutionQCMPourRepondant.EQR_DureeMaxDepassee){lCleTraductionPhraseCloture=(lEstUnIDevoir?'ExecutionQCM.PhraseClotureDelaiMax':'ExecutionQCM.PhraseClotureQCMDelaiMax');} else{lCleTraductionPhraseCloture=(lEstUnIDevoir?'ExecutionQCM.PhraseCloture':'ExecutionQCM.PhraseClotureQCM');}
  lHtml.push('<h1 style="text-align:center;font-size:25px;">',GTraductions.getValeur(lCleTraductionPhraseCloture),'</h1>');lHtml.push('</div>');lHtml.push('<table id="',this.idWrapperNavigation,this.indiceQuestion,'" style="width:100%;"><tr>');lHtml.push('<td style="width:100%;">');lHtml.push('<div id="',this.idBoutonSubmit,this.indiceQuestion,'" style="width:120px;height:30px;line-height:30px;font-size:15px;border-radius: 2px;box-shadow: 0 3px 4px -3px #555555;color:#FFFFFF;text-shadow: 0 1px 1px #555555;background-color:',this.couleurThemeQCM,';text-align:center;cursor:pointer;margin:0 auto;" onclick="'+this.Nom+'.surEvenement({action: \'submit\'});" tabIndex="0"><strong>'+GTraductions.getValeur('ExecutionQCM.Terminer')+'</strong></div>');lHtml.push('</td>');lHtml.push('</tr></table>');lHtml.push('</div>');lHtml.push('</div>');lHtml.push('</div>');$('#'+this.idContenu).IEHtml(lHtml.join(''));this.actualiserHauteurQuestion();this.enActualisation=false;};ObjetVisuEleve_Espace.prototype.composeAffichageCorrigeFin=function(){var lHtml=[];lHtml.push('<div style="position:absolute;top:0;left:0;right:0;bottom:0;background-color:',this.couleurFondQCM,';color:#000;line-height:30px;padding:0 10px;">');lHtml.push('<div id="',this.idWrapperGlobal,'" style="position:absolute;top:20px;right:20px;bottom:20px;left:20px;">');lHtml.push('<div class="InlineBlock" style="height:100%;vertical-align:middle;"></div>');lHtml.push('<div id="',this.idWrapperCorrige,'" class="InlineBlock" style="width:99%;color:#000;font-size:20px;text-align:left;vertical-align:middle;max-height:100%;overflow:auto;">');var lBackupIndice=this.indiceQuestion;if(this.listeQuestions){for(var i=0;i<this.listeQuestions.GetNbrElements();i++){this.indiceQuestion=i;this.question=this.listeQuestions.GetElement(i);lHtml.push('<div id="',this.idWrapperAffichage,this.indiceQuestion,'" style="width:99%;">');lHtml=lHtml.concat(this.composeQuestion());lHtml.push('</div>');}}
  this.indiceQuestion=lBackupIndice;lHtml.push('<table id="',this.idWrapperNavigation,this.indiceQuestion,'" style="width:100%;"><tr>');lHtml.push('<td style="width:100%;">');lHtml.push('<div id="',this.idBoutonSubmit,this.indiceQuestion,'" style="width:120px;height:30px;line-height:30px;font-size:15px;border-radius: 2px;box-shadow: 0 3px 4px -3px #555555;color:#FFFFFF;text-shadow: 0 1px 1px #555555;background-color:',this.couleurThemeQCM,';text-align:center;cursor:pointer;margin:0 auto;" onclick="'+this.Nom+'.surEvenement({action: \'submit\'});" tabIndex="0"><strong>'+GTraductions.getValeur('ExecutionQCM.Terminer')+'</strong></div>');lHtml.push('</td>');lHtml.push('</tr></table>');lHtml.push('</div>');lHtml.push('</div>');lHtml.push('</div>');return lHtml;};ObjetVisuEleve_Espace.prototype.autoriserFermetureInterface=function(){this.Evenement.call(this.Pere,{action:'afficherCroix'});};ObjetVisuEleve_Espace.prototype.interdireFermetureInterface=function(){this.Evenement.call(this.Pere,{action:'masquerCroix'});};ObjetVisuEleve_Espace.prototype.actualiserHauteurCartoucheCompetences=function(){$('#'+this.idCartoucheCompetences.escapeJQ()).ieScrollPane({showArrows:true});};ObjetVisuEleve_Espace.prototype.actualiserHauteurCorrige=function(){if($('#'+this.idWrapperCorrige.escapeJQ()).get(0).scrollHeight>$('#'+this.idWrapperGlobal.escapeJQ()).height()){$('#'+this.idWrapperCorrige.escapeJQ()).ieScrollPane();}};ObjetVisuEleve_Espace.prototype.actualiserHauteurQuestion=function(aIndice){if(aIndice!==undefined){this.nbImagesChargees++;}
  if(this.affichageUnePage!==true){aIndice=aIndice?aIndice:this.indiceQuestion;if($('#'+this.idWrapperQuestion.escapeJQ()+aIndice).data('jsp')){$('#'+this.idWrapperQuestion.escapeJQ()+aIndice).data('jsp').destroy();}
  var lMaxHeight=$('#'+this.idWrapperGlobal.escapeJQ()).height()-20-10-$('#'+this.idWrapperTitre.escapeJQ()+aIndice).height()-($('#'+(this.idBoutonSubmit+aIndice).escapeJQ()).is(':visible')?50:0);$('#'+this.idWrapperQuestion.escapeJQ()+aIndice).height('');if($('#'+this.idWrapperQuestion.escapeJQ()+aIndice).height()>lMaxHeight){$('#'+this.idWrapperQuestion.escapeJQ()+aIndice).height(lMaxHeight+'px');$('#'+this.idWrapperQuestion.escapeJQ()+aIndice).ieScrollPane({showArrows:true});}}
  var lJqCorrige=$('#'+this.idWrapperCorrige.escapeJQ());if(aIndice&&this.nbImagesChargees===this.nbImages&&lJqCorrige.length){if(lJqCorrige.data('jsp')){lJqCorrige.data('jsp').destroy();}
  if($('#'+this.idWrapperCorrige.escapeJQ()).get(0).scrollHeight>$('#'+this.idWrapperGlobal.escapeJQ()).height()){$('#'+this.idWrapperCorrige.escapeJQ()).ieScrollPane();}}};ObjetVisuEleve_Espace.prototype.actualiserHauteurReponse=function(){};ObjetVisuEleve_Espace.prototype.composePageModalite=function(){var lHtml=[];lHtml.push('<div style="position:absolute;top:0;left:0;right:0;bottom:0;text-align:center;">');lHtml.push('<div class="InlineBlock" style="height:100%;vertical-align:middle;"></div>');lHtml.push('<div class="InlineBlock" style="width:70%;background-color:#fff;color:#000;box-shadow: 0 3px 10px -5px #000000;font-size:20px;padding:10px 10px 30px 10px;text-align:left;vertical-align:middle;">');lHtml.push('<h1 style="text-align:center;font-size:25px;width:90%;border-bottom:'+this.couleurThemeQCM+' 1px solid;margin:0 auto 25px;">',GTraductions.getValeur('ExecutionQCM.LisezIndications'),'</h1>');var lTrad='';var lImage='';if(this.executionQCM.estLieADevoir&&this.executionQCM.estLieAEvaluation){lTrad='ExecutionQCM.notation.evaluationEtDevoir';} else if(this.executionQCM.estLieADevoir){lTrad='ExecutionQCM.notation.devoir';} else if(this.executionQCM.estLieAEvaluation){lTrad='ExecutionQCM.notation.evaluation';} else if(this.executionQCM.estUnTAF){lTrad='ExecutionQCM.notation.taf';} else{lTrad='ExecutionQCM.notation.contenuCours';}
  if(lTrad!==''){lImage=this._getNomImageTypeExecutionQCM(this.executionQCM);lHtml.push('<div style="width:80%;margin:0 auto 10px"><div class="InlineBlock ',(!!lImage?lImage:''),'">&nbsp;</div><div class="InlineBlock">',GTraductions.getValeur(lTrad,[this.executionQCM.nombreDePoints])+'</div></div>');}
  lTrad='';if(this.executionQCM.dureeMaxQCM){lTrad='ExecutionQCM.presentation.limite_temps';lImage='Image_QCM_limite_temps';} else{lTrad='ExecutionQCM.presentation.sans_limite_temps';lImage='Image_QCM_sans_limite_temps';}
  if(lTrad!==''){lHtml.push('<div style="width:80%;margin:0 auto 10px"><div class="InlineBlock ',lImage,'">&nbsp;</div><div class="InlineBlock">',GTraductions.getValeur(lTrad,[TUtilitaireDuree.dureeEnMin(this.executionQCM.dureeMaxQCM)+' '+GTraductions.getValeur('ExecutionQCM.Minutes')]),'</div></div>');}
  lTrad='';var lAvecNavigationPossible=this.executionQCM.autoriserLaNavigation;if(!lAvecNavigationPossible){lTrad='ExecutionQCM.presentation.sans_retour_precedent';lImage='Image_QCM_sans_retour_precedent';} else{lTrad='ExecutionQCM.presentation.retour_precedent';lImage='Image_QCM_retour_precedent';}
  if(lTrad!==''){lHtml.push('<div style="width:80%;margin:0 auto 10px">');lHtml.push('<div class="InlineBlock ',lImage,'">&nbsp;</div>');lHtml.push('<div class="InlineBlock">',GTraductions.getValeur(lTrad),'</div>');lHtml.push('</div>');if(lAvecNavigationPossible){var lMarginDiv= -20;var lLargeurImageVide=65;lHtml.push('<div style="width:80%;margin:',lMarginDiv,'px auto 10px">');lHtml.push('<div class="InlineBlock" style="width: ',lLargeurImageVide,'px;">&nbsp;</div>');lHtml.push('<div class="InlineBlock" style="width: calc(100% - ',lLargeurImageVide,'px);font-style: italic; color: red;">',GTraductions.getValeur('ExecutionQCM.presentation.RS_IlFautCliquerSurValider'),'</div>');lHtml.push('</div>');}}
  lTrad='';if(this.executionQCM.modeDiffusionCorrige===TypeModeCorrectionQCM.FBQ_CorrigeSans){lTrad='ExecutionQCM.corrige.aucun';lImage='Image_QCM_corrige_aucun';} else if(this.executionQCM.modeDiffusionCorrige===TypeModeCorrectionQCM.FBQ_CorrigeApresQuestion){lTrad='ExecutionQCM.corrige.chaque_question';lImage='Image_QCM_corrige_chaque_question';} else if(this.executionQCM.modeDiffusionCorrige===TypeModeCorrectionQCM.FBQ_CorrigeALaFin){lTrad='ExecutionQCM.corrige.fin_qcm';lImage='Image_QCM_corrige_fin_qcm';}
  if(lTrad!==''){lHtml.push('<div style="width:80%;margin:0 auto 10px"><div class="InlineBlock ',lImage,'">&nbsp;</div><div class="InlineBlock">',GTraductions.getValeur(lTrad),'</div></div>');}
  lHtml.push('<div id="',this.idBoutonStart,'" style="width:250px;height:30px;line-height:30px;font-size:15px;border-radius: 2px;box-shadow: 0 3px 4px -3px #555555;color:#FFFFFF;text-shadow: 0 1px 1px #555555;background-color:',this.couleurThemeQCM,';text-align:center;cursor:pointer;margin:0 auto;" onclick="'+this.Nom+'.surEvenement({action: \'start\'});" tabIndex="0"><strong>',GTraductions.getValeur('ExecutionQCM.CommencerQCM'),'</strong></div>');lHtml.push('</div>');lHtml.push('</div>');return lHtml;};ObjetVisuEleve_Espace.prototype.composePagePresCorrige=function(){var lHtml=[];lHtml.push('<div style="position:absolute;top:0;left:0;right:0;bottom:0;text-align:center;">');lHtml.push('<div class="InlineBlock" style="height:100%;vertical-align:middle;"></div>');lHtml.push('<div class="InlineBlock" style="width:70%;background-color:#fff;color:#000;box-shadow: 0 3px 10px -5px #000000;font-size:20px;padding:10px 10px 30px 10px;text-align:left;vertical-align:middle;">');lHtml.push('<h1 style="text-align:center;font-size:25px;width:90%;border-bottom:'+this.couleurThemeQCM+' 1px solid;margin:0 auto 25px;">');if(this._estUnIDevoir(this.executionQCM)){lHtml.push(GTraductions.getValeur('ExecutionQCM.presentationCorrige.CorrigeIdevoirExecute'));} else{lHtml.push(GTraductions.getValeur('ExecutionQCM.presentationCorrige.CorrigeQCMExecute'));}
  lHtml.push('</h1>');var lNoteObtenue=[];var lCartoucheCompetences=[];var lNbQuestionsTotal=this.nbQuestions||(!!this.executionQCM.QCM?this.executionQCM.QCM.nbQuestionsTotal:0);if(!lNbQuestionsTotal){lNbQuestionsTotal=this.executionQCM.nbQuestRepondues;}
  var lNbReponsesDonnees=GTraductions.getValeur('ExecutionQCM.presentationCorrige.reponsesDonnees',[this.executionQCM.nbQuestRepondues,lNbQuestionsTotal,this.executionQCM.nbQuestBonnes]);if(this.executionQCM.estLieADevoir||(this.executionQCM.estUnTAF&&!!this.executionQCM.afficherResultatNote)){lNoteObtenue.push('<div style="margin-bottom: 0.5em;">',GTraductions.getValeur('ExecutionQCM.presentationCorrige.noteObtenue',[this.executionQCM.noteQCM?this.executionQCM.noteQCM.toString():'',this.executionQCM.nombreDePoints]),'</div>');}
  if(this.executionQCM.estLieAEvaluation||(this.executionQCM.estUnTAF&&!!this.executionQCM.afficherResultatNiveauMaitrise)){if(!!this.executionQCM.listeCompetences&&this.executionQCM.listeCompetences.GetNbrElements()>0){var lBgColorLigne;lCartoucheCompetences.push('<div style="margin-bottom: 0.5em;">','<div style="border: solid 1px #DDD; max-height: 200px; font-size: 0.7em;" id="',this.idCartoucheCompetences,'">');this.executionQCM.listeCompetences.parcourir(function(D,aIndexCpt){var lPastilleNiveauAcqui;if(!!D.niveauAcqui){var lNiveauGlobal=!!GParametres.listeNiveauxDAcquisitions?GParametres.listeNiveauxDAcquisitions.GetElementParGenre(D.niveauAcqui.GetGenre()):null;if(!!lNiveauGlobal){lPastilleNiveauAcqui=EGenreNiveauDAcquisition.getImage({niveauDAcquisition:lNiveauGlobal});}}
  lBgColorLigne=(aIndexCpt%2===0?'#F8F8F8':'#FFF');lCartoucheCompetences.push('<div style="padding: 0.2em 0; background-color: ',lBgColorLigne,';">','<span class="InlineBlock AlignementHaut AlignementMilieu" style="width: 50px;">',(lPastilleNiveauAcqui||''),'</span>','<span class="InlineBlock AlignementHaut" style="width: calc(100% - 150px);">',D.GetLibelle(),'</span>','<span class="InlineBlock AlignementHaut" style="width: 100px;">',(D.strPrefixes||''),'</span>','</div>');});lCartoucheCompetences.push('  </div>','</div>');}}
  lHtml.push('<div style="width:80%;margin:0 auto 10px">','<div class="InlineBlock ',this._getNomImageTypeExecutionQCM(this.executionQCM),'">&nbsp;</div>','<div class="InlineBlock" style="vertical-align:middle; width: calc(100% - 65px - 50px);">',lNoteObtenue.join(''),lCartoucheCompetences.join(''),'<div>',lNbReponsesDonnees,'</div>','</div>','</div>');var lCleTraductionLimiteTemps='';var lImageLimiteTemps='';if(this.executionQCM.dureeMaxQCM){lCleTraductionLimiteTemps='ExecutionQCM.presentationCorrige.limite_temps';lImageLimiteTemps='Image_QCM_limite_temps';} else{lCleTraductionLimiteTemps='ExecutionQCM.presentationCorrige.sans_limite_temps';lImageLimiteTemps='Image_QCM_sans_limite_temps';}
  lHtml.push('<div style="width:80%;margin:0 auto 10px"><div class="InlineBlock ',lImageLimiteTemps,'" style="vertical-align:middle;">&nbsp;</div><div class="InlineBlock" style="vertical-align:middle;">',GTraductions.getValeur(lCleTraductionLimiteTemps,[TUtilitaireDuree.dureeEnMin(this.executionQCM.dureeMaxQCM)]),(this.executionQCM.dureeMaxQCM?' '+GTraductions.getValeur('ExecutionQCM.Minutes'):''),'</div></div>');if(!this.executionQCM.estRejouable||!GEtatUtilisateur.estEspaceEleve()){lHtml.push('<div id="',this.idBoutonStart,'" style="width:250px;height:30px;line-height:30px;font-size:15px;border-radius: 2px;box-shadow: 0 3px 4px -3px #555555;color:#FFFFFF;text-shadow: 0 1px 1px #555555;background-color:',this.couleurThemeQCM,';text-align:center;cursor:pointer;margin:0 auto;" onclick="'+this.Nom+'.surEvenement({action: \'start\'});" tabIndex="0"><strong>',GTraductions.getValeur('ExecutionQCM.presentationCorrige.VisualiserCorrige'),'</strong></div>');} else{lHtml.push('<div style="text-align:center;">');lHtml.push('<div id="',this.idBoutonStart,'" class="InlineBlock" style="width:250px;height:30px;line-height:30px;font-size:15px;border-radius: 2px;box-shadow: 0 3px 4px -3px #555555;color:#FFFFFF;text-shadow: 0 1px 1px #555555;background-color:',this.couleurThemeQCM,';text-align:center;cursor:pointer;margin:0 15px;" onclick="'+this.Nom+'.surEvenement({action: \'start\'});" tabIndex="0"><strong>',GTraductions.getValeur('ExecutionQCM.presentationCorrige.VisualiserCorrige'),'</strong></div>');lHtml.push('<div id="',this.idBoutonNext,'" class="InlineBlock" style="width:250px;height:30px;line-height:30px;font-size:15px;border-radius: 2px;box-shadow: 0 3px 4px -3px #555555;color:#FFFFFF;text-shadow: 0 1px 1px #555555;background-color:',this.couleurThemeQCM,';text-align:center;cursor:pointer;margin:0 15px;" onclick="'+this.Nom+'.surEvenement({action: \'restart\'});" tabIndex="0"><strong>',GTraductions.getValeur('ExecutionQCM.presentationCorrige.RecommencerQCM'),'</strong></div>');lHtml.push('</div>');}
  lHtml.push('</div>');lHtml.push('</div>');return lHtml;};ObjetVisuEleve_Espace.prototype.composeChrono=function(){var lHtml=[];lHtml.push('<div class="Image_QCM_Chrono" style="margin:0 auto 15px;line-height:20px;padding-top:15px;"><br /><span id="',this.idValeurChrono,'"></span></div>');return lHtml;};ObjetVisuEleve_Espace.prototype.composeMajChrono=function(aTextTime,aLibelleTime){$('#'+this.idValeurChrono.escapeJQ()).IEHtml('<span style="font-size:25px;line-height:20px;">'+aTextTime+'</span><br />'+aLibelleTime);};ObjetVisuEleve_Espace.prototype.composeAffichageBarreProgression=function(){var lHeightTotal=Math.min(Math.floor(($('#'+this.idContenu).height()-120)/this.nbQuestions),26);var lHeightAvecPaddingBorder=Math.round((lHeightTotal)*0.666);var lHeightAvecPadding=lHeightAvecPaddingBorder-0;var lHeightMargin=lHeightTotal-lHeightAvecPaddingBorder;var lHeightPadding=Math.floor((lHeightAvecPadding*0.3)/2);var lHeight=lHeightAvecPadding-(2*lHeightPadding);var lPourcentCentrage=Math.floor((($('#'+this.idContenu).height()-120)/$('#'+this.idContenu).height())*100);var lHtml=[];lHtml.push('<div class="InlineBlock" style="height:',lPourcentCentrage,'%;margin:auto;vertical-align:middle;"></div>');lHtml.push('<div class="InlineBlock" style="position:relative;width:16px;vertical-align:middle;padding:5px;">');if(this.estEnCours()){lHtml.push('<div id="',this.idIndicateurProg,'" class="Image_QCM_Fleche_Position" style="position:absolute;top:'+(Math.min(this.indiceQuestion*lHeightTotal,this.nbQuestions*lHeightTotal)+Math.floor(lHeightAvecPaddingBorder/2)+1)+'px;left:-10px;"></div>');}
  for(var i=0;i<this.nbQuestions;i++){var lBackColor=this.getCouleurPointProgression(i);lHtml.push('<div id="'+this.idProgression+i+'" style="'+(this.executionQCM.autoriserLaNavigation?'cursor:pointer;':'')+'width:'+lHeight+'px;height:'+lHeight+'px;padding:'+lHeightPadding+'px;margin:0 auto '+lHeightMargin+'px;background-color:#fff;box-shadow: 0 3px 10px -5px #000000;" title="',GTraductions.getValeur('ExecutionQCM.QuestionXSurY',[i+1,this.nbQuestions]),'">','<div style="background-color:'+lBackColor+';width:'+lHeight+'px;height:'+lHeight+'px;">&nbsp;</div>','</div>');}
  lHtml.push('</div>');return lHtml;};ObjetVisuEleve_Espace.prototype.composeMiseEnFormeBarreProgression=function(){};ObjetVisuEleve_Espace.prototype.ajouterEvenementBarreProgression=function(){$('#'+this.idWrapperBarreProgression.escapeJQ()+' div[id^="'+this.idProgression+'"]').addClass('AvecMain');$('#'+this.idWrapperBarreProgression.escapeJQ()).on('click','div[id^="'+this.idProgression+'"]',{aObjet:this},function(event){var lIndice=this.id.match(/_([0-9]+)$/i)[1],lThis=event.data.aObjet;lThis.indiceQuestion=parseInt(lIndice);lThis.recupererQuestion();});};ObjetVisuEleve_Espace.prototype.composeQuestion=function(){this.evaluationNote[this.indiceQuestion]={validee:false};var lAvecAffichageNbPoints=(this.executionQCM.estLieADevoir||(this.executionQCM.estUnTAF&&this.executionQCM.afficherResultatNote));var lHtml=[];lHtml.push('<div style="position:relative;background-color:#fff;color:#000;box-shadow: 0 3px 10px -5px #000000;font-size:20px;padding:10px;margin:0 50px 50px;">');lHtml.push('<h1 id="',this.idWrapperTitre,this.indiceQuestion,'" style="font-size:18px;width:99%;border-bottom:'+this.couleurThemeQCM+' 1px solid;margin:auto;">','<table cellpadding="0" cellspacing="0" style="border:0;width:100%"><tr>','<td style="vertical-align: top; white-space: nowrap;text-align:left;color:',this.couleurThemeQCM,';">',GTraductions.getValeur('QCM.QuestionLibelle'),' ',UtilitaireQCM.composeNumerotation(this.typeNumerotation,this.indiceQuestion+1),'&nbsp;:&nbsp;</td>','<td style="vertical-align: top;width:100%;text-align:left;">',this.question.GetLibelle(),'</td>','<td style="vertical-align: top; white-space: nowrap;font-size:15px;font-style:normal;margin-left:15px;text-align:right;">','<span id="',this.idNbPoint,this.indiceQuestion,'" style="display:none;"></span>',(!lAvecAffichageNbPoints?'':('<span id="'+this.idSlashNbPoint+this.indiceQuestion+'" style="display:none;color:'+this.couleurThemeQCM+';">/</span><span style="color:'+this.couleurThemeQCM+';">'+this.question.note+' '+(parseInt(this.question.note)===1?GTraductions.getValeur('ExecutionQCM.Point'):GTraductions.getValeur('ExecutionQCM.Points'))+'</span>')),'</td>','</tr></table>','</h1>');lHtml.push('<div id="',this.idWrapperQuestion,this.indiceQuestion,'" style="'+(this.affichageUnePage?'':'overflow:auto;')+'margin:0 15px;">');lHtml.push('<div id="',this.idWrapperEnonce,this.indiceQuestion,'" class="GrandEspaceHaut PetitEspaceBas InheritLineHeight" style="overflow:auto;line-height:130%;font-size:13px'+';">',UtilitaireQCM.composeEnonce(this.question,this.Nom,this.indiceQuestion));if(this.question.image){lHtml.push('<div class="GrandEspaceHaut GrandEspaceBas"><img alt="" src="data:image/png;base64,',this.question.image,'" onerror="$(this).parent().IEHtml(GTraductions.getValeur(\'ExecutionQCM.ImageNonSupportee\'));" /></div>');}
  if(this.question.mp3name&&this.question.mp3name!==''&&this.question.mp3&&this.question.mp3!==''){lHtml.push('<audio onclick="event.stopImmediatePropagation()" id="',this.idMp3Question,this.indiceQuestion,'" style="padding:3px;" src="data:audio/mp3;base64,',this.question.mp3,'">'+GTraductions.getValeur('ExecutionQCM.AudioNonSupporte')+'</audio>');lHtml.push('<div id="',this.idMp3Control,this.indiceQuestion,'"  style="padding:3px;" class="InlineBlock"><span class="InlineBlock Image_QCM_Son_Play"></span> ',this.question.mp3name,'</div>');}
  if(this.question.url&&this.question.url!==''){lHtml.push('<div style="padding:3px;"><div class="Image_QCM_Site InlineBlock AlignementMilieuVertical"></div><a class="AlignementMilieuVertical" href="'+this.question.url+'" target="_blank">'+this.question.url+'</a></div>');}
  lHtml.push('</div>');lHtml.push('<div id="',this.idWrapperReponses,this.indiceQuestion,'" class="Texte12 GrandEspaceHaut">');lHtml=lHtml.concat(UtilitaireQCM.composeReponses(this,this.question,this.indiceQuestion));lHtml.push('</div>');if(this.question.editeur&&this.question.editeur.existeNumero()){lHtml.push('<div class="Texte11" style="text-align:right;color:'+GCouleur.fenetre.texte+';">'+GTraductions.getValeur('ExecutionQCM.CopyRightEditeur2013',[this.question.editeur.GetLibelle()])+'</div>');}
  lHtml.push('</div>');lHtml.push('</div>');return lHtml;};ObjetVisuEleve_Espace.prototype.composeRessentiEtoile=function(){var lHtml=[],i;lHtml.push('<div style="position:relative;background-color:#fff;color:#000;box-shadow: 0 3px 10px -5px #000000;font-size:20px;padding:10px;margin:0 50px 50px;">');lHtml.push('<h1 id="',this.idWrapperTitre,this.indiceQuestion,'" style="font-size:25px;width:90%;border-bottom:'+this.couleurThemeQCM+' 1px solid;margin:auto;font-style:italic;text-align:right;">'+GTraductions.getValeur('ExecutionQCM.TitreRessenti')+'</h1>');lHtml.push('<div id="',this.idWrapperQuestion,this.indiceQuestion,'" style="overflow:auto;">');lHtml.push('<div id="',this.idWrapperEnonce,this.indiceQuestion,'" class="Texte12" style="overflow:auto;">');lHtml.push('<div style="font-size:50px;text-align:center;height:50px;line-height:50px;padding:10px;">');for(i=1;i<=5;i++){lHtml.push('<span class="AvecMain InlineBlock Image_QCM_Etoile_Off" id="',this.idRessenti,'_',i,'">&nbsp;</span>');}
  lHtml.push('</div>');lHtml.push('<div class="Texte24" style="text-align:center;padding:10px;">');var lLargMax=0;for(i=1;i<=5;i++){lLargMax=Math.max(lLargMax,GChaine.GetLongueurChaineDansDiv(GTraductions.getValeur('ExecutionQCM.valeurRessenti')[i-1],24));}
  lHtml.push(GTraductions.getValeur('ExecutionQCM.phraseRessenti'));lHtml.push('<span id="',this.idTexteRessenti,'" class="InlineBlock AlignementGauche" style="width:',lLargMax,'px;"></span>');lHtml.push('</div>');lHtml.push('</div>');lHtml.push('</div>');lHtml.push('</div>');return lHtml;};ObjetVisuEleve_Espace.prototype.composeRessenti=function(){var lHtml=[];lHtml.push('<div style="position:relative;background-color:#fff;color:#000;box-shadow: 0 3px 10px -5px #000000;font-size:20px;padding:10px;margin:0 50px 50px;">');lHtml.push('<h1 id="',this.idWrapperTitre,this.indiceQuestion,'" style="font-size:25px;width:90%;border-bottom:'+this.couleurThemeQCM+' 1px solid;margin:auto;font-style:italic;text-align:right;">'+GTraductions.getValeur('ExecutionQCM.TitreRessenti')+'</h1>');lHtml.push('<div id="',this.idWrapperQuestion,this.indiceQuestion,'" style="overflow:auto;">');lHtml.push('<div id="',this.idWrapperEnonce,this.indiceQuestion,'" class="Texte12" style="overflow:auto;">');lHtml.push('<div style="font-size:40px;text-align:center;height:50px;line-height:50px;padding:50px 10px;">');lHtml.push('<div class="Texte24 InlineBlock AlignementMilieuVertical" style="height:100%;">',GTraductions.getValeur('ExecutionQCM.phraseRessenti'),'</div>');lHtml.push('<span class="AvecMain InlineBlock AlignementMilieuVertical" id="',this.idRessenti,'_0" style="width:200px;text-align:center;color:',GCouleur.grisClair,';">',GTraductions.getValeur('ExecutionQCM.valeurRessenti')[3],'</span>');lHtml.push('<span class="AvecMain InlineBlock AlignementMilieuVertical" id="',this.idRessenti,'_1" style="width:200px;text-align:center;color:',GCouleur.grisClair,';">',GTraductions.getValeur('ExecutionQCM.valeurRessenti')[1],'</span>');lHtml.push('</div>');lHtml.push('</div>');lHtml.push('</div>');lHtml.push('</div>');return lHtml;};ObjetVisuEleve_Espace.prototype.composeNavigation=function(){var lAvecAffichagePrecedent=(this.executionQCM.autoriserLaNavigation&&this.indiceQuestion>0);var lAvecAffichageSuivant=false;if((this.executionQCM.autoriserLaNavigation&&this.estEnCours())||this.executionQCM.modeDiffusionCorrige===TypeModeCorrectionQCM.FBQ_CorrigeApresQuestion){lAvecAffichageSuivant=true;}
  var lStylesBoutons=[];lStylesBoutons.push('font-size: 15px;');lStylesBoutons.push('border-radius: 2px;');lStylesBoutons.push('box-shadow: 0 3px 4px -3px #555555;');lStylesBoutons.push('cursor: pointer;');lStylesBoutons.push('width: 120px;');lStylesBoutons.push('height: 30px;');lStylesBoutons.push('line-height: 30px;');lStylesBoutons.push('text-align: center;');var lStylesBoutonValider=[];lStylesBoutonValider.push('text-shadow: 0 1px 1px #555555;');lStylesBoutonValider.push('color: #FFFFFF;');lStylesBoutonValider.push('background-color: ',this.couleurThemeQCM,';');lStylesBoutonValider.push('margin:0 auto;');if(this.estEnRessenti()){lStylesBoutonValider.push('display:none;');}
  var lStylesBoutonPrecSuivant=[];lStylesBoutonPrecSuivant.push('background-color: #FFFFFF;');lStylesBoutonPrecSuivant.push('color: ',this.couleurThemeQCM,';');lStylesBoutonPrecSuivant.push('position: absolute;');lStylesBoutonPrecSuivant.push('bottom: 3px;');var lHtml=[];lHtml.push('<div style="position:absolute;top:0;left:0;width:100%;height:100%;"><table id="',this.idWrapperNavigation,this.indiceQuestion,'" style="width:100%;height:100%;"><tr>');lHtml.push('<td style="width:100%;vertical-align:bottom; position:relative;">');if(lAvecAffichagePrecedent){lHtml.push('<div id="',this.idBoutonPrev,this.indiceQuestion,'" tabIndex="0" style="',lStylesBoutons.join(''),lStylesBoutonPrecSuivant.join(''),'left: 50px;" title="',GTraductions.getValeur('ExecutionQCM.JeReviens'),'" onclick="'+this.Nom+'.surEvenement({action: \'prev\'});">','<strong>',GTraductions.getValeur('ExecutionQCM.JeReviens'),'</strong>','</div>');}
  lHtml.push('<div id="',this.idBoutonSubmit,this.indiceQuestion,'" style="',lStylesBoutons.join(''),lStylesBoutonValider.join(''),'" onclick="'+this.Nom+'.surEvenement({action: \'submit\'});" tabIndex="0"><strong>'+(this.estEnCours()?GTraductions.getValeur('ExecutionQCM.Valider'):GTraductions.getValeur('ExecutionQCM.Terminer'))+'</strong></div>');if(lAvecAffichageSuivant){var lMasquerSuivant=(!this.executionQCM.autoriserLaNavigation&&this.executionQCM.modeDiffusionCorrige===TypeModeCorrectionQCM.FBQ_CorrigeApresQuestion)||(this.executionQCM&&this.indiceQuestion>=this.nbQuestions);lHtml.push('<div id="',this.idBoutonNext,this.indiceQuestion,'" tabIndex="0" style="',lStylesBoutons.join(''),lStylesBoutonPrecSuivant.join(''),'right: 50px;',(lMasquerSuivant?'display:none;':''),'" title="',GTraductions.getValeur('ExecutionQCM.JePasse'),'" onclick="'+this.Nom+'.surEvenement({action: \'next\'});">','<strong>',GTraductions.getValeur('ExecutionQCM.JePasse'),'</strong>','</div>');}
  lHtml.push('</td>');lHtml.push('</tr></table></div>');return lHtml;};ObjetVisuEleve_Espace.prototype.composeAffichageCorrigeSingleMultiVraiCoche=function(aSelecteur,aSansCorrige){var lIndice=$(aSelecteur).attr('id').match(/_r([0-9]+)$/)[1];var lModeBouton=$(aSelecteur).parents('.'+UtilitaireQCM.classWrapperInput).parent().hasClass('objetVisuEleveBouton');$(aSelecteur).parents('.'+UtilitaireQCM.classWrapperInput).parent().parent().next('td').IEHtmlAppend('<span class="InlineBlock AlignementMilieuVertical Image_QCM_CocheVerte"'+(lModeBouton?'':' style="padding-bottom:15px;"')+'>&nbsp;</span>');if(!aSansCorrige){$(aSelecteur).parents('table:first').find('.objetVisuEleveLabelCorrige').css('display','inline-block');$('#'+$(aSelecteur).attr('id').replace('_r','_corrige').escapeJQ()).IEHtmlAppend(UtilitaireQCM.composeSingleMulti({objetThis:this,indiceQuestion:this.indiceQuestion,reponse:this.question.listeReponses.GetElement(lIndice),indiceReponse:lIndice,type:this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_SingleChoice?'radio':'checkbox',modeBouton:$(aSelecteur).parents('.'+UtilitaireQCM.classWrapperInput).parent().hasClass('objetVisuEleveBouton'),avecReponse:true,avecFeedback:false,pourCorrige:true,dernier:parseInt(lIndice)===(this.question.listeReponses.GetNbrElements()-1)})).parent().css('border-left','#e7e7e7 2px solid');}};ObjetVisuEleve_Espace.prototype.composeAffichageCorrigeSingleMultiVraiNonCoche=function(aSelecteur){var lIndice=$(aSelecteur).attr('id').match(/_r([0-9]+)$/)[1];$(aSelecteur).parents('table:first').find('.objetVisuEleveLabelCorrige').css('display','inline-block');$('#'+$(aSelecteur).attr('id').replace('_r','_corrige').escapeJQ()).IEHtmlAppend(UtilitaireQCM.composeSingleMulti({objetThis:this,indiceQuestion:this.indiceQuestion,reponse:this.question.listeReponses.GetElement(lIndice),indiceReponse:lIndice,type:this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_SingleChoice?'radio':'checkbox',modeBouton:$(aSelecteur).parents('.'+UtilitaireQCM.classWrapperInput).parent().hasClass('objetVisuEleveBouton'),avecReponse:true,avecFeedback:false,pourCorrige:true,dernier:parseInt(lIndice)===(this.question.listeReponses.GetNbrElements()-1)})).parent().css('border-left','#e7e7e7 2px solid');};ObjetVisuEleve_Espace.prototype.composeAffichageCorrigeSingleMultiFauxCoche=function(aSelecteur){var lIndice=$(aSelecteur).attr('id').match(/_r([0-9]+)$/)[1];var lModeBouton=$(aSelecteur).parents('.'+UtilitaireQCM.classWrapperInput).parent().hasClass('objetVisuEleveBouton');$(aSelecteur).parents('table:first').find('.objetVisuEleveLabelCorrige').css('display','inline-block');$(aSelecteur).parents('.'+UtilitaireQCM.classWrapperInput).parent().parent().next('td').IEHtmlAppend('<span class="InlineBlock AlignementMilieuVertical Image_QCM_CocheRouge"'+(lModeBouton?'':' style="padding-bottom:15px;"')+'>&nbsp;</span>');$('#'+$(aSelecteur).attr('id').replace('_r','_corrige').escapeJQ()).IEHtmlAppend(UtilitaireQCM.composeSingleMulti({objetThis:this,indiceQuestion:this.indiceQuestion,reponse:this.question.listeReponses.GetElement(lIndice),indiceReponse:lIndice,type:this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_SingleChoice?'radio':'checkbox',modeBouton:$(aSelecteur).parents('.'+UtilitaireQCM.classWrapperInput).parent().hasClass('objetVisuEleveBouton'),avecReponse:true,avecFeedback:false,pourCorrige:true,dernier:parseInt(lIndice)===(this.question.listeReponses.GetNbrElements()-1)})).parent().css('border-left','#e7e7e7 2px solid');};ObjetVisuEleve_Espace.prototype.composeAffichageCorrigeSingleMultiFauxNonCoche=function(aSelecteur){var lIndice=$(aSelecteur).attr('id').match(/_r([0-9]+)$/)[1];$(aSelecteur).parents('table:first').find('.objetVisuEleveLabelCorrige').css('display','inline-block');$('#'+$(aSelecteur).attr('id').replace('_r','_corrige').escapeJQ()).IEHtmlAppend(UtilitaireQCM.composeSingleMulti({objetThis:this,indiceQuestion:this.indiceQuestion,reponse:this.question.listeReponses.GetElement(lIndice),indiceReponse:lIndice,type:this.question.GetGenre()===TypeGenreExerciceDeQuestionnaire.GEQ_SingleChoice?'radio':'checkbox',modeBouton:$(aSelecteur).parents('.'+UtilitaireQCM.classWrapperInput).parent().hasClass('objetVisuEleveBouton'),avecReponse:true,avecFeedback:false,pourCorrige:true,dernier:parseInt(lIndice)===(this.question.listeReponses.GetNbrElements()-1)})).parent().css('border-left','#e7e7e7 2px solid');};ObjetVisuEleve_Espace.prototype.composeAffichageCorrigeSingleMultiFeedback=function(aSelecteur,aCouleur,aFeedback){var lModeBouton=$(aSelecteur).parents('.'+UtilitaireQCM.classWrapperInput).parent().hasClass('objetVisuEleveBouton');if(!lModeBouton){$(aSelecteur).parents('.'+UtilitaireQCM.classWrapperInput).parent().parent().children('div').removeClass('GrandEspaceBas');}
  var lJqTd=$(aSelecteur).parents('.'+UtilitaireQCM.classWrapperInput).parent().parent().next().next();lJqTd.IEHtmlAppend('<div '+(lModeBouton?'style="border:'+GCouleur.fenetre.nonEditable.bordure+' 1px solid;padding:0 15px;line-height: 120%;" class="objetVisuEleveBoutonFeedback"':'style="padding: 0px 0px 7px; margin-bottom: 8px; border-bottom: 1px solid transparent; line-height: 110%;"')+'><div style="height:100%;" class="InlineBlock AlignementMilieuVertical"></div><div class="InlineBlock AlignementMilieuVertical Italique">'+aFeedback+'</div></div>');if(lJqTd.height()>lJqTd.children('div').outerHeight()){lJqTd.children('div').height(lJqTd.height()-2-parseInt(lJqTd.children('div').css('paddingTop'))-parseInt(lJqTd.children('div').css('paddingBottom'))-parseInt(lJqTd.children('div').css('marginTop'))-parseInt(lJqTd.children('div').css('marginBottom')));}};ObjetVisuEleve_Espace.prototype.desactiveEventSingleMulti=function(){$('[id^="'+this.Nom+'_q'+this.indiceQuestion+'_r"]').each(function(){if($(this).data('jIECheckBox')){$(this).data('jIECheckBox').destroy();}
  $(this).replaceWith(function(){if($(this).is(':radio')){if($(this).is(':checked')){return'<span class="InlineBlock AlignementMilieuVertical Image_RadioB_Coche_Fenetre" style="margin-right:2px">&nbsp;</span>';} else{return'<span class="InlineBlock AlignementMilieuVertical Image_RadioB_Decoche_Fenetre" style="margin-right:2px">&nbsp;</span>';}} else if($(this).is(':checkbox')){if($(this).is(':checked')){return'<span class="InlineBlock AlignementMilieuVertical Image_CheckB_Coche_Fenetre" style="margin-right:2px">&nbsp;</span>';} else{return'<span class="InlineBlock AlignementMilieuVertical Image_CheckB_Decoche_Fenetre" style="margin-right:2px">&nbsp;</span>';}}});});};ObjetVisuEleve_Espace.prototype.composeAffichageCorrigeShortVrai=function(aSelecteur){$(aSelecteur).attr('title',function(){return this.value;}).parents('td:first').next('td').IEHtmlAppend('<div class="Image_QCM_CocheVerte" style="margin:10px;"></div>');};ObjetVisuEleve_Espace.prototype.composeAffichageCorrigeShortFaux=function(aSelecteur,aBonneReponse){$(aSelecteur).attr('title',function(){return this.value;}).parents('td:first').next('td').IEHtmlAppend('<div class="Image_QCM_CocheRouge" style="margin:10px;"></div>');$(aSelecteur).parents('table:first').find('.objetVisuEleveLabelCorrige').css('display','inline-block');$('#'+$(aSelecteur).attr('id').replace('_r','_corrige').escapeJQ()).IEHtmlAppend('<input type="text" class="objetVisuEleveInput" value="'+aBonneReponse+'" title="'+aBonneReponse+'" readonly />').parent().css('border-left','#e7e7e7 2px solid');};ObjetVisuEleve_Espace.prototype.composeAffichageCorrigeShortFeedback=function(aSelecteur,aCouleur,aFeedback){$('#'+$(aSelecteur).attr('id').replace('_r','_feedback').escapeJQ()).IEHtml(aFeedback);};ObjetVisuEleve_Espace.prototype.desactiveEventShort=function(){var lJqInput=$('#'+this.Nom.escapeJQ()+'_q'+this.indiceQuestion+'_r0');lJqInput.on('click focus',function(aEvent){$(this).blur();aEvent.preventDefault();aEvent.stopImmediatePropagation();return false;});};ObjetVisuEleve_Espace.prototype.composeAffichageCorrigeSpellVrai=function(aSelecteur){$(aSelecteur).parents('td:first').next('td').IEHtmlAppend('<div class="Image_QCM_CocheVerte" style="margin:0 10px;"></div>');};ObjetVisuEleve_Espace.prototype.composeAffichageCorrigeSpellFaux=function(aSelecteur,aBonneReponse){$(aSelecteur).parents('td:first').next('td').IEHtmlAppend('<div class="Image_QCM_CocheRouge" style="margin:0 10px;"></div>');$(aSelecteur).parents('table:first').find('.objetVisuEleveLabelCorrige').css('display','inline-block');$('#'+$(aSelecteur).last().attr('name').replace('_r','_corrige').escapeJQ()).IEHtmlAppend($.map(aBonneReponse.split(''),function(aVal){return'<input type="text" maxLength="1" size="1"'+' style="text-align:center;border:0;border-bottom:1px #000 solid;margin-right:5px;padding:0;width:22px;"'+' value="'+aVal+'" readonly />';}).join('')).parent().css('border-left','#e7e7e7 2px solid');};ObjetVisuEleve_Espace.prototype.composeAffichageCorrigeSpellFeedback=function(aSelecteur,aCouleur,aFeedback){$('#'+$(aSelecteur).last().attr('name').replace('_r','_feedback').escapeJQ()).IEHtml(aFeedback);};ObjetVisuEleve_Espace.prototype.desactiveEventSpell=function(){$('#'+this.idWrapperReponses.escapeJQ()+this.indiceQuestion).find('input[type="text"]').on('click focus',function(aEvent){$(this).blur();aEvent.preventDefault();aEvent.stopImmediatePropagation();return false;});};ObjetVisuEleve_Espace.prototype.composeMiseEnFormeCorrigeMatching=function(){var lWidth=$('[id^="'+this.Nom+'_q'+this.indiceQuestion+'_drop"]:first').width();$('[id^="'+this.Nom+'_q'+this.indiceQuestion+'_r"], [name^="'+this.Nom+'_q'+this.indiceQuestion+'_r"]').each(function(){$(this).width(lWidth);});$('[id^="'+this.Nom+'_q'+this.indiceQuestion+'_"], [name^="'+this.Nom+'_q'+this.indiceQuestion+'_"]').each(function(){$(this).height('');});var lMaxHeightReponse=0;$('[id^="'+this.Nom+'_q'+this.indiceQuestion+'_r"], [name^="'+this.Nom+'_q'+this.indiceQuestion+'_r"]').each(function(){lMaxHeightReponse=Math.max(lMaxHeightReponse,$(this).height());});$('[id^="'+this.Nom+'_q'+this.indiceQuestion+'_drop"]').each(function(){var lMaxHeight=Math.max(lMaxHeightReponse,$(this).height(),$('#'+this.id.replace('_drop','_assoc').escapeJQ()).height());$(this).height(lMaxHeight);$('#'+this.id.replace('_drop','_assoc').escapeJQ()).height(lMaxHeight);});};ObjetVisuEleve_Espace.prototype.composeAffichageReponseCorrigeMatching=function(){};ObjetVisuEleve_Espace.prototype.composeCorrigeReponseCorrigeMatching=function(aSelecteur,aId,aBonneReponse,aCorrige){$(aSelecteur).IEHtmlAppend('<li id="'+aId+'" style="padding:5px;border:1px solid '+(aBonneReponse?'#FFFFFF':'#CCCCCC')+';margin:5px;background-color:#fff;'+(aBonneReponse?GStyle.composeBoxShadow({x:0,y:0,blur:0,spread:0,opacity:0}):'')+'">'+(aBonneReponse?'&nbsp;':aCorrige)+'</li>');var lJqElementReponse=false;if($('#'+aId.replace('_c','_drop').escapeJQ()).data('dragId')){lJqElementReponse=$('#'+$('#'+aId.replace('_c','_drop').escapeJQ()).data('dragId').escapeJQ());}
  $(aSelecteur.replace('objetVisuEleveAssocCorriges','objetVisuEleveAssocCoches')).IEHtmlAppend('<li id="'+aId.replace('_c','_image')+'" style="padding:5px;border:1px solid #FFFFFF;margin:5px;background-color:#fff;">'+(lJqElementReponse&&lJqElementReponse.text()?(aBonneReponse?'<div class="Image_QCM_CocheVerte"></div>':'<div class="Image_QCM_CocheRouge"></div>'):'<div style="width:16px;height:16px;"></div>')+'</li>');};ObjetVisuEleve_Espace.prototype.composeMiseEnFormeCorrigeReponseCorrigeMatching=function(aSelecteur){var lJqLicorrige=$('#'+aSelecteur.id.replace('_drop','_c').escapeJQ());if(lJqLicorrige.html()!=='&nbsp;'){lJqLicorrige.parents('td:first').css('border-left','#e7e7e7 2px solid');$(aSelecteur).parents('table:first').find('.objetVisuEleveLabelCorrige').css('display','inline-block');}
  var lJqElementReponse=false;if($(aSelecteur).data('dragId')){lJqElementReponse=$('#'+$(aSelecteur).data('dragId').escapeJQ());}
  var lHeight=Math.max($('#'+aSelecteur.id.replace('_drop','_assoc').escapeJQ()).height(),$('#'+aSelecteur.id.replace('_drop','_c').escapeJQ()).height());$(aSelecteur).height(lHeight);if(lJqElementReponse){lJqElementReponse.height(lHeight);}
  $('#'+aSelecteur.id.replace('_drop','_c').escapeJQ()).height(lHeight);$('#'+aSelecteur.id.replace('_drop','_image').escapeJQ()).height(lHeight);};ObjetVisuEleve_Espace.prototype.desactiveEventMatching=function(aAsymetrie){$('#'+this.idWrapperAffichage.escapeJQ()+this.indiceQuestion+' .objetVisuEleveAssocChoix').css({height:1,width:1,margin:0,padding:0,borderColor:'transparent',overflow:'hidden'});this.actualiserHauteurQuestion();var lJqDrags=$('[id^="'+this.Nom+'_q'+this.indiceQuestion+'_r"], [name^="'+this.Nom+'_q'+this.indiceQuestion+'_r"]');var lAttrName=aAsymetrie?'name':'id';$('[id^="'+this.Nom+'_q'+this.indiceQuestion+'_drop"]').each(function(){if($(this).data('dragId')){var lJqUsedDrag=lJqDrags.filter('['+lAttrName+'="'+$(this).data('dragId')+'"]:first');lJqUsedDrag.offset($(this).offset()).draggable("disable").css({cursor:'default'}).addClass('ui-dropped');lJqDrags=lJqDrags.not(lJqUsedDrag);}});lJqDrags.hide();$('#'+this.idWrapperAffichage.escapeJQ()+this.indiceQuestion+' .objetVisuEleveAssocChoix').css({overflow:'visible'});};ObjetVisuEleve_Espace.prototype.composeMiseEnFormeReponseCorrigeCloze=function(aSelecteur,aCouleur,aTexte){var lSelecteur=$(aSelecteur);if(lSelecteur.parent().is('label')){lSelecteur=lSelecteur.parent();}
  lSelecteur.replaceWith('<input class="objetVisuEleveInputCloze'+(aCouleur===this.couleurFaux?' Image_QCM_CocheRouge':' Image_QCM_CocheVerte')+'" style="background-position:right center;width:auto;height:auto;" readonly value="'+aTexte+'" />');};ObjetVisuEleve_Espace.prototype.composeMiseEnFormeWrapperEnonceCloze=function(aSelecteur){$(aSelecteur).wrapInner('<div class="EspaceBas" style="float:left;width:48%;padding-right:1%;border-right:#ccc 1px solid;overflow:auto;"></div>');};ObjetVisuEleve_Espace.prototype.composeMiseEnFormeWrapperCorrigeCloze=function(aSelecteur,aTexte){$(aSelecteur).IEHtmlAppend('<div class="EspaceBas" style="float:left;width:48%;padding-left:1%;overflow:auto;">'+aTexte+'</div>').removeClass('GrandEspaceHaut').css('clear','both').parent().prepend('<div class="Texte12">'+'<div class="EspaceHaut" style="float:left;width:48%;padding-right:1%;"></div>'+'<div class="EspaceHaut" style="float:left;width:48%;padding-left:1%;">'+'<span class="objetVisuEleveLabelCorrige" style="display:inline-block;">'+GTraductions.getValeur('ExecutionQCM.LabelCorrige')+'</span>'+'</div>'+'</div>');};ObjetVisuEleve_Espace.prototype.composeMiseEnFormeCorrectionCorrigeCloze=function(aTexte){return'<input class="objetVisuEleveInputCloze" readonly value="'+aTexte+'" />';};ObjetVisuEleve_Espace.prototype.desactiveEventCloze=function(){$('#'+this.idWrapperEnonce.escapeJQ()+this.indiceQuestion).find('select, input[type="text"]').on('click focus',function(aEvent){$(this).blur();aEvent.preventDefault();aEvent.stopImmediatePropagation();return false;});};ObjetVisuEleve_Espace.prototype.composeMajReponsesSingleMulti=function(aSelecteur,aSelected){$(aSelecteur).inputChecked(aSelected).parents('.objetVisuEleveBouton').addClass('objetVisuEleveBoutonChecked');};ObjetVisuEleve_Espace.prototype.composeMajReponsesShort=function(aSelecteur,aTexte){$(aSelecteur).val(GChaine.enleverEntites(aTexte));};ObjetVisuEleve_Espace.prototype.composeMajReponsesSpell=function(aSelecteur,aTexte){$(aSelecteur).each(function(lIndex){$(this).val(GChaine.enleverEntites(aTexte[lIndex]));});};ObjetVisuEleve_Espace.prototype.composeMajReponsesMatching=function(aSelDrop,aBaseSelDrag,aReponse,aUsedId,aAsymetrie){var lJqDrop=$(aSelDrop),lJqDrag;if(aAsymetrie){lJqDrag=$('ul.objetVisuEleveAssocChoix [id^="'+aBaseSelDrag+'"]').filter(function(index,ele){return $(ele).text()===aReponse;}).first();var lNewElement=lJqDrag.clone(false);lNewElement.attr('name',lNewElement.attr('id'));lNewElement.attr('id','');lNewElement.draggable({revert:'invalid',cursor:'move',helper:'original',cursorAt:{top:5,left:5},containment:'#'+this.idWrapperQuestion.escapeJQ()+' .jspPane',drag:this.onDrag});lJqDrag.after(lNewElement);lNewElement.offset(lJqDrop.offset());} else{lJqDrag=$('ul.objetVisuEleveAssocChoix [id^="'+aBaseSelDrag+'"]').not('#'+aUsedId.join(', #').escapeJQ()).filter(function(index,ele){return $(ele).text()===aReponse;}).first();lJqDrag.offset(lJqDrop.offset());}
  lJqDrop.data('dragId',lJqDrag.attr('id'));return lJqDrag.attr('id');};ObjetVisuEleve_Espace.prototype.composeMajReponsesCloze=function(aSelecteur,aReponse){$(aSelecteur).val(aReponse);};ObjetVisuEleve_Espace.prototype.getReponseMatching=function(aSelecteur){if($(aSelecteur).data('dragId')){var lJqElementReponse=$('#'+$(aSelecteur).data('dragId').escapeJQ());return lJqElementReponse.text();} else{return'';}};module.exports=ObjetVisuEleve_Espace;},fn:"espace/script/objetvisueleveqcm_espace.js"});;
  IE.fModule({f:function(exports,require,module,global){require('images/css/Image.css');require('DeclarationClient.js');require('espace/css/jquery.jscrollpane.css');require('produit/css/general/Alignements.css');require('produit/css/general/Texte.css');require('produit/css/general/Divers.css');require('produit/css/general/Espace.css');require('produit/css/ImagesQCM.css');require('Espace/css/communEspace.css');require('Espace/Script/Utilitaire/UtilitaireQCM_Espace.js');require('Produit/Script/ObjetVisuEleveQCM.js');require('Espace/Script/ObjetVisuEleveQCM_Espace.js');require('Produit/Script/jIECheckBox.js');require('script/Enumere/TypeHttpVariable.js');require('script/ObjetListeElements.js');require('script/Type/TypeNote.js')
  ;},fn:"declarationinitapercuqcm.js"});;
